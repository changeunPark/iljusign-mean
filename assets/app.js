angular.module("app",["ui.router","ui.bootstrap","menuControllers","userControllers","mainControllers","emailControllers","managementControllers","typeControllers","orderControllers","uiCropper"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),a.hashPrefix(""),a.html5Mode(!0),e.state("app",{url:"/",views:{header:{templateUrl:"/menues/header.html"},content:{templateUrl:"/main/form.html"},"menu@app":{templateUrl:"/menues/mainMenu.html",controller:"mainMenuCtrl",controllerAs:"mainMenu"},"account@app":{templateUrl:"/main/account.html"},"contents@app":{templateUrl:"/main/home.html"},"quickMenu@app":{templateUrl:"/main/quickMenu.html"},footer:{templateUrl:"/company/footer.html"}}}).state("app.registerStep1",{url:"register/step1",views:{"contents@app":{templateUrl:"/users/register/registerStep1.html",controller:"regCtrl",controllerAs:"register"}}}).state("app.registerStep2",{url:"register/step2",views:{"contents@app":{templateUrl:"/users/register/registerStep2.html",controller:"regCtrl",controllerAs:"register"}}}).state("app.registerStep3",{url:"register/step3",views:{"contents@app":{templateUrl:"/users/register/registerStep3.html",controller:"regCtrl",controllerAs:"register"}}}).state("app.login",{url:"login",views:{"contents@app":{templateUrl:"/users/login/login.html"}}}).state("app.user",{url:"user",views:{"contents@app":{templateUrl:"/users/partial/user.html"}}}).state("app.commerceDetail",{url:"commerce-detail",views:{"contents@app":{templateUrl:"/users/partial/commerceDetail.html"}}}).state("app.basket",{url:"basket",views:{"contents@app":{templateUrl:"/users/partial/basket.html",controller:"basketCtrl",controllerAs:"basket"}}}).state("app.category",{url:"category=:category_id",views:{"subMenu@app":{templateUrl:"/menues/subMenu.html",controller:"subMenuCtrl",controllerAs:"subMenu"},"contents@app":{templateUrl:"/categoryes/items/form.html",controller:"getTypeItemsCtrl",controllerAs:"getTypeItems"}}}).state("app.category.item_type",{url:"/item_type=:type_code",views:{"contents@app":{templateUrl:"/categoryes/items/form.html",controller:"getTypeItemsCtrl",controllerAs:"getTypeItems"}}}).state("app.category.item_type.show",{url:"/item:item_id",views:{"contents@app":{templateUrl:"/categoryes/items/item.html",controller:"getTypeItemCtrl",controllerAs:"getTypeItem"}}}).state("app.category.show",{url:"/item:item_id",views:{"contents@app":{templateUrl:"/categoryes/items/item.html",controller:"getTypeItemCtrl",controllerAs:"getTypeItem"}}}).state("app.makeOrder",{url:"makeOrder",views:{"contents@app":{templateUrl:"/order/makeOrder.html",controller:"readOrderCtrl",controllerAs:"readOrder"}}}).state("app.confirmOrder",{url:"confirmOrder",views:{"contents@app":{templateUrl:"/order/confirmOrder.html",controller:"readOrderCtrl",controllerAs:"readOrderCtrl"}}}).state("app.board",{url:"board",views:{"contents@app":{templateUrl:"/categoryes/board/form.html"}}}).state("app.management",{url:"management",views:{"content@":{templateUrl:"/management/form.html"},"menu@app.management":{templateUrl:"/management/menu.html"}}}).state("app.management.category",{url:"category",views:{"contents@app.management":{templateUrl:"/management/partial/category.html",controller:"mainMenuCtrl",controllerAs:"mainMenu"}}}).state("app.management.items",{url:"/items",views:{"contents@app.management":{templateUrl:"/management/partial/items.html",controller:"itemsCtrl",controllerAs:"items"}}}).state("app.management.items.update",{url:"/update:item_type",views:{"contents@app.management":{templateUrl:"/management/partial/type/update.html",controller:"updateTypeCtrl",controllerAs:"updateType"}}}).state("app.management.items.updateItem",{url:"/update/item:item_id",views:{"contents@app.management":{templateUrl:"/management/partial/item/update.html",controller:"updateItemCtrl",controllerAs:"updateItem"}}}).state("app.management.items.readItem",{url:":item_id",views:{"contents@app.management":{templateUrl:"/management/partial/item/read.html",controller:"readItemCtrl",controllerAs:"readItem"}}}).state("app.management.bannerUpload",{url:"/bannerUpload",views:{"contents@app.management":{templateUrl:"/management/partial/bannerUpload.html"}}}).state("app.management.orderStatus",{url:"/orderStatus",views:{"contents@app.management":{templateUrl:"/management/partial/orderStatus.html"}}}).state("app.management.members",{url:"/members",views:{"contents@app.management":{templateUrl:"/management/partial/members.html"}}}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.intro",{url:"intro",views:{"content@":{templateUrl:"/company/intro.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"content@":{templateUrl:"/company/terms.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"content@":{templateUrl:"/company/privacy.html",authenticated:!1}}})}]),app.run(["$rootScope","User","$state",function(e,t,a){e.$on("$stateChangeStart",function(e,t,a,r,n,s){}),e.$on("$stateChangeError",function(e,t,r,n,s,i){a.go("app")})}]),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var n=e(r.fileModel),s=n.assign;a.bind("change",function(){t.$apply(function(){s(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("adminServices",[]).factory("Admin",["$http",function(e){return adminFactory={},adminFactory.deleteItem=function(t){return e.delete("/api/item/"+t)},adminFactory.deleteType=function(t){return e.delete("/api/itemManagement/"+t)},adminFactory.readUpdateType=function(t){return e.get("/api/itemManagement/"+t)},adminFactory.updateUpdateType=function(t){return e.put("/api/itemManagement",t)},adminFactory.createType=function(t){return e.post("/api/item_type",t)},adminFactory.readType=function(){return e.get("/api/item_type")},adminFactory.readAristCrop=function(t){return e.post("/api/createCropImage",t)},adminFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},adminFactory.createItem=function(t){return e.post("/api/item",t)},adminFactory.readItems=function(){return e.get("/api/item")},adminFactory.readItem=function(t){return e.get("/api/item/"+t)},adminFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return console.log(e),t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("menuServices",[]).factory("Menu",["$http",function(e){return menuFactory={},menuFactory.deleteMenu=function(t){return e.delete("/api/menu/"+t)},menuFactory.updateMenu=function(t){return e.put("/api/menu/",t)},menuFactory.createMenu=function(t){return e.post("/api/menu",t)},menuFactory.readMainMenu=function(){return e.get("/api/menu")},menuFactory.readSubMenu=function(t){return e.get("/api/menu/"+t)},menuFactory}]),angular.module("orderServices",[]).factory("Order",["$http",function(e){return orderFactory={},orderFactory.updateDelivery=function(t){return e.put("/api/delivery/"+t.user_id,t)},orderFactory.createDelivery=function(t){return e.post("/api/delivery",t)},orderFactory.deleteBasket=function(t){return e.delete("/api/basket/"+t)},orderFactory.readBasket=function(){return e.get("/api/basket")},orderFactory.createBasket=function(t){return e.post("/api/basket",t)},orderFactory.deleteOrder=function(t){return e.delete("/api/makeOrder/"+t)},orderFactory.readOrder=function(t){return e.get("/api/makeOrder/"+t)},orderFactory.readOrderAndDeli=function(){return e.get("/api/makeOrder")},orderFactory.createOrder=function(t){return e.post("/api/makeOrder",t)},orderFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.getPermission=function(){return e.get("/api/permission")},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,n,s,i,o,l,d){var c=this;c.loadme=!1,s.$on("LOAD",function(){s.loading=!0}),s.$on("UNLOAD",function(){s.loading=!1}),n.$on("$stateChangeStart",function(){u?e.isLoggedIn()?(c.isLoggedIn=!0,c.loadme=!0,e.getUser().then(function(e){c.user=e.data,c.loadme=!0,l.getPermission().then(function(e){e.data.success?"admin"===e.data.permission?(c.authorized=!0,c.loadme=!0):"artist"===e.data.permission?(c.permission=!0,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0)})})):(c.user=!1,c.isLoggedIn=!1,c.loadme=!0):u()});var u=function(){if(e.isLoggedIn()){c.checkSession=!0;var t=o(function(){var e=i.localStorage.getItem("token");if(null===e)o.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(i.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(m("expired"),o.cancel(t))}},2e3)}};u(),c.renewSession=function(){c.choiceMade=!0,l.renewSession(c.user.username).then(function(e){e.data.success?(d.setToken(e.data.token),u(),p("expired")):(c.ModalBody=e.data.message,p("expired"))})},c.endSession=function(){c.choiceMade=!0,p("expired"),t(function(){m("logout")},500)};var m=function(a){c.choiceMade=!1,c.modalHeader=void 0,c.modalBody=void 0,c.hideButton=!1,"expired"===a?(c.modalHeader="Timeout Warning",c.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(c.hideButton=!0,c.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),c.isLoggedIn=!1,c.authorized=!1,c.permission=!1,c.disabled=!1,c.successMsg=!1,p("logout"),r.reload()},1e3)):"login"===a&&$("#login").modal({backdrop:"static"}),t(function(){c.choiceMade||p("logout")},2e3)},p=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e&&$("#login").modal("hide")};this.doLogin=function(a,n){c.errorMsg=!1,c.expired=!1,c.disabled=!0,n?e.login(c.loginData).then(function(e){e.data.success?(c.successMsg=e.data.message,t(function(){c.loginData=null,c.isLoggedIn=!0,u(),r.go("app")},1e3)):e.data.expired?(c.expired=!0,c.disabled=!0,c.errorMsg=e.data.message):(c.disabled=!1,c.errorMsg=e.data.message)}):(c.disabled=!1,c.loading=!1,c.errorMsg="올바른 정보를 입력해주세요.")},c.logout=function(){m("logout")},c.resend=function(){p("login"),t(function(){r.go("resend"),c.expired=!1},500)},c.resetusername=function(){p("login"),t(function(){r.go("resetusername")},500)},c.resetpassword=function(){p("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("managementControllers",["adminServices","menuServices","orderServices"]).controller("updateTypeCtrl",["$stateParams","Menu","Admin","$state",function(e,t,a,r){var n=this,s=e.item_type;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readUpdateType(s).then(function(e){n.errorMsg=!1,e.data.success?(t.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),n.updataData=e.data.result,n.data.selectedOption={id:n.updataData.category_id}):n.errorMsg=e.data.message}),this.updateType=function(e){n.updateData=e,n.updateData.category_id=n.data.selectedOption.id,n.updateData.name=n.data.selectedOption.name,a.updateUpdateType(n.updateData).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,r.reload()):n.errorMsg=e.data.message})}}]).controller("readTypeCtrl",["Admin","$state","$window","Menu",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.deleteType=function(a){n.errorMsg=!1;var r=a.item_type;e.deleteType(r).then(function(e){e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},e.readType().then(function(e){if(e.data.success){r.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(a=0;a<t.length;a++)n.data.availableOptions[a+1]={name:t[a].name,id:t[a].category_id}}else n.errorMsg=e.data.message}),n.typeDatas=e.data.result;for(var t=[],a=0;a<e.data.result.length;a++)t[a]={kind:n.typeDatas[a].kind.split(","),price:n.typeDatas[a].price.split(",")},n.typeDatas[a].kind=t[a].kind,n.typeDatas[a].price=t[a].price}else n.errorMsg=e.data.message})}]).controller("createTypeCtrl",["Admin","$state","Menu","$window",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),this.createType=function(a){n.errorMsg=!1,n.typeData={category:n.data.selectedOption.id,type_description:a.type_description,type_code:a.type_code,kind:n.type_tiny.toString(),price:n.type_price.toString()},e.createType(n.typeData).then(function(e){e.data.success?(n.success=e.data.message,t.reload()):n.errorMsg=e.data.message})},n.kindList=[],n.type_tiny=[],n.type_price=[],this.addLine=function(e){e?null===e.kindValue||void 0===e.kindValue||""===e.kindValue?r.alert("옵션명을 입력해주세요."):null===e.kindPrice||void 0===e.kindPrice||""===e.kindPrice?r.alert("옵션 가격을 입력해주세요."):(n.kindList.push({kind:e.kindValue,price:e.kindPrice}),n.type_tiny.push(e.kindValue),n.type_price.push(e.kindPrice)):r.alert("정확한 값을 입력해주세요.")}}]).controller("itemsCtrl",["Admin","$state",function(e,t){var a=this;e.readItems().then(function(e){a.errorMsg=!1,e.data.success?a.itemsData=e.data.result:a.errorMsg=e.data.message}),this.deleteItem=function(r){a.errorMsg=!1;var n=r.item_id;e.deleteItem(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}}]).controller("readItemCtrl",["Admin","$stateParams","$scope","Order","$window",function(e,t,a,r,n){var s=this,o=t.item_id;s.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},s.amount=1,e.readItem(o).then(function(e){if(e.data.success){var t=e.data.result.kind.split(","),a=e.data.result.price.split(","),r=[];for(i=0;i<a.length;i++)r[i]=Number(a[i]);for(s.itemData=e.data.result,s.data.selectedOption={id:r[0]},i=0;i<r.length;i++)s.data.availableOptions[i+1]={name:t[i],id:r[i]}}else s.errorMsg=e.data.message})}]).controller("updateItemCtrl",["Admin","$stateParams","$scope","$http","$timeout","$state","$window","Menu",function(e,t,a,r,n,s,o,l){function d(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var c=this,u=t.item_id;c.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},c.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},l.readMainMenu().then(function(e){if(c.errorMsg=!1,e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)c.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else c.errorMsg=e.data.message}),this.readMenu=function(e){if(c.errorMsg=!1,c.readMenuStatus=!1,0===e.id)o.alert("카테고리를 선택해주세요.");else{var t=e.id;r.get("/api/menu/"+t).then(function(e){if(e.data.success)if(0===e.data.result.length)c.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},o.alert("등록된 상품이 없습니다.");else{c.readMenuStatus=!0,c.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}};var t=e.data.result;for(i=0;i<t.length;i++)c.data2.availableOptions[i+1]={name:t[i].type_description,id:t[i].item_type_id}}else c.errorMsg=e.data.message})}},e.readItem(u).then(function(e){e.data.success?(c.itemData=e.data.result,c.data.selectedOption={id:c.itemData.category_id}):c.errorMsg=e.data.message}),this.updateItem=function(e){if(c.errorMsg=!1,c.readMenuStatus)if(0===e.item_type||"0"===e.item_type)o.alert("상품 분류를 선택해주세요.!");else{var t={type:e.item_type,name:e.name};r.put("/api/item/"+u,t).then(function(e){e.data.success?(c.successMsg=e.data.message,s.reload()):c.errorMsg=e.data.message})}else updateData2={type:c.itemData.item_type_id,name:e.name},r.put("/api/item/"+u,updateData2).then(function(e){e.data.success?(c.successMsg=e.data.message,s.reload()):c.errorMsg=e.data.message})},this.file={},this.mainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){n(function(){a.$emit("UNLOAD"),c.mainThumbnail={},c.mainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),c.mainThumbnail={}},this.readPhoto=function(){a.$emit("LOAD"),c.mainPhoto=!1,c.disabled=!0;var e=new FormData;e.append("myfile",c.file.upload),r.post("/api/createPhotoImage/",e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){if(e.data.success){a.$emit("UNLOAD"),o.alert(e.data.message),c.mainPhoto=!0,c.disabled=!1;var t={image:e.data.item_path};r.put("/api/item/"+u,t).then(function(e){e.data.success,console.log(e.data.message)}),c.file={}}else a.$emit("UNLOAD"),o.alert(e.data.message),c.disabled=!1,c.file={}})},this.explainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){n(function(){a.$emit("UNLOAD"),c.explainThumbnail={},c.explainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),c.explainThumbnail={}},this.readPhotoExplain=function(){a.$emit("LOAD"),c.explainPhoto=!1,c.disabled=!0;var e=new FormData;e.append("myfile",c.file.upload),r.post("/api/createPhotoExplain/",e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){if(e.data.success){a.$emit("UNLOAD"),o.alert(e.data.message),c.explainPhoto=!0,c.disabled=!1;var t={explain:e.data.item_path};r.put("/api/item/"+u,t).then(function(e){e.data.success,console.log(e.data.message)}),c.file={}}else a.$emit("UNLOAD"),o.alert(e.data.message),c.disabled=!1,c.file={}})},c.myImage="",c.myCroppedImage="";var m=function(e){a.$emit("LOAD");var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){t.$emit("UNLOAD"),c.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",m),this.readCropImage=function(t){if(a.$emit("LOAD"),c.thumbnail=!1,c.disabled=!0,""===t.base64Url||null===t.base64Url||void 0===t.base64Url)c.disabled=!1;else{a.$emit("UNLOAD");var n=d(a.myCroppedImage);e.readAristCrop(n).then(function(e){if(e.data.success){a.$emit("UNLOAD"),o.alert(e.data.message),c.thumbnail=!0,c.disabled=!1;var t={thumbnail:e.data.filePath};r.put("/api/item/"+u,t).then(function(e){e.data.success,console.log(e.data.message)})}else a.$emit("UNLOAD"),c.disabled=!1})}}}]).controller("createItemCtrl",["$http","$timeout","$scope","Admin","$state","$window","Menu",function(e,t,a,r,n,s,o){function l(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var d=this;d.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},d.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},o.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)d.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else d.errorMsg=e.data.message}),this.readMenu=function(t){if(0===t.id)s.alert("카테고리를 선택해주세요.");else{var a=t.id;e.get("/api/menu/"+a).then(function(e){if(e.data.success)if(0===e.data.result.length)d.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},s.alert("등록된 상품이 없습니다.");else{d.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}};var t=e.data.result;for(i=0;i<t.length;i++)d.data2.availableOptions[i+1]={name:t[i].type_description,id:t[i].item_type_id}}})}},this.file={},this.mainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var r=e[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t(function(){a.$emit("UNLOAD"),d.mainThumbnail={},d.mainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),d.mainThumbnail={}},this.readPhoto=function(){a.$emit("LOAD"),d.mainPhoto=!1,d.disabled=!0;var t=new FormData;t.append("myfile",d.file.upload),e.post("/api/createPhotoImage/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),d.mainPhoto=!0,d.disabled=!1,d.mainImagePath=e.data.item_path,d.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),d.disabled=!1,d.file={})})},this.explainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var r=e[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t(function(){a.$emit("UNLOAD"),d.explainThumbnail={},d.explainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),d.explainThumbnail={}},this.readPhotoExplain=function(){a.$emit("LOAD"),d.explainPhoto=!1,d.disabled=!0;var t=new FormData;t.append("myfile",d.file.upload),e.post("/api/createPhotoExplain/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),d.explainPhoto=!0,d.disabled=!1,d.explainImagePath=e.data.item_path,d.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),d.disabled=!1,d.file={})})},d.myImage="",d.myCroppedImage="";var c=function(e){a.$emit("LOAD");var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){t.$emit("UNLOAD"),d.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",c),this.readCropImage=function(e){if(a.$emit("LOAD"),d.thumbnail=!1,d.disabled=!0,""===e.base64Url||null===e.base64Url||void 0===e.base64Url)d.disabled=!1;else{a.$emit("UNLOAD");var t=l(a.myCroppedImage);r.readAristCrop(t).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),d.thumbnail=!0,d.disabled=!1,d.thumbnailPath=e.data.filePath):(a.$emit("UNLOAD"),d.disabled=!1)})}},this.createPhoto=function(e){a.$emit("LOAD"),void 0===e||null===e||""===e?(s.alert("빈칸을 모두 입력해주세요."),d.disabled=!1,a.$emit("UNLOAD")):"0"===d.data2.selectedOption.id?(a.$emit("UNLOAD"),d.disabled=!1,s.alert("상품 분류을 선택해주세요.")):void 0===d.mainImagePath||null===d.mainImagePath||""===d.mainImagePath?(a.$emit("UNLOAD"),d.disabled=!1,s.alert("상품 이미지를 입력해주세요.")):void 0===e.title||null===e.title||""===e.title?(a.$emit("UNLOAD"),d.disabled=!1,s.alert("상품 제목를 입력해주세요.")):void 0===d.explainImagePath||null===d.explainImagePath||""===d.explainImagePath?(a.$emit("UNLOAD"),d.disabled=!1,s.alert("상품 설명 이미지를 업로드해주세요.")):void 0===d.thumbnailPath||null===d.thumbnailPath||""===d.thumbnailPath?(a.$emit("UNLOAD"),d.disabled=!1,s.alert("썸네일 이미지를 업로드해주세요.")):(d.uploadData={title:e.title,type:d.data2.selectedOption.id,thumbnail:d.thumbnailPath,explain:d.explainImagePath,image:d.mainImagePath},r.createItem(d.uploadData).then(function(e){e.data.success?(a.$emit("UNLOAD"),d.disabled=!0,s.alert(e.data.message),n.reload()):(a.$emit("UNLOAD"),d.disabled=!1,s.alert(e.data.message))}))}}]),angular.module("menuControllers",["menuServices"]).controller("mainMenuCtrl",["Menu","$state",function(e,t){var a=this;e.readMainMenu().then(function(e){e.data.success?a.mainMenues=e.data.result:a.errorMsg=e.data.message}),this.createMenu=function(r){if(a.errorMsg=!1,void 0===r)a.errorMsg="올바른 정보를 입력해주세요.";else{var n={name:r.name};e.createMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}},this.update=function(r){a.errorMsg=!1;var n={category_id:r.category_id,name:r.name};e.updateMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})},this.delete=function(r){a.errorMsg=!1;var n=r.category_id;e.deleteMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}}]).controller("subMenuCtrl",["Menu","$state","$stateParams","$http",function(e,t,a,r){var n=this,s=a.category_id;r.get("/api/category/"+s).then(function(e){e.data.success&&(n.subMenuDatas=e.data.result)})}]),angular.module("orderControllers",["orderServices"]).controller("readOrderCtrl",["$stateParams","$state","$window","Order","$scope",function(e,t,a,r,n){var s=this,o=n.main.user.user_id;s.getItemFail=!1,s.cashReceipt=!0,s.cashReceipt?s.getCashReceipt=!0:s.getCashReceipt=!1,this.readAddress=function(){daum.postcode.load(function(){s.addressDetail="",new daum.Postcode({oncomplete:function(e){s.deliData={sigungu_code:e.sigunguCode,jibun_address:e.jibunAddress,road_address:e.roadAddress}}}).open()})},r.readOrderAndDeli().then(function(e){if(s.errorMsg=!1,e.data.success)if(0===e.data.result.length)s.delivery=!1,r.readOrder(o).then(function(e){var t=[];for(s.allItemPrice=0,s.orderData=e.data.result,i=0;i<s.orderData.length;i++)t[i]=s.orderData[i].price*s.orderData[i].amount;for(i=0;i<t.length;i++)s.allItemPrice=s.allItemPrice+t[i]});else{var t=[];for(s.delivery=!0,s.allItemPrice=0,s.orderData=e.data.result,i=0;i<s.orderData.length;i++)t[i]=s.orderData[i].price*s.orderData[i].amount;for(i=0;i<t.length;i++)s.allItemPrice=s.allItemPrice+t[i]}else s.errorMsg=e.data.message}),this.confirmOrder=function(e){var t="";s.delivery?void 0===e.daliData?console.log("변경사항 없음"):(t=e.daliData,r.updateDelivery(t).then(function(e){})):(t=e.daliData,e.receiptData,r.createDelivery(t).then(function(e){}))},this.delete=function(e){s.errorMsg=!1;var a=e.item_id;r.deleteOrder(a).then(function(e){e.data.success?(s.successMsg=e.data.message,t.reload()):s.errorMsg=e.data.message})}}]).controller("basketCtrl",["Order","$window","$state",function(e,t,a){var r=this;r.amount=1,r.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},this.delete=function(t){r.errorMsg=!1;var n=t.basket_id;e.deleteBasket(n).then(function(e){e.data.success?(r.successMsg=e.data.message,a.reload()):r.errorMsg=e.data.message})},this.makeBasket=function(){},e.readBasket().then(function(e){if(r.errorMsg=!1,e.data.success){r.basketData=e.data.result;var t,a=[],n=[];for(t=0;t<r.basketData.length;t++)a[t]=r.basketData[t].kind.split(","),n[t]=r.basketData[t].price.split(",");for(t=0;t<a.length;t++)for(r.data[t]={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},j=0;j<a[t].length;j++)r.data[t].availableOptions[j+1]={name:a[t][j],id:Number(n[t][j])}}else r.errorMsg=e.data.message})}]),angular.module("typeControllers",["orderServices"]).controller("getTypeItemsCtrl",["$stateParams","$http",function(e,t){var a=this,r=e.category_id;if(e.type_code){var n=e.type_code;t.get("/api/item_type/"+r,{params:{type_code:n}}).then(function(e){e.data.success?0===e.data.result.length?a.errorMsg="등록된 상품이 없습니다.":a.itemsData=e.data.result:a.errorMsg=e.data.message})}else t.get("/api/item_type/"+r).then(function(e){e.data.success?0===e.data.result.length?a.errorMsg="등록된 상품이 없습니다.":a.itemsData=e.data.result:a.errorMsg=e.data.message})}]).controller("getTypeItemCtrl",["Admin","$stateParams","$window","$state","Order",function(e,t,a,r,n){var s=this,o=t.item_id;s.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},s.amount=1,this.createBasket=function(e){var t={item_id:e.item_id};n.createBasket(t).then(function(e){e.data.success,a.alert(e.data.message)})},this.createOrder=function(e){var t={item_id:e.item_id,amount:e.amount,kind_of:e.kind_of,price:e.price};n.createOrder(t).then(function(e){e.data.success?(s.successMsg=e.data.message,r.go("app.makeOrder")):s.errorMsg=e.data})},e.readItem(o).then(function(e){if(e.data.success){var t=e.data.result.kind.split(","),a=e.data.result.price.split(","),r=[];for(i=0;i<a.length;i++)r[i]=Number(a[i]);for(s.itemData=e.data.result,s.data.selectedOption={id:r[0],name:t[0]},i=0;i<r.length;i++)s.data.availableOptions[i+1]={name:t[i],id:r[i]}}else s.errorMsg=e.data.message})}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var n=this;t.activeAccount(e.token).then(function(e){n.successMsg=!1,n.errorMsg=!1,e.data.success?(n.disabled=!0,n.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(n.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(n,s){r.errorMsg=!1,r.disabled=!0,s?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(n,s){r.errorMsg=!1,r.disabled=!0,
s?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,n){var s=this;s.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(s.hide=!1,t.alert="alert alert-success",s.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",s.errorMsg=e.data.message)}),s.savePassword=function(e,i,o){s.errorMsg=!1,s.successMsg=!1,s.disabled=!0,s.loading=!0,i&&o?(s.regData.username=t.username,a.savePassword(s.regData).then(function(e){s.loading=!1,e.data.success?(t.alert="alert alert-success",s.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){n.go("app")},2e3)):(t.alert="alert alert-danger",s.disabled=!1,s.errorMsg=e.data.message)})):(t.alert="alert alert-danger",s.loading=!1,s.disabled=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,n,s){var i=this;this.regStep1=function(e){i.errorMsg=!1,e?e.terms&&e.privacy?(i.successMsg="약관에 성공적으로 동의하셨습니다.",i.disabled=!0,s.go("app.registerStep2")):(i.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",i.disabled=!1):i.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,a){i.errorMsg=!1,i.disabled=!0,s.go("app.registerStep3")},this.regStep3=function(e,t,o){i.errorMsg=!1,i.disabled=!0,t&&o?r.create(i.regData).then(function(e){e.data.success?(i.disabled=!0,i.successMsg=e.data.message,n.login(i.regData).then(function(e){e.data.success?(i.disabled=!0,i.successMsg=e.data.message,a(function(){s.go("app")},1e3)):e.data.expired?(i.expired=!0,i.disabled=!0,i.errorMsg=e.data.message):(i.disabled=!1,i.errorMsg=e.data.message)})):(i.disabled=!1,i.errorMsg=e.data.message)}):(i.disabled=!1,i.loading=!1,i.errorMsg="올바른 정보를 입력해주세요.")}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiZGlyZWN0aXZlcy9maWxlTW9kZWwuanMiLCJkaXJlY3RpdmVzL21hdGNoUGFzc3dvcmQuanMiLCJzZXJ2aWNlcy9hZG1pblNlcnZpY2VzLmpzIiwic2VydmljZXMvYXV0aFNlcnZpY2VzLmpzIiwic2VydmljZXMvbWVudVNlcnZpY2VzLmpzIiwic2VydmljZXMvb3JkZXJTZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3VzZXJTZXJ2aWNlcy5qcyIsImNvbnRvcm9sbGVycy9tYWluL21haW5Db250cm9sbGVycy5qcyIsImNvbnRvcm9sbGVycy9tYWluL21hbmFnZW1lbnRDb250cm9sbGVycy5qcyIsImNvbnRvcm9sbGVycy9tYWluL21lbnVDb250cm9sbGVycy5qcyIsImNvbnRvcm9sbGVycy9tYWluL29yZGVyQ29udHJvbGxlcnMuanMiLCJjb250b3JvbGxlcnMvbWFpbi90eXBlQ29udHJvbGxlcnMuanMiLCJjb250b3JvbGxlcnMvdXNlci9lbWFpbEN0cmwuanMiLCJjb250b3JvbGxlcnMvdXNlci91c2VyQ3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCJhcHAiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwiaGFzaFByZWZpeCIsImh0bWw1TW9kZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJoZWFkZXIiLCJ0ZW1wbGF0ZVVybCIsImNvbnRlbnQiLCJtZW51QGFwcCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJhY2NvdW50QGFwcCIsImNvbnRlbnRzQGFwcCIsInF1aWNrTWVudUBhcHAiLCJmb290ZXIiLCJzdWJNZW51QGFwcCIsImNvbnRlbnRAIiwibWVudUBhcHAubWFuYWdlbWVudCIsImNvbnRlbnRzQGFwcC5tYW5hZ2VtZW50IiwiYXV0aGVudGljYXRlZCIsInJ1biIsIiRyb290U2NvcGUiLCJVc2VyIiwiJHN0YXRlIiwiJG9uIiwiZXZlbnQiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwib3B0aW9ucyIsImVycm9yIiwiZ28iLCJkaXJlY3RpdmUiLCIkcGFyc2UiLCJyZXN0cmljdCIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsInBhcnNlZEZpbGUiLCJmaWxlTW9kZWwiLCJwYXJzZWRmaWxlU2V0dGVyIiwiYXNzaWduIiwiYmluZCIsIiRhcHBseSIsImZpbGVzIiwiJHNjb3BlIiwiZG9Db25maXJtIiwidmFsdWVzIiwiY29uZmlybWVkIiwiZm9yRWFjaCIsImVsZSIsImNvbmZpcm0iLCIkb2JzZXJ2ZSIsIm1hdGNoZXMiLCJKU09OIiwicGFyc2UiLCJtYXRjaCIsIiR3YXRjaCIsImZhY3RvcnkiLCIkaHR0cCIsImFkbWluRmFjdG9yeSIsImRlbGV0ZUl0ZW0iLCJpdGVtX2lkIiwiZGVsZXRlIiwiZGVsZXRlVHlwZSIsIml0ZW1fdHlwZV9pZCIsInJlYWRVcGRhdGVUeXBlIiwiaXRlbV90eXBlIiwiZ2V0IiwidXBkYXRlVXBkYXRlVHlwZSIsInVwZGF0ZURhdGEiLCJwdXQiLCJjcmVhdGVUeXBlIiwidHlwZURhdGEiLCJwb3N0IiwicmVhZFR5cGUiLCJyZWFkQXJpc3RDcm9wIiwiYmxvYiIsImNyZWF0ZUFyaXN0UGhvdG8iLCJwaG90b0RhdGEiLCJjcmVhdGVJdGVtIiwiaXRlbURhdGEiLCJyZWFkSXRlbXMiLCJyZWFkSXRlbSIsIkF1dGhUb2tlbiIsImF1dGhGYWN0b3J5IiwiZ2V0VXNlciIsImdldFRva2VuIiwiJHEiLCJyZWplY3QiLCJtZXNzYWdlIiwibG9naW4iLCJsb2dpbkRhdGEiLCJ0aGVuIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJzZXRUb2tlbiIsInRva2VuIiwiaXNMb2dnZWRJbiIsImxvZ291dCIsIiR3aW5kb3ciLCJhdXRoVG9rZW5GYWN0b3J5IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJnZXRJdGVtIiwiYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkiLCJyZXF1ZXN0IiwiaGVhZGVycyIsIm1lbnVGYWN0b3J5IiwiZGVsZXRlTWVudSIsImNhdGVnb3J5X2lkIiwidXBkYXRlTWVudSIsImNyZWF0ZU1lbnUiLCJtZW51RGF0YSIsInJlYWRNYWluTWVudSIsInJlYWRTdWJNZW51IiwibWFpbk1lbnVUeXBlIiwib3JkZXJGYWN0b3J5IiwidXBkYXRlRGVsaXZlcnkiLCJkZWxpRGF0YSIsInVzZXJfaWQiLCJjcmVhdGVEZWxpdmVyeSIsImRlbGV0ZUJhc2tldCIsImJhc2tldF9pZCIsInJlYWRCYXNrZXQiLCJjcmVhdGVCYXNrZXQiLCJiYXNrZXREYXRhIiwiZGVsZXRlT3JkZXIiLCJyZWFkT3JkZXIiLCJyZWFkT3JkZXJBbmREZWxpIiwiY3JlYXRlT3JkZXIiLCJvcmRlckRhdGEiLCJ1c2VyRmFjdG9yeSIsImdldFBlcm1pc3Npb24iLCJjcmVhdGUiLCJyZWdEYXRhIiwiYWN0aXZlQWNjb3VudCIsImNoZWNrQ3JlZGVudGlhbHMiLCJyZXNlbmRMaW5rIiwidXNlcm5hbWUiLCJzZW5kVXNlcm5hbWUiLCJ1c2VyRGF0YSIsInNlbmRQYXNzd29yZCIsInJlc2V0RGF0YSIsInJlc2V0UGFzc3dvcmQiLCJzYXZlUGFzc3dvcmQiLCJyZW5ld1Nlc3Npb24iLCJBdXRoIiwiJHRpbWVvdXQiLCIkbG9jYXRpb24iLCIkaW50ZXJ2YWwiLCJ0aGlzIiwibG9hZG1lIiwibG9hZGluZyIsImNoZWNrU2Vzc2lvbiIsInVzZXIiLCJzdWNjZXNzIiwicGVybWlzc2lvbiIsImF1dGhvcml6ZWQiLCJpbnRlcnZhbCIsImNhbmNlbCIsInNlbGYiLCJwYXJzZUp3dCIsImJhc2U2NFVybCIsInNwbGl0IiwiYmFzZTY0IiwicmVwbGFjZSIsImF0b2IiLCJleHBpcmVUaW1lIiwidGltZVN0YW1wIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsImV4cCIsInNob3dNb2RhbCIsImNob2ljZU1hZGUiLCJoaWRlTW9kYWwiLCJNb2RhbEJvZHkiLCJlbmRTZXNzaW9uIiwib3B0aW9uIiwibW9kYWxIZWFkZXIiLCJ1bmRlZmluZWQiLCJtb2RhbEJvZHkiLCJoaWRlQnV0dG9uIiwiJCIsIm1vZGFsIiwiYmFja2Ryb3AiLCJkaXNhYmxlZCIsInN1Y2Nlc3NNc2ciLCJyZWxvYWQiLCJkb0xvZ2luIiwidmFsaWQiLCJlcnJvck1zZyIsImV4cGlyZWQiLCJyZXNlbmQiLCJyZXNldHVzZXJuYW1lIiwicmVzZXRwYXNzd29yZCIsIiRzdGF0ZVBhcmFtcyIsIk1lbnUiLCJBZG1pbiIsImF2YWlsYWJsZU9wdGlvbnMiLCJpZCIsIm5hbWUiLCJzZWxlY3RlZE9wdGlvbiIsInR5cGUiLCJyZXN1bHQiLCJpIiwibGVuZ3RoIiwidXBkYXRhRGF0YSIsInVwZGF0ZVR5cGUiLCJ0eXBlRGF0YXMiLCJraW5kRGF0YXMiLCJraW5kIiwicHJpY2UiLCJjYXRlZ29yeSIsInR5cGVfZGVzY3JpcHRpb24iLCJ0eXBlX2NvZGUiLCJ0eXBlX3RpbnkiLCJ0b1N0cmluZyIsInR5cGVfcHJpY2UiLCJraW5kTGlzdCIsImFkZExpbmUiLCJraW5kRGF0YSIsImtpbmRWYWx1ZSIsImFsZXJ0Iiwia2luZFByaWNlIiwiaXRlbXNEYXRhIiwiT3JkZXIiLCJhbW91bnQiLCJ0ZW1wIiwiTnVtYmVyIiwiZGVjb2RlQmFzZTY0SW1hZ2UiLCJkYXRhU3RyaW5nIiwiRXJyb3IiLCJkYXRhMiIsInJlYWRNZW51IiwicmVhZE1lbnVTdGF0dXMiLCJ1cGRhdGVJdGVtIiwidXBkYXRlRGF0YTIiLCJmaWxlIiwibWFpblBob3RvQ2hhbmdlZCIsIiRlbWl0IiwiZmlsZVJlYWRlciIsIkZpbGVSZWFkZXIiLCJyZWFkQXNEYXRhVVJMIiwib25sb2FkIiwiZSIsIm1haW5UaHVtYm5haWwiLCJkYXRhVXJsIiwidGFyZ2V0IiwicmVhZFBob3RvIiwibWFpblBob3RvIiwiZmQiLCJGb3JtRGF0YSIsImFwcGVuZCIsInVwbG9hZCIsInRyYW5zZm9ybVJlcXVlc3QiLCJpZGVudGl0eSIsIkNvbnRlbnQtVHlwZSIsImltYWdlIiwiaXRlbV9wYXRoIiwiZXhwbGFpblBob3RvQ2hhbmdlZCIsImV4cGxhaW5UaHVtYm5haWwiLCJyZWFkUGhvdG9FeHBsYWluIiwiZXhwbGFpblBob3RvIiwiZXhwbGFpbiIsIm15SW1hZ2UiLCJteUNyb3BwZWRJbWFnZSIsImhhbmRsZUZpbGVTZWxlY3QiLCJldnQiLCJjdXJyZW50VGFyZ2V0IiwicmVhZGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib24iLCJyZWFkQ3JvcEltYWdlIiwidGh1bWJuYWlsIiwiZmlsZVBhdGgiLCJtYWluSW1hZ2VQYXRoIiwiZXhwbGFpbkltYWdlUGF0aCIsInRodW1ibmFpbFBhdGgiLCJjcmVhdGVQaG90byIsInVwbG9hZERhdGEiLCJ0aXRsZSIsIm1haW5NZW51ZXMiLCJ1cGRhdGUiLCJkZWxldGVEYXRhIiwic3ViTWVudURhdGFzIiwibWFpbiIsImdldEl0ZW1GYWlsIiwiY2FzaFJlY2VpcHQiLCJnZXRDYXNoUmVjZWlwdCIsInJlYWRBZGRyZXNzIiwiZGF1bSIsInBvc3Rjb2RlIiwibG9hZCIsImFkZHJlc3NEZXRhaWwiLCJQb3N0Y29kZSIsIm9uY29tcGxldGUiLCJzaWd1bmd1X2NvZGUiLCJzaWd1bmd1Q29kZSIsImppYnVuX2FkZHJlc3MiLCJqaWJ1bkFkZHJlc3MiLCJyb2FkX2FkZHJlc3MiLCJyb2FkQWRkcmVzcyIsIm9wZW4iLCJkZWxpdmVyeSIsIml0ZW1QcmljZSIsImFsbEl0ZW1QcmljZSIsImNvbmZpcm1PcmRlciIsImRhbGlEYXRhIiwicmVjZWlwdERhdGEiLCJtYWtlQmFza2V0IiwiaiIsInBhcmFtcyIsImtpbmRfb2YiLCJlbWFpbCIsImhpZGUiLCJyZWdTdGVwMSIsInJlZ1N0ZXAyIiwicmVnU3RlcDMiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE9BQ0EsWUFDQSxlQUNBLGtCQUNBLGtCQUNBLGtCQUNBLG1CQUNBLHdC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RUFBQXFNLFVBQUEsRUFDQXJNLEVBQUFzTSxXQUFBakcsRUFBQUEsS0FBQUosUUFDQTRELEVBQUEsV0FDQWpJLEVBQUFTLEdBQUEsUUFDQSxNQUVBZ0UsRUFBQUEsS0FBQXNHLFNBQ0EzTSxFQUFBMk0sU0FBQSxFQUNBM00sRUFBQXFNLFVBQUEsRUFDQXJNLEVBQUEwTSxTQUFBckcsRUFBQUEsS0FBQUosVUFFQWpHLEVBQUFxTSxVQUFBLEVBQ0FyTSxFQUFBME0sU0FBQXJHLEVBQUFBLEtBQUFKLGFBS0FqRyxFQUFBcU0sVUFBQSxFQUNBck0sRUFBQTBNLFNBQUFyRyxFQUFBQSxLQUFBSixZQUtBakcsRUFBQXFNLFVBQUEsRUFDQXJNLEVBQUFrSyxTQUFBLEVBQ0FsSyxFQUFBME0sU0FBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwJyxbXHJcbiAgICAndWkucm91dGVyJyxcclxuICAgICd1aS5ib290c3RyYXAnLFxyXG4gICAgJ21lbnVDb250cm9sbGVycycsXHJcbiAgICAndXNlckNvbnRyb2xsZXJzJyxcclxuICAgICdtYWluQ29udHJvbGxlcnMnLFxyXG4gICAgJ2VtYWlsQ29udHJvbGxlcnMnLFxyXG4gICAgJ21hbmFnZW1lbnRDb250cm9sbGVycycsXHJcbiAgICAndHlwZUNvbnRyb2xsZXJzJyxcclxuICAgICdvcmRlckNvbnRyb2xsZXJzJyxcclxuICAgICd1aUNyb3BwZXInXHJcbl0pLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKXtcclxuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBdXRoSW50ZXJjZXB0b3JzJyk7XHJcbn0pO1xyXG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xyXG4kdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XHJcbiRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJycpO1xyXG4kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcblxyXG4gJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAuc3RhdGUoJ2FwcCcsIHtcclxuICAgICAgICAgICAgIHVybDogJy8nLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnaGVhZGVyJzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tZW51ZXMvaGVhZGVyLmh0bWwnXHJcbiAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICdjb250ZW50Jzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ21lbnVAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21lbnVlcy9tYWluTWVudS5odG1sJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbk1lbnVDdHJsJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdtYWluTWVudSdcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2FjY291bnRAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vYWNjb3VudC5odG1sJ1xyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vaG9tZS5odG1sJ1xyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAncXVpY2tNZW51QGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL3F1aWNrTWVudS5odG1sJ1xyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAnZm9vdGVyJzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L2Zvb3Rlci5odG1sJ1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5yZWdpc3RlclN0ZXAxJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAncmVnaXN0ZXIvc3RlcDEnLFxyXG4gICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZWdpc3Rlci9yZWdpc3RlclN0ZXAxLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVnaXN0ZXInXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAucmVnaXN0ZXJTdGVwMicsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJ3JlZ2lzdGVyL3N0ZXAyJyxcclxuICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVnaXN0ZXIvcmVnaXN0ZXJTdGVwMi5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZWdDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJ1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAucmVnaXN0ZXJTdGVwMycsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJ3JlZ2lzdGVyL3N0ZXAzJyxcclxuICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVnaXN0ZXIvcmVnaXN0ZXJTdGVwMy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZWdDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJ1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAubG9naW4nLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnbG9naW4nLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9sb2dpbi9sb2dpbi5odG1sJyxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC51c2VyJywge1xyXG4gICAgICAgICAgICAgIHVybDogJ3VzZXInLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9wYXJ0aWFsL3VzZXIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5jb21tZXJjZURldGFpbCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICdjb21tZXJjZS1kZXRhaWwnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9wYXJ0aWFsL2NvbW1lcmNlRGV0YWlsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYmFza2V0Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJ2Jhc2tldCcsXHJcbiAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3BhcnRpYWwvYmFza2V0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYmFza2V0Q3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2Jhc2tldCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5jYXRlZ29yeScsIHtcclxuICAgICAgICAgICAgICB1cmw6ICdjYXRlZ29yeT06Y2F0ZWdvcnlfaWQnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnc3ViTWVudUBhcHAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21lbnVlcy9zdWJNZW51Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc3ViTWVudUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdzdWJNZW51J1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NhdGVnb3J5ZXMvaXRlbXMvZm9ybS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dldFR5cGVJdGVtc0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnZXRUeXBlSXRlbXMnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5jYXRlZ29yeS5pdGVtX3R5cGUnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2l0ZW1fdHlwZT06dHlwZV9jb2RlJyxcclxuICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY2F0ZWdvcnllcy9pdGVtcy9mb3JtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2V0VHlwZUl0ZW1zQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dldFR5cGVJdGVtcydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmNhdGVnb3J5Lml0ZW1fdHlwZS5zaG93Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9pdGVtOml0ZW1faWQnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2l0ZW1zL2l0ZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZXRUeXBlSXRlbUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnZXRUeXBlSXRlbSdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5jYXRlZ29yeS5zaG93Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9pdGVtOml0ZW1faWQnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2l0ZW1zL2l0ZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZXRUeXBlSXRlbUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnZXRUeXBlSXRlbSdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYWtlT3JkZXInLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnbWFrZU9yZGVyJyxcclxuICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvb3JkZXIvbWFrZU9yZGVyLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVhZE9yZGVyQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlYWRPcmRlcidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5jb25maXJtT3JkZXInLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnY29uZmlybU9yZGVyJyxcclxuICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvb3JkZXIvY29uZmlybU9yZGVyLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVhZE9yZGVyQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlYWRPcmRlckN0cmwnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2JvYXJkL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50JyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnbWFuYWdlbWVudCcsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudEAnIDoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9mb3JtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgJ21lbnVAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L21lbnUuaHRtbCdcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLm1hbmFnZW1lbnQuY2F0ZWdvcnknLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICdjYXRlZ29yeScsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvY2F0ZWdvcnkuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbk1lbnVDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ21haW5NZW51J1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLm1hbmFnZW1lbnQuaXRlbXMnLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvaXRlbXMnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5tYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9wYXJ0aWFsL2l0ZW1zLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2l0ZW1zQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdpdGVtcydcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLm1hbmFnZW1lbnQuaXRlbXMudXBkYXRlJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL3VwZGF0ZTppdGVtX3R5cGUnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5tYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9wYXJ0aWFsL3R5cGUvdXBkYXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VwZGF0ZVR5cGVDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VwZGF0ZVR5cGUnXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLm1hbmFnZW1lbnQuaXRlbXMudXBkYXRlSXRlbScsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy91cGRhdGUvaXRlbTppdGVtX2lkJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAubWFuYWdlbWVudCc6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC9pdGVtL3VwZGF0ZS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1cGRhdGVJdGVtQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd1cGRhdGVJdGVtJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAubWFuYWdlbWVudC5pdGVtcy5yZWFkSXRlbScsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJzppdGVtX2lkJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAubWFuYWdlbWVudCc6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC9pdGVtL3JlYWQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVhZEl0ZW1DdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlYWRJdGVtJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50LmJhbm5lclVwbG9hZCcsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy9iYW5uZXJVcGxvYWQnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5tYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9wYXJ0aWFsL2Jhbm5lclVwbG9hZC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50Lm9yZGVyU3RhdHVzJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL29yZGVyU3RhdHVzJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAubWFuYWdlbWVudCc6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC9vcmRlclN0YXR1cy5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50Lm1lbWJlcnMnLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvbWVtYmVycycsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvbWVtYmVycy5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvdXNlcm5hbWUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJuYW1lQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndXNlcm5hbWUnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L3Bhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwYXNzd29yZEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Bhc3N3b3JkJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNldCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXQvOnRva2VuJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC9uZXdwYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZXRDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZXNldCdcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FjdGl2YXRlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9hY3RpdmF0ZS86dG9rZW4nLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL2FjdGl2YXRpb24vYWN0aXZhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2VtYWlsQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZW1haWwnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2VuZCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZW5kJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9hY3RpdmF0aW9uL3Jlc2VuZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZW5kQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVzZW5kJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmludHJvJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ2ludHJvJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NvbXBhbnkvaW50cm8uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAudGVybXMnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAndGVybXMnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS90ZXJtcy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5wcml2YWN5JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ3ByaXZhY3knLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9wcml2YWN5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG59KTtcclxuXHJcbmFwcC5ydW4oZnVuY3Rpb24oJHJvb3RTY29wZSwgVXNlciwgJHN0YXRlKXtcclxuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCAgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIG9wdGlvbnMpe1xyXG4gIH0pO1xyXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3Ipe1xyXG4gICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uZGlyZWN0aXZlKCdmaWxlTW9kZWwnLGZ1bmN0aW9uKCRwYXJzZSl7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG4gICAgICB2YXIgcGFyc2VkRmlsZSA9ICRwYXJzZShhdHRycy5maWxlTW9kZWwpO1xyXG4gICAgICB2YXIgcGFyc2VkZmlsZVNldHRlciA9IHBhcnNlZEZpbGUuYXNzaWduO1xyXG5cclxuICAgICAgZWxlbWVudC5iaW5kKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICBwYXJzZWRmaWxlU2V0dGVyKHNjb3BlLCBlbGVtZW50WzBdLmZpbGVzWzBdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uZGlyZWN0aXZlKCdtYXRjaCcsZnVuY3Rpb24oKXtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIGNvbnRyb2xsZXI6ZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgJHNjb3BlLmRvQ29uZmlybSA9IGZ1bmN0aW9uKHZhbHVlcyl7XHJcblxyXG4gICAgICAgICRzY29wZS5jb25maXJtZWQgPSBmYWxzZTtcclxuICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihlbGUpe1xyXG4gICAgICAgICAgaWYoJHNjb3BlLmNvbmZpcm0gPT0gZWxlKXtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IHRydWU7XHJcbiAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jb25maXJtZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgbGluazpmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG4gICAgICBhdHRycy4kb2JzZXJ2ZSgnbWF0Y2gnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBKU09OLnBhcnNlKGF0dHJzLm1hdGNoKTtcclxuICAgICAgICBzY29wZS5kb0NvbmZpcm0oc2NvcGUubWF0Y2hlcyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGUuJHdhdGNoKCdjb25maXJtJywgZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS5tYXRjaGVzID0gSlNPTi5wYXJzZShhdHRycy5tYXRjaCk7XHJcbiAgICAgICAgc2NvcGUuZG9Db25maXJtKHNjb3BlLm1hdGNoZXMpO1xyXG5cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhZG1pblNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0FkbWluJywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGFkbWluRmFjdG9yeSA9IHt9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkuZGVsZXRlSXRlbSA9IGZ1bmN0aW9uKGl0ZW1faWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS9pdGVtLycraXRlbV9pZCk7XHJcbiAgfTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LmRlbGV0ZVR5cGUgPSBmdW5jdGlvbihpdGVtX3R5cGVfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS9pdGVtTWFuYWdlbWVudC8nK2l0ZW1fdHlwZV9pZCk7XHJcbiAgfTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LnJlYWRVcGRhdGVUeXBlID0gZnVuY3Rpb24oaXRlbV90eXBlKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvaXRlbU1hbmFnZW1lbnQvJytpdGVtX3R5cGUpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS51cGRhdGVVcGRhdGVUeXBlID0gZnVuY3Rpb24odXBkYXRlRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2l0ZW1NYW5hZ2VtZW50JywgdXBkYXRlRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LmNyZWF0ZVR5cGUgPSBmdW5jdGlvbih0eXBlRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9pdGVtX3R5cGUnLCB0eXBlRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LnJlYWRUeXBlID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvaXRlbV90eXBlJyk7XHJcbiAgfTtcclxuICBhZG1pbkZhY3RvcnkucmVhZEFyaXN0Q3JvcCA9IGZ1bmN0aW9uKGJsb2Ipe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY3JlYXRlQ3JvcEltYWdlJywgYmxvYik7XHJcbiAgfTtcclxuICAvLyBBcnRpc3QuY3JlYXRlUGhvdG8ocGhvdG9EYXRhKVxyXG4gIGFkbWluRmFjdG9yeS5jcmVhdGVBcmlzdFBob3RvID0gZnVuY3Rpb24ocGhvdG9EYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2FydGlzdFByb2ZpbGVzJywgcGhvdG9EYXRhKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkuY3JlYXRlSXRlbSA9IGZ1bmN0aW9uKGl0ZW1EYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2l0ZW0nLCBpdGVtRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LnJlYWRJdGVtcyA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2l0ZW0nKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkucmVhZEl0ZW0gPSBmdW5jdGlvbihpdGVtX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvaXRlbS8nK2l0ZW1faWQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBhZG1pbkZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXV0aFNlcnZpY2VzJyxbXSlcclxuXHJcbi5mYWN0b3J5KCdBdXRoJywgZnVuY3Rpb24oJGh0dHAsIEF1dGhUb2tlbil7XHJcbiAgICB2YXIgYXV0aEZhY3RvcnkgPSB7fTtcclxuLy8gQXV0aC5nZXRVc2VyKCk7XHJcbiAgICBhdXRoRmFjdG9yeS5nZXRVc2VyID0gZnVuY3Rpb24oKXtcclxuICAgICAgaWYoQXV0aFRva2VuLmdldFRva2VuKCkpe1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL21lJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHEucmVqZWN0KHttZXNzYWdlOidVc2VyIGhhcyBubyB0b2tlbid9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8vIEF1dGgubG9naW4obG9naW5EYXRhKTtcclxuICAgIGF1dGhGYWN0b3J5LmxvZ2luID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYXV0aGVudGljYXRlJywgbG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIEF1dGhUb2tlbi5zZXRUb2tlbihkYXRhLmRhdGEudG9rZW4pO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmlzTG9nZ2VkSW4oKTtcclxuICAgIGF1dGhGYWN0b3J5LmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpe1xyXG4gICAgICBpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSl7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5sb2dvdXQoKTtcclxuICAgIGF1dGhGYWN0b3J5LmxvZ291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIEF1dGhUb2tlbi5zZXRUb2tlbigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBhdXRoRmFjdG9yeTtcclxufSlcclxuXHJcbi5mYWN0b3J5KCdBdXRoVG9rZW4nLCBmdW5jdGlvbigkd2luZG93KXtcclxuICB2YXIgYXV0aFRva2VuRmFjdG9yeSA9IHt9O1xyXG5cclxuICAvLyBBdXRoVG9rZW4uc2V0VG9rZW4odG9rZW4pO1xyXG4gIGF1dGhUb2tlbkZhY3Rvcnkuc2V0VG9rZW4gPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICBpZih0b2tlbil7XHJcbiAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuLy8gQXV0aFRva2VuLmdldFRva2VuKCk7XHJcbiAgYXV0aFRva2VuRmFjdG9yeS5nZXRUb2tlbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuICB9O1xyXG4gIHJldHVybiBhdXRoVG9rZW5GYWN0b3J5O1xyXG59KVxyXG5cclxuLmZhY3RvcnkoJ0F1dGhJbnRlcmNlcHRvcnMnLCBmdW5jdGlvbihBdXRoVG9rZW4pe1xyXG4gIHZhciBhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeSA9IHt9O1xyXG5cclxuICBhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeS5yZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKXtcclxuICAgIHZhciB0b2tlbiA9IEF1dGhUb2tlbi5nZXRUb2tlbigpO1xyXG5cclxuICAgIGlmKHRva2VuKSBjb25maWcuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSA9IHRva2VuO1xyXG5cclxuICAgIHJldHVybiBjb25maWc7XHJcbiAgfTtcclxuICByZXR1cm4gYXV0aEludGVyY2VwdG9yc0ZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWVudVNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ01lbnUnLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgbWVudUZhY3RvcnkgPSB7fTtcclxuXHJcbiAgbWVudUZhY3RvcnkuZGVsZXRlTWVudSA9IGZ1bmN0aW9uKGNhdGVnb3J5X2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5kZWxldGUoJy9hcGkvbWVudS8nK2NhdGVnb3J5X2lkKTtcclxuICB9O1xyXG5cclxuICBtZW51RmFjdG9yeS51cGRhdGVNZW51ID0gZnVuY3Rpb24odXBkYXRlRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbnUvJywgdXBkYXRlRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgbWVudUZhY3RvcnkuY3JlYXRlTWVudSA9IGZ1bmN0aW9uKG1lbnVEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL21lbnUnLCBtZW51RGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgbWVudUZhY3RvcnkucmVhZE1haW5NZW51ID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWVudScpO1xyXG4gIH07XHJcbiAgbWVudUZhY3RvcnkucmVhZFN1Yk1lbnUgPSAgZnVuY3Rpb24obWFpbk1lbnVUeXBlKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWVudS8nK21haW5NZW51VHlwZSk7XHJcbiAgfTtcclxuICByZXR1cm4gbWVudUZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnb3JkZXJTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdPcmRlcicsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBvcmRlckZhY3RvcnkgPSB7fTtcclxuICBcclxuICBvcmRlckZhY3RvcnkudXBkYXRlRGVsaXZlcnkgPSBmdW5jdGlvbihkZWxpRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2RlbGl2ZXJ5LycrZGVsaURhdGEudXNlcl9pZCwgZGVsaURhdGEpO1xyXG4gIH07XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5jcmVhdGVEZWxpdmVyeSA9IGZ1bmN0aW9uKGRlbGlEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2RlbGl2ZXJ5JyxkZWxpRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgb3JkZXJGYWN0b3J5LmRlbGV0ZUJhc2tldCA9IGZ1bmN0aW9uKGJhc2tldF9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZGVsZXRlKCcvYXBpL2Jhc2tldC8nK2Jhc2tldF9pZCk7XHJcbiAgfTtcclxuXHJcbiAgb3JkZXJGYWN0b3J5LnJlYWRCYXNrZXQ9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2Jhc2tldCcpO1xyXG4gIH07XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5jcmVhdGVCYXNrZXQgPSBmdW5jdGlvbihiYXNrZXREYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2Jhc2tldCcsIGJhc2tldERhdGEpO1xyXG4gIH07XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5kZWxldGVPcmRlciA9IGZ1bmN0aW9uKGl0ZW1faWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS9tYWtlT3JkZXIvJytpdGVtX2lkKTtcclxuICB9O1xyXG5cclxuICBvcmRlckZhY3RvcnkucmVhZE9yZGVyID0gZnVuY3Rpb24odXNlcl9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21ha2VPcmRlci8nK3VzZXJfaWQpO1xyXG4gIH07XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5yZWFkT3JkZXJBbmREZWxpID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWFrZU9yZGVyJyk7XHJcbiAgfTtcclxuXHJcbiAgb3JkZXJGYWN0b3J5LmNyZWF0ZU9yZGVyID0gZnVuY3Rpb24ob3JkZXJEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL21ha2VPcmRlcicsb3JkZXJEYXRhKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gb3JkZXJGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdVc2VyJywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIHVzZXJGYWN0b3J5ID0ge307XHJcblxyXG4gIHVzZXJGYWN0b3J5LmdldFBlcm1pc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wZXJtaXNzaW9uJyk7XHJcbiAgfTtcclxuLy8gVXNlci5jcmVhdGUocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuYWN0aXZlQWNjb3VudCh0b2tlbik7XHJcbiAgdXNlckZhY3RvcnkuYWN0aXZlQWNjb3VudCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYWN0aXZhdGUvJyt0b2tlbik7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuY2hlY2tDcmVkZW50aWFscyhsb2dpbkRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcmVzZW5kJywgbG9naW5EYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNlbmRMaW5rKHVzZXJuYW1lKVxyXG4gIHVzZXJGYWN0b3J5LnJlc2VuZExpbmsgPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Jlc2VuZCcsIHVzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kVXNlcm5hbWUodXNlckRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVzZXR1c2VybmFtZS8nK3VzZXJEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kUGFzc3dvcmQocmVzZXREYXRhKTtcclxuICB1c2VyRmFjdG9yeS5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9yZXNldHBhc3N3b3JkJywgcmVzZXREYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNldFBhc3N3b3JkKHRva2VuKTtcclxuICB1c2VyRmFjdG9yeS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZXNldHBhc3N3b3JkLycrdG9rZW4pO1xyXG4gIH07XHJcblxyXG5cclxuLy8gVXNlci5zYXZlUGFzc3dvcmQocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc2F2ZXBhc3N3b3JkJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vICBVc2VyLnJlbmV3U2Vzc2lvbih1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZW5ld1Nlc3Npb24gPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3JlbmV3VG9rZW4vJysgdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG5cclxuICByZXR1cm4gdXNlckZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWFpbkNvbnRyb2xsZXJzJyxbJ2F1dGhTZXJ2aWNlcycsICd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ21haW5DdHJsJywgZnVuY3Rpb24oQXV0aCwgJHRpbWVvdXQsICRsb2NhdGlvbiwgJHN0YXRlLCAkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3csICRpbnRlcnZhbCwgVXNlciwgQXV0aFRva2VuKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBhcHAubG9hZG1lID0gZmFsc2U7XHJcbiAgJHNjb3BlLiRvbignTE9BRCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAkc2NvcGUubG9hZGluZyA9IHRydWU7XHJcbiAgfSk7XHJcblxyXG4gICRzY29wZS4kb24oJ1VOTE9BRCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xyXG4gIH0pO1xyXG5cclxuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbigpe1xyXG4gICAgaWYoIWNoZWNrU2Vzc2lvbikge1xyXG4gICAgICBjaGVja1Nlc3Npb24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmKEF1dGguaXNMb2dnZWRJbigpKXtcclxuICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgQXV0aC5nZXRVc2VyKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGFwcC51c2VyID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICBVc2VyLmdldFBlcm1pc3Npb24oKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnBlcm1pc3Npb24gPT09ICdhZG1pbicpe1xyXG4gICAgICAgICAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmKGRhdGEuZGF0YS5wZXJtaXNzaW9uID09PSAnYXJ0aXN0Jyl7XHJcbiAgICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICBhcHAuYXV0aG9yaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAudXNlciA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdmFyIGNoZWNrU2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICBpZihBdXRoLmlzTG9nZ2VkSW4oKSl7XHJcbiAgICAgIGFwcC5jaGVja1Nlc3Npb24gPSB0cnVlO1xyXG4gICAgICB2YXIgaW50ZXJ2YWwgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgdG9rZW4gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG4gICAgICAgIGlmKHRva2VuID09PSBudWxsKXtcclxuICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLnBhcnNlSnd0ID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgICAgICAgICB2YXIgYmFzZTY0VXJsID0gdG9rZW4uc3BsaXQoJy4nKVsxXTtcclxuICAgICAgICAgICAgdmFyIGJhc2U2NCA9IGJhc2U2NFVybC5yZXBsYWNlKCctJywnKycpLnJlcGxhY2UoJ18nLCAnLycpO1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSgkd2luZG93LmF0b2IoYmFzZTY0KSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdmFyIGV4cGlyZVRpbWUgPSBzZWxmLnBhcnNlSnd0KHRva2VuKTtcclxuICAgICAgICAgIHZhciB0aW1lU3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcclxuICAgICAgICAgIHZhciB0aW1lQ2hlY2sgPSBleHBpcmVUaW1lLmV4cCAtIHRpbWVTdGFtcDtcclxuXHJcbiAgICAgICAgICBpZih0aW1lQ2hlY2sgPD0gNSl7XHJcbiAgICAgICAgICAgIHNob3dNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGludGVydmFsKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAyMDAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjaGVja1Nlc3Npb24oKTtcclxuXHJcblxyXG4gICAgYXBwLnJlbmV3U2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgICAgVXNlci5yZW5ld1Nlc3Npb24oYXBwLnVzZXIudXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgQXV0aFRva2VuLnNldFRva2VuKGRhdGEuZGF0YS50b2tlbik7XHJcbiAgICAgICAgICBjaGVja1Nlc3Npb24oKTtcclxuICAgICAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgIGFwcC5Nb2RhbEJvZHkgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGFwcC5lbmRTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBzaG93TW9kYWwoJ2xvZ291dCcpO1xyXG4gICAgICB9LDUwMCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgdmFyIHNob3dNb2RhbCA9IGZ1bmN0aW9uKG9wdGlvbil7XHJcbiAgICBhcHAuY2hvaWNlTWFkZSA9IGZhbHNlO1xyXG4gICAgYXBwLm1vZGFsSGVhZGVyID0gdW5kZWZpbmVkO1xyXG4gICAgYXBwLm1vZGFsQm9keSA9IHVuZGVmaW5lZDtcclxuICAgIGFwcC5oaWRlQnV0dG9uID0gZmFsc2U7XHJcbi8vIGNoZWNrIHRva2VuIGV4cGlyZWRcclxuICAgIGlmKG9wdGlvbiA9PT0gICdleHBpcmVkJyApe1xyXG4gICAgICBhcHAubW9kYWxIZWFkZXIgPSAnVGltZW91dCBXYXJuaW5nJztcclxuICAgICAgYXBwLm1vZGFsQm9keSA9ICdZb3VyIHNlc3Npb24gd2lsbCBleHBpcmVkIGluIDUgbWludXRlcy4gV291bGQgeW91IGxpa2UgdG8gcmVuZXcgeW91ciBzZXNzaW9uPyc7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ291dCcpe1xyXG4vLyBsb2dvdXRcclxuICAgICAgYXBwLmhpZGVCdXR0b24gPSB0cnVlO1xyXG4gICAgICBhcHAubW9kYWxIZWFkZXIgPSAn66Gc6re47JWE7JuDJztcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLnBlcm1pc3Npb24gPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICBoaWRlTW9kYWwoJ2xvZ291dCcpO1xyXG4gICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgfSwgMTAwMCk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9naW4nKXtcclxuLy8gTG9naW5cclxuICAgICAgJChcIiNsb2dpblwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgfVxyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKCFhcHAuY2hvaWNlTWFkZSl7XHJcbiAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ291dCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMjAwMCk7XHJcblxyXG4gIH07XHJcblxyXG4gIHZhciBoaWRlTW9kYWwgPSBmdW5jdGlvbihvcHRpb24pe1xyXG5cclxuICAgIGlmKG9wdGlvbiA9PT0gJ2V4cGlyZWQnKXtcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9nb3V0Jyl7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ2luJyl7XHJcbiAgICAgICQoXCIjbG9naW5cIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbi8vIOuhnOq3uOyduFxyXG4gIHRoaXMuZG9Mb2dpbiA9IGZ1bmN0aW9uKGxvZ2luRGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXhwaXJlZCA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIEF1dGgubG9naW4oYXBwLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgYXBwLmxvZ2luRGF0YSA9IG51bGw7XHJcbiAgICAgICAgICAgIGFwcC5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5leHBpcmVkKXtcclxuICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIElmIGVycm9yIG9jY3VycywgcmVtb3ZlIGRpc2FibGUgbG9jayBmcm9tIGZvcm1cclxuICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBib290c3RyYXAgbG9hZGluZyBpY29uXHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcblxyXG4gIGFwcC5sb2dvdXQgPSBmdW5jdGlvbigpe1xyXG4gICAgc2hvd01vZGFsKCdsb2dvdXQnKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZW5kID0gZnVuY3Rpb24oKXtcclxuICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICRzdGF0ZS5nbygncmVzZW5kJyk7XHJcbiAgICAgIGFwcC5leHBpcmVkID0gZmFsc2U7XHJcbiAgICB9LDUwMCk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLnJlc2V0dXNlcm5hbWUgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNldHVzZXJuYW1lJyk7XHJcbiAgICB9LDUwMCk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLnJlc2V0cGFzc3dvcmQgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNldHBhc3N3b3JkJyk7XHJcbiAgICB9LDUwMCk7XHJcblxyXG4gIH07XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ21hbmFnZW1lbnRDb250cm9sbGVycycsWydhZG1pblNlcnZpY2VzJywgJ21lbnVTZXJ2aWNlcycsICdvcmRlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCd1cGRhdGVUeXBlQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgTWVudSwgQWRtaW4sICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIGl0ZW1fdHlwZSA9ICRzdGF0ZVBhcmFtcy5pdGVtX3R5cGU7XHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgfTtcclxuXHJcbiAgIEFkbWluLnJlYWRVcGRhdGVUeXBlKGl0ZW1fdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0ubmFtZSxcclxuICAgICAgICAgICAgICAgICBpZDogdHlwZVtpXS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgICAgIGFwcC51cGRhdGFEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbiA9IHtcclxuICAgICAgICAgICAgIGlkIDogYXBwLnVwZGF0YURhdGEuY2F0ZWdvcnlfaWRcclxuICAgICAgICAgICB9O1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcblxyXG4gICAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIHRoaXMudXBkYXRlVHlwZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC51cGRhdGVEYXRhID0gZGF0YTtcclxuICAgICBhcHAudXBkYXRlRGF0YS5jYXRlZ29yeV9pZCA9IGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xyXG4gICAgIGFwcC51cGRhdGVEYXRhLm5hbWUgPSBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5uYW1lO1xyXG4gICAgIEFkbWluLnVwZGF0ZVVwZGF0ZVR5cGUoYXBwLnVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVhZFR5cGVDdHJsJywgZnVuY3Rpb24oQWRtaW4sICRzdGF0ZSwgJHdpbmRvdywgTWVudSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbiAgIHRoaXMuZGVsZXRlVHlwZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgIHZhciBpdGVtX3R5cGVfaWQgPSBkYXRhLml0ZW1fdHlwZTtcclxuICAgICBBZG1pbi5kZWxldGVUeXBlKGl0ZW1fdHlwZV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgIH07XHJcblxyXG4vLyDsg4Htkogg67aE66WY7ZGcXHJcbiAgQWRtaW4ucmVhZFR5cGUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBNZW51LnJlYWRNYWluTWVudSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgICAgbmFtZTogdHlwZVtpXS5uYW1lLFxyXG4gICAgICAgICAgICAgIGlkOiB0eXBlW2ldLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGFwcC50eXBlRGF0YXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICB2YXIga2luZERhdGFzID0gW107XHJcbiAgICAgIGZvcih2YXIgaT0wOyBpPGRhdGEuZGF0YS5yZXN1bHQubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAga2luZERhdGFzW2ldID0ge1xyXG4gICAgICAgICAgICAgIGtpbmQ6IGFwcC50eXBlRGF0YXNbaV0ua2luZC5zcGxpdCgnLCcpLFxyXG4gICAgICAgICAgICAgIHByaWNlOiBhcHAudHlwZURhdGFzW2ldLnByaWNlLnNwbGl0KCcsJylcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBhcHAudHlwZURhdGFzW2ldLmtpbmQgPSBraW5kRGF0YXNbaV0ua2luZDtcclxuICAgICAgICAgIGFwcC50eXBlRGF0YXNbaV0ucHJpY2UgPSBraW5kRGF0YXNbaV0ucHJpY2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdjcmVhdGVUeXBlQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGUsIE1lbnUsICR3aW5kb3cpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICBNZW51LnJlYWRNYWluTWVudSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgbmFtZTogdHlwZVtpXS5uYW1lLFxyXG4gICAgICAgICAgIGlkOiB0eXBlW2ldLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgIH07XHJcbiAgICAgICB9XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgIH1cclxuICAgfSk7XHJcblxyXG5cclxuICB0aGlzLmNyZWF0ZVR5cGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLnR5cGVEYXRhID0ge1xyXG4gICAgICBjYXRlZ29yeTogYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQsXHJcbiAgICAgIHR5cGVfZGVzY3JpcHRpb246IGRhdGEudHlwZV9kZXNjcmlwdGlvbixcclxuICAgICAgdHlwZV9jb2RlOiBkYXRhLnR5cGVfY29kZSxcclxuICAgICAga2luZDogYXBwLnR5cGVfdGlueS50b1N0cmluZygpLFxyXG4gICAgICBwcmljZTogYXBwLnR5cGVfcHJpY2UudG9TdHJpbmcoKVxyXG4gICAgfTtcclxuXHJcbiAgICBBZG1pbi5jcmVhdGVUeXBlKGFwcC50eXBlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5zdWNjZXNzID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLmtpbmRMaXN0ID0gW107XHJcbiAgYXBwLnR5cGVfdGlueSA9IFtdO1xyXG4gIGFwcC50eXBlX3ByaWNlID0gW107XHJcblxyXG4gIHRoaXMuYWRkTGluZSA9IGZ1bmN0aW9uKGtpbmREYXRhKXtcclxuICAgIGlmKCFraW5kRGF0YSl7XHJcbiAgICAgICR3aW5kb3cuYWxlcnQoJ+ygle2Zle2VnCDqsJLsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYoa2luZERhdGEua2luZFZhbHVlID09PSBudWxsIHx8IGtpbmREYXRhLmtpbmRWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGtpbmREYXRhLmtpbmRWYWx1ZSA9PT0gJycpXHJcbiAgICAgIHtcclxuICAgICAgICAkd2luZG93LmFsZXJ0KCfsmLXshZjrqoXsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICB9IGVsc2UgaWYoa2luZERhdGEua2luZFByaWNlID09PSBudWxsIHx8IGtpbmREYXRhLmtpbmRQcmljZSA9PT0gdW5kZWZpbmVkIHx8IGtpbmREYXRhLmtpbmRQcmljZSA9PT0gJycpe1xyXG4gICAgICAgICR3aW5kb3cuYWxlcnQoJ+yYteyFmCDqsIDqsqnsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5raW5kTGlzdC5wdXNoKFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBraW5kOiBraW5kRGF0YS5raW5kVmFsdWUsXHJcbiAgICAgICAgICAgIHByaWNlOiBraW5kRGF0YS5raW5kUHJpY2VcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICAgIGFwcC50eXBlX3RpbnkucHVzaChraW5kRGF0YS5raW5kVmFsdWUpO1xyXG4gICAgICAgIGFwcC50eXBlX3ByaWNlLnB1c2goa2luZERhdGEua2luZFByaWNlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9O1xyXG59KVxyXG5cclxuXHJcblxyXG5cclxuLmNvbnRyb2xsZXIoJ2l0ZW1zQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIEFkbWluLnJlYWRJdGVtcygpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLml0ZW1zRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdGhpcy5kZWxldGVJdGVtID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIHZhciBpdGVtX2lkID0gZGF0YS5pdGVtX2lkO1xyXG4gICAgQWRtaW4uZGVsZXRlSXRlbShpdGVtX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3JlYWRJdGVtQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGVQYXJhbXMsICRzY29wZSwgT3JkZXIsICR3aW5kb3cpe1xyXG5cclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgdmFyIGl0ZW1faWQgPSAkc3RhdGVQYXJhbXMuaXRlbV9pZDtcclxuICAgIGFwcC5kYXRhID0ge1xyXG4gICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgIHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG4gICAgIGFwcC5hbW91bnQgPSAxO1xyXG5cclxuICAgIEFkbWluLnJlYWRJdGVtKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICB2YXIga2luZCA9IGRhdGEuZGF0YS5yZXN1bHQua2luZC5zcGxpdCgnLCcpO1xyXG4gICAgICAgIHZhciB0ZW1wID0gZGF0YS5kYXRhLnJlc3VsdC5wcmljZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgIHZhciBwcmljZSA9IFtdO1xyXG4gICAgICAgIGZvcihpPTA7aTx0ZW1wLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgcHJpY2VbaV0gPSBOdW1iZXIodGVtcFtpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFwcC5pdGVtRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24gPSB7XHJcbiAgICAgICAgICBpZCA6IHByaWNlWzBdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZm9yKGk9MDsgaTxwcmljZS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGtpbmRbaV0sXHJcbiAgICAgICAgICAgIGlkOiBwcmljZVtpXVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG59KVxyXG5cclxuXHJcblxyXG5cclxuLmNvbnRyb2xsZXIoJ3VwZGF0ZUl0ZW1DdHJsJywgZnVuY3Rpb24oQWRtaW4sICRzdGF0ZVBhcmFtcywgJHNjb3BlLCAkaHR0cCwgJHRpbWVvdXQsICAkc3RhdGUsICR3aW5kb3csIE1lbnUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBpdGVtX2lkID0gJHN0YXRlUGFyYW1zLml0ZW1faWQ7XHJcblxyXG4gICAgICAgICBhcHAuZGF0YSA9IHtcclxuICAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBhcHAuZGF0YTIgPSB7XHJcbiAgICAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBNZW51LnJlYWRNYWluTWVudSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICAgICAgbmFtZTogdHlwZVtpXS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICBpZDogdHlwZVtpXS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHRoaXMucmVhZE1lbnUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5yZWFkTWVudVN0YXR1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZihkYXRhLmlkID09PSAwKXtcclxuICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHZhciBjYXRlZ29yeV9pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL21lbnUvJytjYXRlZ29yeV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgIC8vIOy0iOq4sO2ZlCDsi5ztgrRcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnJlc3VsdC5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kYXRhMiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn65Ox66Gd65CcIOyDge2SiOydtCDsl4bsirXri4jri6QuJyk7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnJlYWRNZW51U3RhdHVzID0gdHJ1ZTtcclxuICAgIC8vIOy0iOq4sO2ZlCDsi5zsvJzslbztlZjripTrjbAg7Ja065a76rKMIO2VoOq5jOyalFxyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kYXRhMiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5kYXRhMi5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0udHlwZV9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHR5cGVbaV0uaXRlbV90eXBlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgQWRtaW4ucmVhZEl0ZW0oaXRlbV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLml0ZW1EYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24gPSB7XHJcbiAgICAgICAgaWQgOiBhcHAuaXRlbURhdGEuY2F0ZWdvcnlfaWRcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG5cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdGhpcy51cGRhdGVJdGVtID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGFwcC5yZWFkTWVudVN0YXR1cyl7XHJcbiAgICAgIGlmKGRhdGEuaXRlbV90eXBlID09PSAwIHx8IGRhdGEuaXRlbV90eXBlID09PSAnMCcpe1xyXG4gICAgICAgICR3aW5kb3cuYWxlcnQoJ+yDge2SiCDrtoTrpZjrpbwg7ISg7YOd7ZW07KO87IS47JqULiEnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgICAgIHR5cGU6IGRhdGEuaXRlbV90eXBlLFxyXG4gICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJGh0dHAucHV0KCcvYXBpL2l0ZW0vJytpdGVtX2lkLCB1cGRhdGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB1cGRhdGVEYXRhMiA9IHtcclxuICAgICAgICAgIHR5cGU6IGFwcC5pdGVtRGF0YS5pdGVtX3R5cGVfaWQsXHJcbiAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICAkaHR0cC5wdXQoJy9hcGkvaXRlbS8nK2l0ZW1faWQsIHVwZGF0ZURhdGEyKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuXHJcbn07XHJcblxyXG5cclxuICAvLyDtjIzsnbzsnZgg6rK966Gc66eMIOyggOyepe2VmOq4sCDrqZTsnbgg7J2066+47KeAIOunjOuTpOq4sFxyXG4gICAgICB0aGlzLmZpbGUgPSB7fTtcclxuICAvLyDrqZTsnbgg7J6R7ZKI7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbiAgICAgIHRoaXMubWFpblBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgLy8g66mU7J24IOyeke2SiCDsnbTrr7jsp4Ag7JeF66Gc65Oc7ZW07IScIOqyveuhnCDsoIDsnqVcclxuICAgICAgdGhpcy5yZWFkUGhvdG8gPSBmdW5jdGlvbigpe1xyXG4gIC8vIOuplOyduCDsnbTrr7jsp4Ag7JeF66Gc65OcIOyXrOu2gFxyXG4gICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgIGFwcC5tYWluUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAgICRodHRwLnBvc3QoJy9hcGkvY3JlYXRlUGhvdG9JbWFnZS8nLCBmZCx7XHJcbiAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGFwcC5tYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgaW1hZ2U6IGRhdGEuZGF0YS5pdGVtX3BhdGhcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJGh0dHAucHV0KCcvYXBpL2l0ZW0vJytpdGVtX2lkLCB1cGRhdGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAvLyDsnpHtkogg7ISk66qFIOydtOuvuOyngCDsl4XroZzrk5wg65CY7JeI64qU7KeAIOuztOyXrOyjvOq4sFxyXG4gICAgICB0aGlzLmV4cGxhaW5QaG90b0NoYW5nZWQgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZXNbMF0ubmFtZS5tYXRjaCgvXFwuKHBuZ3xqcGVnfGpwZykkLykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gIC8vIOyeke2SiCDshKTrqoUgIOydtOuvuOyngCDsl4XroZzrk5ztlbTshJwg6rK966GcIOyggOyepVxyXG4gICAgICB0aGlzLnJlYWRQaG90b0V4cGxhaW4gPSBmdW5jdGlvbigpe1xyXG4gIC8vIOyeke2SiCDshKTrqoUgIOyXheuhnOuTnCDsl6zrtoBcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICBhcHAuZXhwbGFpblBob3RvID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmZC5hcHBlbmQoJ215ZmlsZScsIGFwcC5maWxlLnVwbG9hZCk7XHJcbiAgICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2NyZWF0ZVBob3RvRXhwbGFpbi8nLCBmZCx7XHJcbiAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGFwcC5leHBsYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgZXhwbGFpbjogZGF0YS5kYXRhLml0ZW1fcGF0aFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkaHR0cC5wdXQoJy9hcGkvaXRlbS8nK2l0ZW1faWQsIHVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gIC8vIOyNuOuEpOydvCDsnbTrr7jsp4Ag66eM65Ok6riwXHJcbiAgICAgICAgYXBwLm15SW1hZ2U9Jyc7XHJcbiAgICAgICAgYXBwLm15Q3JvcHBlZEltYWdlPScnO1xyXG5cclxuICAgICAgICB2YXIgaGFuZGxlRmlsZVNlbGVjdD1mdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgdmFyIGZpbGU9ZXZ0LmN1cnJlbnRUYXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgIGFwcC5teUltYWdlPWV2dC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlSW5wdXQnKSkub24oJ2NoYW5nZScsaGFuZGxlRmlsZVNlbGVjdCk7XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gZGVjb2RlQmFzZTY0SW1hZ2UoZGF0YVN0cmluZykge1xyXG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGRhdGFTdHJpbmcubWF0Y2goL15kYXRhOihbQS1aYS16LStcXC9dKyk7YmFzZTY0LCguKykkLyk7XHJcblxyXG4gICAgICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggIT09IDMpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0IHN0cmluZycpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA6IG1hdGNoZXNbMV0sXHJcbiAgICAgICAgICAgICAgICBkYXRhIDogbWF0Y2hlc1syXVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZpbGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgLy8g7I2464Sk7J28IOydtOuvuOyngCDroZzsu6zrlJTsiqTtgazsl5Ag7KCA7J6lIO2bhCDsoIDsnqUg7JyE7LmYIOqwgOyguOyYpOq4sFxyXG4gICAgICAgICAgdGhpcy5yZWFkQ3JvcEltYWdlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAudGh1bWJuYWlsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuYmFzZTY0VXJsID09PSAnJyB8fCBkYXRhLmJhc2U2NFVybCA9PT0gbnVsbCB8fCBkYXRhLmJhc2U2NFVybCA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgdmFyIGJsb2IgPSBkZWNvZGVCYXNlNjRJbWFnZSgkc2NvcGUubXlDcm9wcGVkSW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICBBZG1pbi5yZWFkQXJpc3RDcm9wKGJsb2IpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWw6IGRhdGEuZGF0YS5maWxlUGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICRodHRwLnB1dCgnL2FwaS9pdGVtLycraXRlbV9pZCwgdXBkYXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcblxyXG59KVxyXG5cclxuXHJcblxyXG4uY29udHJvbGxlcignY3JlYXRlSXRlbUN0cmwnLCBmdW5jdGlvbiAoJGh0dHAsICR0aW1lb3V0LCAkc2NvcGUsIEFkbWluLCAkc3RhdGUsICR3aW5kb3csIE1lbnUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgICBhcHAuZGF0YSA9IHtcclxuICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgXSxcclxuICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXBwLmRhdGEyID0ge1xyXG4gICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgfTtcclxuXHJcbiAgICAgIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLm5hbWUsXHJcbiAgICAgICAgICAgICAgaWQ6IHR5cGVbaV0uY2F0ZWdvcnlfaWRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMucmVhZE1lbnUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmlkID09PSAwKXtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBjYXRlZ29yeV9pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvbWVudS8nK2NhdGVnb3J5X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbi8vIOy0iOq4sO2ZlCDsi5ztgrRcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGF0YTIgPSB7XHJcbiAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfrk7HroZ3rkJwg7IOB7ZKI7J20IOyXhuyKteuLiOuLpC4nKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4vLyDstIjquLDtmZQg7Iuc7Lyc7JW87ZWY64qU642wIOyWtOuWu+qyjCDtlaDquYzsmpRcclxuICAgICAgICAgICAgICAgIGFwcC5kYXRhMiA9IHtcclxuICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgICAgYXBwLmRhdGEyLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLnR5cGVfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHR5cGVbaV0uaXRlbV90eXBlX2lkXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcblxyXG4vLyDtjIzsnbzsnZgg6rK966Gc66eMIOyggOyepe2VmOq4sCDrqZTsnbgg7J2066+47KeAIOunjOuTpOq4sFxyXG4gICAgdGhpcy5maWxlID0ge307XHJcbi8vIOuplOyduCDsnpHtkojsnbTrr7jsp4Ag7JeF66Gc65OcIOuQmOyXiOuKlOyngCDrs7Tsl6zso7zquLBcclxuICAgIHRoaXMubWFpblBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuXHJcbi8vIOuplOyduCDsnpHtkogg7J2066+47KeAIOyXheuhnOuTnO2VtOyEnCDqsr3roZwg7KCA7J6lXHJcbiAgICB0aGlzLnJlYWRQaG90byA9IGZ1bmN0aW9uKCl7XHJcbi8vIOuplOyduCDsnbTrr7jsp4Ag7JeF66Gc65OcIOyXrOu2gFxyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgYXBwLm1haW5QaG90byA9IGZhbHNlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9hcGkvY3JlYXRlUGhvdG9JbWFnZS8nLCBmZCx7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICBhcHAubWFpblBob3RvID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLm1haW5JbWFnZVBhdGggPSBkYXRhLmRhdGEuaXRlbV9wYXRoO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbi8vIOyeke2SiCDshKTrqoUg7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbiAgICB0aGlzLmV4cGxhaW5QaG90b0NoYW5nZWQgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcblxyXG4vLyDsnpHtkogg7ISk66qFICDsnbTrr7jsp4Ag7JeF66Gc65Oc7ZW07IScIOqyveuhnCDsoIDsnqVcclxuICAgIHRoaXMucmVhZFBob3RvRXhwbGFpbiA9IGZ1bmN0aW9uKCl7XHJcbi8vIOyeke2SiCDshKTrqoUgIOyXheuhnOuTnCDsl6zrtoBcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIGFwcC5leHBsYWluUGhvdG8gPSBmYWxzZTtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2NyZWF0ZVBob3RvRXhwbGFpbi8nLCBmZCx7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICBhcHAuZXhwbGFpblBob3RvID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmV4cGxhaW5JbWFnZVBhdGggPSBkYXRhLmRhdGEuaXRlbV9wYXRoO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcblxyXG4vLyDsjbjrhKTsnbwg7J2066+47KeAIOunjOuTpOq4sFxyXG4gICAgICBhcHAubXlJbWFnZT0nJztcclxuICAgICAgYXBwLm15Q3JvcHBlZEltYWdlPScnO1xyXG5cclxuICAgICAgdmFyIGhhbmRsZUZpbGVTZWxlY3Q9ZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgdmFyIGZpbGU9ZXZ0LmN1cnJlbnRUYXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLm15SW1hZ2U9ZXZ0LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICB9O1xyXG4gICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZUlucHV0JykpLm9uKCdjaGFuZ2UnLGhhbmRsZUZpbGVTZWxlY3QpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZWNvZGVCYXNlNjRJbWFnZShkYXRhU3RyaW5nKSB7XHJcbiAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGRhdGFTdHJpbmcubWF0Y2goL15kYXRhOihbQS1aYS16LStcXC9dKyk7YmFzZTY0LCguKykkLyk7XHJcblxyXG4gICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoICE9PSAzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgaW5wdXQgc3RyaW5nJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9IHtcclxuICAgICAgICAgICAgICB0eXBlIDogbWF0Y2hlc1sxXSxcclxuICAgICAgICAgICAgICBkYXRhIDogbWF0Y2hlc1syXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gZmlsZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4vLyDsjbjrhKTsnbwg7J2066+47KeAIOuhnOy7rOuUlOyKpO2BrOyXkCDsoIDsnqUg7ZuEIOyggOyepSDsnITsuZgg6rCA7KC47Jik6riwXHJcbiAgICAgICAgdGhpcy5yZWFkQ3JvcEltYWdlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgIGFwcC50aHVtYm5haWwgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBpZihkYXRhLmJhc2U2NFVybCA9PT0gJycgfHwgZGF0YS5iYXNlNjRVcmwgPT09IG51bGwgfHwgZGF0YS5iYXNlNjRVcmwgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IGRlY29kZUJhc2U2NEltYWdlKCRzY29wZS5teUNyb3BwZWRJbWFnZSk7XHJcbiAgICAgICAgICAgICAgICBBZG1pbi5yZWFkQXJpc3RDcm9wKGJsb2IpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC50aHVtYm5haWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC50aHVtYm5haWxQYXRoID0gZGF0YS5kYXRhLmZpbGVQYXRoO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuXHJcbi8vIOyekeqwgCDsnpHtkogg7JeF66Gc65OcXHJcbiAgICAgIHRoaXMuY3JlYXRlUGhvdG8gPSBmdW5jdGlvbih1cGxvYWREYXRhKXtcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICBpZih1cGxvYWREYXRhID09PSB1bmRlZmluZWQgfHwgdXBsb2FkRGF0YSA9PT0gbnVsbCB8fCB1cGxvYWREYXRhID09PSAnJyl7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KCfruYjsubjsnYQg66qo65GQIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZihhcHAuZGF0YTIuc2VsZWN0ZWRPcHRpb24uaWQgPT09ICcwJyl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsg4Htkogg67aE66WY7J2EIOyEoO2Dne2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAubWFpbkltYWdlUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC5tYWluSW1hZ2VQYXRoID09PSAgbnVsbCB8fCBhcHAubWFpbkltYWdlUGF0aCA9PT0gJycpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7IOB7ZKIIOydtOuvuOyngOulvCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYodXBsb2FkRGF0YS50aXRsZSA9PT0gdW5kZWZpbmVkIHx8IHVwbG9hZERhdGEudGl0bGUgPT09ICBudWxsIHx8IHVwbG9hZERhdGEudGl0bGU9PT0gJycpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7IOB7ZKIIOygnOuqqeulvCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYoYXBwLmV4cGxhaW5JbWFnZVBhdGggPT09IHVuZGVmaW5lZCB8fCBhcHAuZXhwbGFpbkltYWdlUGF0aCA9PT0gbnVsbCB8fCBhcHAuZXhwbGFpbkltYWdlUGF0aCA9PT0gJycpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+yDge2SiCDshKTrqoUg7J2066+47KeA66W8IOyXheuhnOuTnO2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAudGh1bWJuYWlsUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC50aHVtYm5haWxQYXRoID09PSBudWxsIHx8IGFwcC50aHVtYm5haWxQYXRoID09PSAnJykge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7I2464Sk7J28IOydtOuvuOyngOulvCDsl4XroZzrk5ztlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC51cGxvYWREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IHVwbG9hZERhdGEudGl0bGUsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBhcHAuZGF0YTIuc2VsZWN0ZWRPcHRpb24uaWQsXHJcbiAgICAgICAgICAgICAgICB0aHVtYm5haWw6IGFwcC50aHVtYm5haWxQYXRoLFxyXG4gICAgICAgICAgICAgICAgZXhwbGFpbjogYXBwLmV4cGxhaW5JbWFnZVBhdGgsXHJcbiAgICAgICAgICAgICAgICBpbWFnZTogYXBwLm1haW5JbWFnZVBhdGhcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIEFkbWluLmNyZWF0ZUl0ZW0oYXBwLnVwbG9hZERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWVudUNvbnRyb2xsZXJzJyxbJ21lbnVTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignbWFpbk1lbnVDdHJsJywgZnVuY3Rpb24gKE1lbnUsICRzdGF0ZSkge1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLm1haW5NZW51ZXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHRoaXMuY3JlYXRlTWVudSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhID09PSB1bmRlZmluZWQpe1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBtZW51RGF0YSA9IHtcclxuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZVxyXG4gICAgICB9O1xyXG4gICAgICBNZW51LmNyZWF0ZU1lbnUobWVudURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICB2YXIgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgY2F0ZWdvcnlfaWQ6IGRhdGEuY2F0ZWdvcnlfaWQsXHJcbiAgICAgIG5hbWU6IGRhdGEubmFtZVxyXG4gICAgfTtcclxuICAgICAgTWVudS51cGRhdGVNZW51KHVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9O1xyXG5cclxuICB0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICB2YXIgZGVsZXRlRGF0YSA9IGRhdGEuY2F0ZWdvcnlfaWQ7XHJcbiAgICBNZW51LmRlbGV0ZU1lbnUoZGVsZXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdzdWJNZW51Q3RybCcsIGZ1bmN0aW9uIChNZW51LCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJGh0dHApIHtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgY2F0ZWdvcnlfaWQgPSAkc3RhdGVQYXJhbXMuY2F0ZWdvcnlfaWQ7XHJcblxyXG4gICRodHRwLmdldCgnL2FwaS9jYXRlZ29yeS8nK2NhdGVnb3J5X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAuc3ViTWVudURhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ29yZGVyQ29udHJvbGxlcnMnLFsnb3JkZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcigncmVhZE9yZGVyQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsICRzdGF0ZSwgJHdpbmRvdywgT3JkZXIsICRzY29wZSkge1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciB1c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG5cclxuICBhcHAuZ2V0SXRlbUZhaWwgPSBmYWxzZTtcclxuXHJcbiAgYXBwLmNhc2hSZWNlaXB0ID0gdHJ1ZTtcclxuICBpZihhcHAuY2FzaFJlY2VpcHQpe1xyXG4gICAgYXBwLmdldENhc2hSZWNlaXB0ID0gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXBwLmdldENhc2hSZWNlaXB0ID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuXHJcbiAgdGhpcy5yZWFkQWRkcmVzcyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAvL2xvYWTtlajsiJjrpbwg7J207Jqp7ZWY7JesIGNvcmXsiqTtgazrpr3tirjsnZgg66Gc65Sp7J20IOyZhOujjOuQnCDtm4QsIOyasO2OuOuyiO2YuCDshJzruYTsiqTrpbwg7Iuk7ZaJ7ZWp64uI64ukLlxyXG4gICAgZGF1bS5wb3N0Y29kZS5sb2FkKGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5hZGRyZXNzRGV0YWlsID0gJyc7XHJcbiAgICAgICAgbmV3IGRhdW0uUG9zdGNvZGUoe1xyXG4gICAgICAgICAgICBvbmNvbXBsZXRlOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgYXBwLmRlbGlEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgc2lndW5ndV9jb2RlOiBkYXRhLnNpZ3VuZ3VDb2RlLFxyXG4gICAgICAgICAgICAgICAgamlidW5fYWRkcmVzczogZGF0YS5qaWJ1bkFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICByb2FkX2FkZHJlc3M6IGRhdGEucm9hZEFkZHJlc3NcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkub3BlbigpO1xyXG4gICAgfSk7XHJcblxyXG4gIH07XHJcblxyXG4gIE9yZGVyLnJlYWRPcmRlckFuZERlbGkoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbi8vIOuTseuhneuQnCDrsLDshqHsp4Ag7KCV67O06rCAIOyXhuydhCDrlYxcclxuICAgICAgaWYoZGF0YS5kYXRhLnJlc3VsdC5sZW5ndGg9PT0wKXtcclxuICAgICAgICBhcHAuZGVsaXZlcnkgPSBmYWxzZTtcclxuICAgICAgICBPcmRlci5yZWFkT3JkZXIodXNlcl9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIHZhciBpdGVtUHJpY2UgPSBbXTtcclxuICAgICAgICAgIGFwcC5hbGxJdGVtUHJpY2UgPSAwO1xyXG4gICAgICAgICAgYXBwLm9yZGVyRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICBmb3IoaT0wOyBpPGFwcC5vcmRlckRhdGEubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpdGVtUHJpY2VbaV0gPSBhcHAub3JkZXJEYXRhW2ldLnByaWNlICogYXBwLm9yZGVyRGF0YVtpXS5hbW91bnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBmb3IoaT0wO2k8aXRlbVByaWNlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBhcHAuYWxsSXRlbVByaWNlID0gYXBwLmFsbEl0ZW1QcmljZSArIGl0ZW1QcmljZVtpXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4vLyDrk7HroZ3rkJwg67Cw7Iah7KeAIOygleuztOqwgCDsnojsnYQg65WMXHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICB2YXIgaXRlbVByaWNlID0gW107XHJcbiAgICAgIGFwcC5kZWxpdmVyeSA9IHRydWU7XHJcbiAgICAgIGFwcC5hbGxJdGVtUHJpY2UgPSAwO1xyXG4gICAgICBhcHAub3JkZXJEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgZm9yKGk9MDsgaTxhcHAub3JkZXJEYXRhLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICBpdGVtUHJpY2VbaV0gPSBhcHAub3JkZXJEYXRhW2ldLnByaWNlICogYXBwLm9yZGVyRGF0YVtpXS5hbW91bnQ7XHJcbiAgICAgIH1cclxuICAgICAgZm9yKGk9MDtpPGl0ZW1QcmljZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICBhcHAuYWxsSXRlbVByaWNlID0gYXBwLmFsbEl0ZW1QcmljZSArIGl0ZW1QcmljZVtpXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB0aGlzLmNvbmZpcm1PcmRlciA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4vLyDrk7HroZ3rkJwg67Cw7Iah7KeA6rCAIOyeiOydhCDrlYwgcHV0XHJcbiAgICB2YXIgZGVsaURhdGEgPSAnJztcclxuICAgIHZhciByZWNlaXB0RGF0YSA9ICcnO1xyXG4gICAgaWYoYXBwLmRlbGl2ZXJ5KXtcclxuLy8gICAg67OA6rK97IKs7ZWtIOyXhuydjFxyXG4gICAgICBpZihkYXRhLmRhbGlEYXRhID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfrs4Dqsr3sgqztla0g7JeG7J2MJyk7XHJcbiAgICAgIH1cclxuLy8g67OA6rK97IKs7ZWtIOyeiOydjFxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBkZWxpRGF0YSA9IGRhdGEuZGFsaURhdGE7XHJcbiAgICAgICAgLy8gZGVsaURhdGEudXNlcl9pZCA9IHVzZXJfaWQ7XHJcbiAgICAgICAgT3JkZXIudXBkYXRlRGVsaXZlcnkoZGVsaURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4vLyDrk7HroZ3rkJwg67Cw7Iah7KeA6rCAIOyXhuydhCDrlYwgcG9zdFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGVsaURhdGEgPSBkYXRhLmRhbGlEYXRhO1xyXG4gICAgICByZWNlaXB0RGF0YSA9IGRhdGEucmVjZWlwdERhdGE7XHJcbiAgICAgIE9yZGVyLmNyZWF0ZURlbGl2ZXJ5KGRlbGlEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICB2YXIgaXRlbV9pZCA9IGRhdGEuaXRlbV9pZDtcclxuICAgIE9yZGVyLmRlbGV0ZU9yZGVyKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgfWVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIH0pXHJcblxyXG4uY29udHJvbGxlcignYmFza2V0Q3RybCcsIGZ1bmN0aW9uIChPcmRlciwgJHdpbmRvdywgJHN0YXRlKSB7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgYXBwLmFtb3VudCA9IDE7XHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuICAgdGhpcy5kZWxldGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICB2YXIgYmFza2V0X2lkID0gZGF0YS5iYXNrZXRfaWQ7XHJcbiAgICAgT3JkZXIuZGVsZXRlQmFza2V0KGJhc2tldF9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG5cclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG4gICB9O1xyXG5cclxuICB0aGlzLm1ha2VCYXNrZXQgPSBmdW5jdGlvbigpe1xyXG4gIH07XHJcblxyXG4gIE9yZGVyLnJlYWRCYXNrZXQoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5iYXNrZXREYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgdmFyIGk7XHJcbiAgICAgIHZhciBraW5kID0gW107XHJcbiAgICAgIHZhciB0ZW1wID0gW107XHJcbiAgICAgIHZhciBzZWxlY3REYXRhO1xyXG4gICAgICBmb3IoaT0wOyBpIDwgYXBwLmJhc2tldERhdGEubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAga2luZFtpXSA9IGFwcC5iYXNrZXREYXRhW2ldLmtpbmQuc3BsaXQoJywnKTtcclxuICAgICAgICAgIHRlbXBbaV0gPSBhcHAuYmFza2V0RGF0YVtpXS5wcmljZS5zcGxpdCgnLCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IoaT0wOyBpPGtpbmQubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGFwcC5kYXRhW2ldID0ge1xyXG4gICAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAgICAge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgXSxcclxuICAgICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZm9yKGo9MDtqPGtpbmRbaV0ubGVuZ3RoO2orKyl7XHJcbiAgICAgICAgICBhcHAuZGF0YVtpXS5hdmFpbGFibGVPcHRpb25zW2orMV0gPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGtpbmRbaV1bal0sXHJcbiAgICAgICAgICAgIGlkOiBOdW1iZXIodGVtcFtpXVtqXSlcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd0eXBlQ29udHJvbGxlcnMnLFsnb3JkZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignZ2V0VHlwZUl0ZW1zQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsICRodHRwKSB7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gIHZhciBjYXRlZ29yeV9pZCA9ICRzdGF0ZVBhcmFtcy5jYXRlZ29yeV9pZDtcclxuICBpZighJHN0YXRlUGFyYW1zLnR5cGVfY29kZSl7XHJcbiAgICAkaHR0cC5nZXQoJy9hcGkvaXRlbV90eXBlLycrY2F0ZWdvcnlfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aCA9PT0gMCApe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+uTseuhneuQnCDsg4HtkojsnbQg7JeG7Iq164uI64ukLic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5pdGVtc0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHZhciB0eXBlX2NvZGUgPSAgJHN0YXRlUGFyYW1zLnR5cGVfY29kZTtcclxuICAgICRodHRwLmdldCgnL2FwaS9pdGVtX3R5cGUvJytjYXRlZ29yeV9pZCxcclxuICAgIHsgIHBhcmFtczoge3R5cGVfY29kZSA6IHR5cGVfY29kZSB9fVxyXG4gICkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5yZXN1bHQubGVuZ3RoID09PSAwICl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn65Ox66Gd65CcIOyDge2SiOydtCDsl4bsirXri4jri6QuJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLml0ZW1zRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59KVxyXG5cclxuXHJcbi5jb250cm9sbGVyKCdnZXRUeXBlSXRlbUN0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlUGFyYW1zLCAkd2luZG93LCAkc3RhdGUsIE9yZGVyKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgaXRlbV9pZCA9ICRzdGF0ZVBhcmFtcy5pdGVtX2lkO1xyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICBhcHAuYW1vdW50ID0gMTtcclxuXHJcbiAgdGhpcy5jcmVhdGVCYXNrZXQgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgIHZhciBiYXNrZXREYXRhID0ge1xyXG4gICAgICBpdGVtX2lkOiBkYXRhLml0ZW1faWQsXHJcbiAgICB9O1xyXG4gICAgT3JkZXIuY3JlYXRlQmFza2V0KGJhc2tldERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5jcmVhdGVPcmRlciA9IGZ1bmN0aW9uKGRhdGEpe1xyXG5cclxuICAgIHZhciBvcmRlckRhdGEgPSB7XHJcbiAgICAgIGl0ZW1faWQ6IGRhdGEuaXRlbV9pZCxcclxuICAgICAgYW1vdW50OiBkYXRhLmFtb3VudCxcclxuICAgICAga2luZF9vZjogZGF0YS5raW5kX29mLFxyXG4gICAgICBwcmljZTogZGF0YS5wcmljZVxyXG4gICAgfTtcclxuXHJcbiAgICBPcmRlci5jcmVhdGVPcmRlcihvcmRlckRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwLm1ha2VPcmRlcicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgfTtcclxuXHJcbiAgQWRtaW4ucmVhZEl0ZW0oaXRlbV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgdmFyIGtpbmQgPSBkYXRhLmRhdGEucmVzdWx0LmtpbmQuc3BsaXQoJywnKTtcclxuICAgICAgdmFyIHRlbXAgPSBkYXRhLmRhdGEucmVzdWx0LnByaWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgIHZhciBwcmljZSA9IFtdO1xyXG4gICAgICBmb3IoaT0wO2k8dGVtcC5sZW5ndGg7aSsrKXtcclxuICAgICAgICBwcmljZVtpXSA9IE51bWJlcih0ZW1wW2ldKTtcclxuICAgICAgfVxyXG4gICAgICBhcHAuaXRlbURhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbiA9IHtcclxuICAgICAgICBpZCA6IHByaWNlWzBdLFxyXG4gICAgICAgIG5hbWU6IGtpbmRbMF1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGZvcihpPTA7IGk8cHJpY2UubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgIG5hbWU6IGtpbmRbaV0sXHJcbiAgICAgICAgICBpZDogcHJpY2VbaV1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZW1haWxDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2VtYWlsQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgVXNlci5hY3RpdmVBY2NvdW50KCRzdGF0ZVBhcmFtcy50b2tlbikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgIH0sMjAwMCk7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgfSwyMDAwKTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdyZXNlbmRDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgYXBwID0gdGhpcztcclxuICB0aGlzLmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBVc2VyLmNoZWNrQ3JlZGVudGlhbHModGhpcy5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBVc2VyLnJlc2VuZExpbmsoYXBwLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1lbHNlIHtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCd1c2VybmFtZUN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB0aGlzLnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIFVzZXIuc2VuZFVzZXJuYW1lKGFwcC51c2VyRGF0YS5lbWFpbCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7J2066mU7J28IOyjvOyGjOqwgCDslYTri5nri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Bhc3N3b3JkQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIGFwcC5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgVXNlci5zZW5kUGFzc3dvcmQoYXBwLnJlc2V0RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7JWE7J2065SU6rCAIOyVhOuLmeuLiOuLpC4nO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVzZXRDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCAkc2NvcGUsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgIGFwcC5oaWRlID0gdHJ1ZTsgLy8gSGlkZSBmb3JtIHVudGlsIHRva2VuIGNhbiBiZSB2ZXJpZmllZCB0byBiZSB2YWxpZFxyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRva2VuIGlzIHZhbGlkIGFuZCBnZXQgdGhlIHVzZXIncyBpbmZvIGZyb20gZGF0YWJhc2UgKHJ1bnMgb24gcGFnZSBsb2FkKVxyXG4gICAgVXNlci5yZXNldFBhc3N3b3JkKCRzdGF0ZVBhcmFtcy50b2tlbikudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciB3YXMgcmV0cmlldmVkXHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIGFwcC5oaWRlID0gZmFsc2U7IC8vIFNob3cgZm9ybVxyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtc3VjY2Vzcyc7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSAn7IOI66Gc7Jq0IOu5hOuwgOuyiO2YuOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gTGV0IHVzZXIga25vdyB0aGV5IGNhbiBlbnRlciBuZXcgcGFzc3dvcmRcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lID0gZGF0YS5kYXRhLnVzZXJbMF0udXNlcm5hbWU7IC8vIFNhdmUgdXNlcm5hbWUgaW4gc2NvcGUgZm9yIHVzZSBpbiBzYXZlUGFzc3dvcmQoKSBmdW5jdGlvblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlOyAvLyBHcmFiIGVycm9yIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIHNhdmUgdXNlcidzIG5ldyBwYXNzd29yZCB0byBkYXRhYmFzZVxyXG4gICAgYXBwLnNhdmVQYXNzd29yZCA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTsgLy8gQ2xlYXIgZXJyb3JNc2cgd2hlbiB1c2VyIHN1Ym1pdHNcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7IC8vIERpc2FibGUgZm9ybSB3aGlsZSBwcm9jZXNzaW5nXHJcbiAgICAgICAgYXBwLmxvYWRpbmcgPSB0cnVlOyAvLyBFbmFibGUgbG9hZGluZyBpY29uXHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGZvcm0gaXMgdmFsaWQgYW5kIHBhc3N3b3JkcyBtYXRjaFxyXG4gICAgICAgIGlmICh2YWxpZCAmJiBjb25maXJtZWQpIHtcclxuICAgICAgICAgICAgYXBwLnJlZ0RhdGEudXNlcm5hbWUgPSAkc2NvcGUudXNlcm5hbWU7IC8vIEdyYWIgdXNlcm5hbWUgZnJvbSAkc2NvcGVcclxuXHJcbiAgICAgICAgICAgIC8vIFJ1biBmdW5jdGlvbiB0byBzYXZlIHVzZXIncyBuZXcgcGFzc3dvcmQgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgVXNlci5zYXZlUGFzc3dvcmQoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHBhc3N3b3JkIHdhcyBzYXZlZCB0byBkYXRhYmFzZVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7ZmU66m07Jy866GcIOydtOuPme2VqeuLiOuLpC4nOyAvLyBHcmFiIHN1Y2Nlc3MgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0IGFuZCByZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UgYWZ0ZXIgMjAwMCBtaWxsaXNlY29uZHMgKDIgc2Vjb25kcylcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSBmb3JtIHRvIGFsbG93IHVzZXIgdG8gcmVzdWJtaXRcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTsgLy8gR3JhYiBlcnJvciBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3RcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LWRhbmdlcic7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSBmb3JtIHRvIGFsbG93IHVzZXIgdG8gcmVzdWJtaXRcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIExldCB1c2VyIGtub3cgZm9ybSBpcyBub3QgdmFsaWRcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ3JlZ0N0cmwnLCBmdW5jdGlvbiAoICRodHRwLCAkbG9jYXRpb24sICR0aW1lb3V0LCBVc2VyLCBBdXRoLCAkc3RhdGUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgICAgdGhpcy5yZWdTdGVwMSA9IGZ1bmN0aW9uKHJlZ0RhdGEpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmKCFyZWdEYXRhKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZigocmVnRGF0YS50ZXJtcykgJiYgKHJlZ0RhdGEucHJpdmFjeSkpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gJ+yVveq0gOyXkCDshLHqs7XsoIHsnLzroZwg64+Z7J2Y7ZWY7IWo7Iq164uI64ukLic7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAucmVnaXN0ZXJTdGVwMicpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAvLyDtmozsm5DqsIDsnoVcclxuICAgICAgdGhpcy5yZWdTdGVwMiA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAucmVnaXN0ZXJTdGVwMycpO1xyXG4gICAgICAgIC8vIGlmKHZhbGlkICYmIGNvbmZpcm1lZCl7XHJcbiAgICAgICAgLy8gICBVc2VyLmNyZWF0ZShhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAvLyAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIC8vICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAvLyAgICAgICBBdXRoLmxvZ2luKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIC8vICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIC8vICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgIC8vICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgIC8vICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICBpZihkYXRhLmRhdGEuZXhwaXJlZCl7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgLy8gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgLy8gICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAgfWVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gSWYgZXJyb3Igb2NjdXJzLCByZW1vdmUgZGlzYWJsZSBsb2NrIGZyb20gZm9ybVxyXG4gICAgICAgIC8vICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBib290c3RyYXAgbG9hZGluZyBpY29uXHJcbiAgICAgICAgLy8gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gRGlzcGxheSBlcnJvciBpZiB2YWxpZCByZXR1cm5zIGZhbHNlXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8g7ZqM7JuQ6rCA7J6FXHJcbiAgICAgICAgdGhpcy5yZWdTdGVwMyA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgaWYodmFsaWQgJiYgY29uZmlybWVkKXtcclxuICAgICAgICAgICAgVXNlci5jcmVhdGUoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmxvZ2luKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLmV4cGlyZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgYm9vdHN0cmFwIGxvYWRpbmcgaWNvblxyXG4gICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gRGlzcGxheSBlcnJvciBpZiB2YWxpZCByZXR1cm5zIGZhbHNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxufSk7XHJcbiJdfQ==
