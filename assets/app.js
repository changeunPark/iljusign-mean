angular.module("app",["ui.router","ui.bootstrap","menuControllers","userControllers","mainControllers","emailControllers","managementControllers","typeControllers","orderControllers","uiCropper"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),a.hashPrefix(""),a.html5Mode(!0),e.state("app",{url:"/",views:{header:{templateUrl:"/menues/header.html"},content:{templateUrl:"/main/form.html"},"menu@app":{templateUrl:"/menues/mainMenu.html",controller:"mainMenuCtrl",controllerAs:"mainMenu"},"account@app":{templateUrl:"/main/account.html"},"contents@app":{templateUrl:"/main/home.html"},footer:{templateUrl:"/company/footer.html"}}}).state("app.user",{url:"user",views:{"contents@app":{templateUrl:"/users/partial/user.html"}}}).state("app.commerceDetail",{url:"commerce-detail",views:{"contents@app":{templateUrl:"/users/partial/commerceDetail.html"}}}).state("app.basket",{url:"basket",views:{"contents@app":{templateUrl:"/users/partial/basket.html",controller:"basketCtrl",controllerAs:"basket"}}}).state("app.category",{url:"category=:type",views:{"subMenu@app":{templateUrl:"/menues/subMenu.html"},"contents@app":{templateUrl:"/categoryes/items/form.html",controller:"getTypeItemsCtrl",controllerAs:"getTypeItems"}}}).state("app.category.show",{url:"/item:item_id",views:{"contents@app":{templateUrl:"/categoryes/items/item.html",controller:"getTypeItemCtrl",controllerAs:"getTypeItem"}}}).state("app.makeOrder",{url:"makeOrder",views:{"contents@app":{templateUrl:"/order/makeOrder.html",controller:"readOrderCtrl",controllerAs:"readOrder"}}}).state("app.confirmOrder",{url:"confirmOrder",views:{"contents@app":{templateUrl:"/order/confirmOrder.html",controller:"readOrderCtrl",controllerAs:"readOrderCtrl"}}}).state("app.board",{url:"board",views:{"contents@app":{templateUrl:"/categoryes/board/form.html"}}}).state("app.management",{url:"management",views:{"content@":{templateUrl:"/management/form.html"},"menu@app.management":{templateUrl:"/management/menu.html"}}}).state("app.management.items",{url:"/items",views:{"contents@app.management":{templateUrl:"/management/partial/items.html",controller:"itemsCtrl",controllerAs:"items"}}}).state("app.management.items.show",{url:":item_id",views:{"contents@app.management":{templateUrl:"/management/partial/item.html",controller:"itemCtrl",controllerAs:"item"}}}).state("app.management.bannerUpload",{url:"/bannerUpload",views:{"contents@app.management":{templateUrl:"/management/partial/bannerUpload.html"}}}).state("app.management.orderStatus",{url:"/orderStatus",views:{"contents@app.management":{templateUrl:"/management/partial/orderStatus.html"}}}).state("app.management.members",{url:"/members",views:{"contents@app.management":{templateUrl:"/management/partial/members.html"}}}).state("registerStep1",{url:"/register/step1",controller:"regCtrl",controllerAs:"register",templateUrl:"/users/register/registerStep1.html",authenticated:!1}).state("registerStep2",{url:"/register/step2",controller:"regCtrl",controllerAs:"register",templateUrl:"/users/register/registerStep2.html",authenticated:!1}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.intro",{url:"intro",views:{"content@":{templateUrl:"/company/intro.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"content@":{templateUrl:"/company/terms.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"content@":{templateUrl:"/company/privacy.html",authenticated:!1}}})}]),app.run(["$rootScope","User","$state",function(e,t,a){e.$on("$stateChangeStart",function(e,t,a,r,n,s){}),e.$on("$stateChangeError",function(e,t,r,n,s,o){a.go("app")})}]),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var n=e(r.fileModel),s=n.assign;a.bind("change",function(){t.$apply(function(){s(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("adminServices",[]).factory("Admin",["$http",function(e){return adminFactory={},adminFactory.createType=function(t){return e.post("/api/item_type",t)},adminFactory.readType=function(){return e.get("/api/item_type")},adminFactory.readAristCrop=function(t){return e.post("/api/createCropImage",t)},adminFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},adminFactory.createItem=function(t){return e.post("/api/item",t)},adminFactory.readItems=function(){return e.get("/api/item")},adminFactory.readItem=function(t){return e.get("/api/item/"+t)},adminFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return console.log(e),t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("menuServices",[]).factory("Menu",["$http",function(e){return menuFactory={},menuFactory.readMainMenu=function(){return e.get("/api/menu")},menuFactory.readSubMenu=function(t){return e.get("/api/menu/"+t)},menuFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.getPermission=function(){return e.get("/api/permission")},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,n,s,o,i,l,d){var c=this;c.loadme=!1,s.$on("LOAD",function(){s.loading=!0}),s.$on("UNLOAD",function(){s.loading=!1}),n.$on("$stateChangeStart",function(){u?e.isLoggedIn()?(c.isLoggedIn=!0,c.loadme=!0,e.getUser().then(function(e){c.user=e.data,c.loadme=!0,l.getPermission().then(function(e){e.data.success?"admin"===e.data.permission?(c.authorized=!0,c.loadme=!0):"artist"===e.data.permission?(c.permission=!0,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0)})})):(c.user=!1,c.isLoggedIn=!1,c.loadme=!0):u()});var u=function(){if(e.isLoggedIn()){c.checkSession=!0;var t=i(function(){var e=o.localStorage.getItem("token");if(null===e)i.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(o.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(m("expired"),i.cancel(t))}},2e3)}};u(),c.renewSession=function(){c.choiceMade=!0,l.renewSession(c.user.username).then(function(e){e.data.success?(d.setToken(e.data.token),u(),p("expired")):(c.ModalBody=e.data.message,p("expired"))})},c.endSession=function(){c.choiceMade=!0,p("expired"),t(function(){m("logout")},500)};var m=function(a){c.choiceMade=!1,c.modalHeader=void 0,c.modalBody=void 0,c.hideButton=!1,"expired"===a?(c.modalHeader="Timeout Warning",c.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(c.hideButton=!0,c.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),c.isLoggedIn=!1,p("logout"),r.reload()},1e3)):"login"===a&&$("#login").modal({backdrop:"static"}),t(function(){c.choiceMade||p("logout")},2e3)},p=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e&&$("#login").modal("hide")};this.doLogin=function(a,n){c.errorMsg=!1,c.expired=!1,c.disabled=!0,n?e.login(c.loginData).then(function(e){e.data.success?(c.disabled=!0,c.successMsg=e.data.message,t(function(){p("login"),c.loginData=null,c.isLoggedIn=!0,u(),r.reload()},1e3)):e.data.expired?(c.expired=!0,c.disabled=!0,c.errorMsg=e.data.message):(c.disabled=!1,c.errorMsg=e.data.message)}):(c.disabled=!1,c.loading=!1,c.errorMsg="올바른 정보를 입력해주세요.")},c.login=function(){c.successMsg=!1,c.errorMsg=!1,c.disabled=!1,m("login")},c.logout=function(){m("logout")},c.resend=function(){p("login"),t(function(){r.go("resend"),c.expired=!1},500)},c.resetusername=function(){p("login"),t(function(){r.go("resetusername")},500)},c.resetpassword=function(){p("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("managementControllers",["adminServices","menuServices"]).controller("itemTypeCtrl",["Admin","$state",function(e,t){var a=this;e.readType().then(function(e){e.data.success?a.typeDatas=e.data.result:a.errorMsg=e.data.message})}]).controller("createTypeCtrl",["Admin","$state","$http","Menu",function(e,t,a,r){var n=this;n.kindValue=[],n.findList=[],n.type_tiny=[],n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},r.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),this.createType=function(a){n.errorMsg=!1,n.typeData={category:n.data.selectedOption.id,type1:a.code1,type1_description:a.type1,type2:a.code2,type2_description:a.type2,kind:n.type_tiny.toString()},e.createType(n.typeData).then(function(e){e.data.success?(n.success=e.data.message,t.reload()):n.errorMsg=e.data.message})},this.addLine=function(){n.findList.push({find:n.kindValue}),n.type_tiny.push(n.kindValue)}}]).controller("itemsCtrl",["Admin","$state",function(e,t){var a=this;e.readItems().then(function(e){e.data.success&&(a.itemsData=e.data.result)})}]).controller("itemCtrl",["Admin","$stateParams","$scope",function(e,t,a){var r=this,n=t.item_id;r.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},e.readType().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)r.data.availableOptions[i+1]={name:t[i].type1_description+"-"+t[i].type2_description,id:t[i].item_type_id}}else r.errorMsg=e.data.message}),e.readItem(n).then(function(e){e.data.success&&(r.itemData=e.data.result,r.data.selectedOption={id:r.itemData.type})})}]).controller("itemUploadCtrl",["$http","$timeout","$scope","Admin","$state","$window",function(e,t,a,r,n,s){function o(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var l=this;l.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},r.readType().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)l.data.availableOptions[i+1]={name:t[i].type1_description+"-"+t[i].type2_description,id:t[i].item_type_id}}else l.errorMsg=e.data.message}),this.file={},this.mainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var r=e[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t(function(){a.$emit("UNLOAD"),l.mainThumbnail={},l.mainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),l.mainThumbnail={}},this.readPhoto=function(){a.$emit("LOAD"),l.mainPhoto=!1,l.disabled=!0;var t=new FormData;t.append("myfile",l.file.upload),e.post("/api/createPhotoImage/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),l.mainPhoto=!0,l.disabled=!1,l.mainImagePath=e.data.item_path,l.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),l.disabled=!1,l.file={})})},this.explainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var r=e[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t(function(){a.$emit("UNLOAD"),l.explainThumbnail={},l.explainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),l.explainThumbnail={}},this.readPhotoExplain=function(){a.$emit("LOAD"),l.explainPhoto=!1,l.disabled=!0;var t=new FormData;t.append("myfile",l.file.upload),e.post("/api/createPhotoExplain/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),l.explainPhoto=!0,l.disabled=!1,l.explainImagePath=e.data.item_path,l.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),l.disabled=!1,l.file={})})},l.myImage="",l.myCroppedImage="";var d=function(e){a.$emit("LOAD");var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){t.$emit("UNLOAD"),l.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",d),this.readCropImage=function(e){if(a.$emit("LOAD"),l.thumbnail=!1,l.disabled=!0,""===e.base64Url||null===e.base64Url||void 0===e.base64Url)l.disabled=!1;else{a.$emit("UNLOAD");var t=o(a.myCroppedImage);r.readAristCrop(t).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),l.thumbnail=!0,l.disabled=!1,l.thumbnailPath=e.data.filePath):(a.$emit("UNLOAD"),l.disabled=!1)})}},this.createPhoto=function(e){a.$emit("LOAD"),void 0===e||null===e||""===e?(s.alert("빈칸을 모두 입력해주세요."),l.disabled=!1,a.$emit("UNLOAD")):"0"===l.data.selectedOption.id?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("상품 타입을 선택해주세요.")):void 0===l.mainImagePath||null===l.mainImagePath||""===l.mainImagePath?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("상품 이미지를 입력해주세요.")):void 0===e.title||null===e.title||""===e.title?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("상품 제목를 입력해주세요.")):void 0===l.explainImagePath||null===l.explainImagePath||""===l.explainImagePath?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("상품 설명 이미지를 업로드해주세요.")):void 0===l.thumbnailPath||null===l.thumbnailPath||""===l.thumbnailPath?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("썸네일 이미지를 업로드해주세요.")):(l.uploadData={title:e.title,price:e.price,type:l.data.selectedOption.id,thumbnail:l.thumbnailPath,explain:l.explainImagePath,image:l.mainImagePath},r.createItem(l.uploadData).then(function(e){e.data.success?(a.$emit("UNLOAD"),l.disabled=!0,s.alert(e.data.message),n.reload()):(a.$emit("UNLOAD"),l.disabled=!1,s.alert(e.data.message))}))}}]),angular.module("menuControllers",["menuServices"]).controller("mainMenuCtrl",["Menu",function(e){var t=this;e.readMainMenu().then(function(e){e.data.success?t.mainMenues=e.data.result:t.errorMsg=e.data.message})}]),angular.module("orderControllers",[]).controller("readOrderCtrl",["$stateParams","$http","$state","$window",function(e,t,a,r){var n=this;t.get("/api/makeOrder").then(function(e){e.data.success&&(n.orderData=e.data.result)}),this.confirmOrder=function(){a.go("app.confirmOrder")}}]).controller("basketCtrl",["$http","$window",function(e,t){var a=this;a.amount=1,this.plus=function(){a.amount++},this.minus=function(){a.amount<=0?(t.alert("올바른 수량을 입력해주세요."),a.amount=1):a.amount--},e.get("/api/basket").then(function(e){a.errorMsg=!1,e.data.success?a.basketData=e.data.result:a.errorMsg=e.data.message})}]),angular.module("typeControllers",[]).controller("getTypeItemsCtrl",["$stateParams","$http",function(e,t){var a=this,r=e.type;t.get("/api/item_type/"+r).then(function(e){e.data.success?a.itemsData=e.data.result:a.errorMsg=e.data.message})}]).controller("getTypeItemCtrl",["Admin","$stateParams","$window","$state","$http",function(e,t,a,r,n){var s=this,o=t.item_id;s.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},s.amount=1,this.plus=function(){s.amount++},this.minus=function(){s.amount<=0?(a.alert("올바른 수량을 입력해주세요."),s.amount=1):s.amount--},this.createBasket=function(e){var t={item_id:e.item_id,amount:e.amount};n.post("/api/basket",t).then(function(e){e.data.success,a.alert(e.data.message)})},this.createOrder=function(e){var t={item_id:o,amount:e.amount,kindOf:e.kindOf.name,item_type_id:e.item_type_id};n.post("/api/makeOrder",t).then(function(e){e.data.success?(s.successMsg=e.data.message,r.go("app.makeOrder")):s.errorMsg=e.data})},e.readItem(o).then(function(e){if(e.data.success){var t=e.data.result.kind.split(",");for(s.itemData=e.data.result,i=0;i<t.length;i++)s.data.availableOptions[i+1]={name:t[i],id:i+1}}else s.errorMsg=e.data.message})}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var n=this;t.activeAccount(e.token).then(function(e){n.successMsg=!1,n.errorMsg=!1,e.data.success?(n.disabled=!0,n.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(n.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(n,s){r.errorMsg=!1,r.disabled=!0,s?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(n,s){r.errorMsg=!1,r.disabled=!0,s?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,n){var s=this;s.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(s.hide=!1,t.alert="alert alert-success",s.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",s.errorMsg=e.data.message)}),s.savePassword=function(e,o,i){s.errorMsg=!1,s.successMsg=!1,s.disabled=!0,s.loading=!0,o&&i?(s.regData.username=t.username,a.savePassword(s.regData).then(function(e){s.loading=!1,e.data.success?(t.alert="alert alert-success",s.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){n.go("app")},2e3)):(t.alert="alert alert-danger",s.disabled=!1,s.errorMsg=e.data.message)})):(t.alert="alert alert-danger",s.loading=!1,s.disabled=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,n,s){var o=this;this.regStep1=function(e){o.errorMsg=!1,e?e.terms&&e.privacy?(o.successMsg="약관에 성공적으로 동의하셨습니다.",o.disabled=!0,s.go("registerStep2")):(o.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",o.disabled=!1):o.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,i){o.errorMsg=!1,o.disabled=!0,t&&i?r.create(o.regData).then(function(e){e.data.success?(o.disabled=!0,o.successMsg=e.data.message,n.login(o.regData).then(function(e){e.data.success?(o.disabled=!0,o.successMsg=e.data.message,a(function(){s.go("app")},1e3)):e.data.expired?(o.expired=!0,o.disabled=!0,o.errorMsg=e.data.message):(o.disabled=!1,o.errorMsg=e.data.message)})):(o.disabled=!1,o.errorMsg=e.data.message)}):(o.disabled=!1,o.loading=!1,o.errorMsg="올바른 정보를 입력해주세요.")}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiZGlyZWN0aXZlcy9maWxlTW9kZWwuanMiLCJkaXJlY3RpdmVzL21hdGNoUGFzc3dvcmQuanMiLCJzZXJ2aWNlcy9hZG1pblNlcnZpY2UuanMiLCJzZXJ2aWNlcy9hdXRoU2VydmljZXMuanMiLCJzZXJ2aWNlcy9tZW51U2VydmljZXMuanMiLCJzZXJ2aWNlcy91c2VyU2VydmljZXMuanMiLCJjb250b3JvbGxlcnMvbWFpbi9tYWluQ29udHJvbGxlcnMuanMiLCJjb250b3JvbGxlcnMvbWFpbi9tYW5hZ2VtZW50Q29udHJvbGxlcnMuanMiLCJjb250b3JvbGxlcnMvbWFpbi9tZW51Q29udHJvbGxlcnMuanMiLCJjb250b3JvbGxlcnMvbWFpbi9vcmRlckNvbnRyb2xsZXJzLmpzIiwiY29udG9yb2xsZXJzL21haW4vdHlwZUNvbnRyb2xsZXJzLmpzIiwiY29udG9yb2xsZXJzL3VzZXIvZW1haWxDdHJsLmpzIiwiY29udG9yb2xsZXJzL3VzZXIvdXNlckN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiYXBwIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsImhhc2hQcmVmaXgiLCJodG1sNU1vZGUiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwiaGVhZGVyIiwidGVtcGxhdGVVcmwiLCJjb250ZW50IiwibWVudUBhcHAiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwiYWNjb3VudEBhcHAiLCJjb250ZW50c0BhcHAiLCJmb290ZXIiLCJzdWJNZW51QGFwcCIsImNvbnRlbnRAIiwibWVudUBhcHAubWFuYWdlbWVudCIsImNvbnRlbnRzQGFwcC5tYW5hZ2VtZW50IiwiYXV0aGVudGljYXRlZCIsInJ1biIsIiRyb290U2NvcGUiLCJVc2VyIiwiJHN0YXRlIiwiJG9uIiwiZXZlbnQiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwib3B0aW9ucyIsImVycm9yIiwiZ28iLCJkaXJlY3RpdmUiLCIkcGFyc2UiLCJyZXN0cmljdCIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsInBhcnNlZEZpbGUiLCJmaWxlTW9kZWwiLCJwYXJzZWRmaWxlU2V0dGVyIiwiYXNzaWduIiwiYmluZCIsIiRhcHBseSIsImZpbGVzIiwiJHNjb3BlIiwiZG9Db25maXJtIiwidmFsdWVzIiwiY29uZmlybWVkIiwiZm9yRWFjaCIsImVsZSIsImNvbmZpcm0iLCIkb2JzZXJ2ZSIsIm1hdGNoZXMiLCJKU09OIiwicGFyc2UiLCJtYXRjaCIsIiR3YXRjaCIsImZhY3RvcnkiLCIkaHR0cCIsImFkbWluRmFjdG9yeSIsImNyZWF0ZVR5cGUiLCJ0eXBlRGF0YSIsInBvc3QiLCJyZWFkVHlwZSIsImdldCIsInJlYWRBcmlzdENyb3AiLCJibG9iIiwiY3JlYXRlQXJpc3RQaG90byIsInBob3RvRGF0YSIsImNyZWF0ZUl0ZW0iLCJpdGVtRGF0YSIsInJlYWRJdGVtcyIsInJlYWRJdGVtIiwiaXRlbV9pZCIsIkF1dGhUb2tlbiIsImF1dGhGYWN0b3J5IiwiZ2V0VXNlciIsImdldFRva2VuIiwiJHEiLCJyZWplY3QiLCJtZXNzYWdlIiwibG9naW4iLCJsb2dpbkRhdGEiLCJ0aGVuIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJzZXRUb2tlbiIsInRva2VuIiwiaXNMb2dnZWRJbiIsImxvZ291dCIsIiR3aW5kb3ciLCJhdXRoVG9rZW5GYWN0b3J5IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJnZXRJdGVtIiwiYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkiLCJyZXF1ZXN0IiwiaGVhZGVycyIsIm1lbnVGYWN0b3J5IiwicmVhZE1haW5NZW51IiwicmVhZFN1Yk1lbnUiLCJtYWluTWVudVR5cGUiLCJ1c2VyRmFjdG9yeSIsImdldFBlcm1pc3Npb24iLCJjcmVhdGUiLCJyZWdEYXRhIiwiYWN0aXZlQWNjb3VudCIsInB1dCIsImNoZWNrQ3JlZGVudGlhbHMiLCJyZXNlbmRMaW5rIiwidXNlcm5hbWUiLCJzZW5kVXNlcm5hbWUiLCJ1c2VyRGF0YSIsInNlbmRQYXNzd29yZCIsInJlc2V0RGF0YSIsInJlc2V0UGFzc3dvcmQiLCJzYXZlUGFzc3dvcmQiLCJyZW5ld1Nlc3Npb24iLCJBdXRoIiwiJHRpbWVvdXQiLCIkbG9jYXRpb24iLCIkaW50ZXJ2YWwiLCJ0aGlzIiwibG9hZG1lIiwibG9hZGluZyIsImNoZWNrU2Vzc2lvbiIsInVzZXIiLCJzdWNjZXNzIiwicGVybWlzc2lvbiIsImF1dGhvcml6ZWQiLCJpbnRlcnZhbCIsImNhbmNlbCIsInNlbGYiLCJwYXJzZUp3dCIsImJhc2U2NFVybCIsInNwbGl0IiwiYmFzZTY0IiwicmVwbGFjZSIsImF0b2IiLCJleHBpcmVUaW1lIiwidGltZVN0YW1wIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsImV4cCIsInNob3dNb2RhbCIsImNob2ljZU1hZGUiLCJoaWRlTW9kYWwiLCJNb2RhbEJvZHkiLCJlbmRTZXNzaW9uIiwib3B0aW9uIiwibW9kYWxIZWFkZXIiLCJ1bmRlZmluZWQiLCJtb2RhbEJvZHkiLCJoaWRlQnV0dG9uIiwiJCIsIm1vZGFsIiwiYmFja2Ryb3AiLCJyZWxvYWQiLCJkb0xvZ2luIiwidmFsaWQiLCJlcnJvck1zZyIsImV4cGlyZWQiLCJkaXNhYmxlZCIsInN1Y2Nlc3NNc2ciLCJyZXNlbmQiLCJyZXNldHVzZXJuYW1lIiwicmVzZXRwYXNzd29yZCIsIkFkbWluIiwidHlwZURhdGFzIiwicmVzdWx0IiwiTWVudSIsImtpbmRWYWx1ZSIsImZpbmRMaXN0IiwidHlwZV90aW55IiwiYXZhaWxhYmxlT3B0aW9ucyIsImlkIiwibmFtZSIsInNlbGVjdGVkT3B0aW9uIiwidHlwZSIsImkiLCJsZW5ndGgiLCJjYXRlZ29yeV9pZCIsImNhdGVnb3J5IiwidHlwZTEiLCJjb2RlMSIsInR5cGUxX2Rlc2NyaXB0aW9uIiwidHlwZTIiLCJjb2RlMiIsInR5cGUyX2Rlc2NyaXB0aW9uIiwia2luZCIsInRvU3RyaW5nIiwiYWRkTGluZSIsImZpbmQiLCJpdGVtc0RhdGEiLCIkc3RhdGVQYXJhbXMiLCJpdGVtX3R5cGVfaWQiLCJkZWNvZGVCYXNlNjRJbWFnZSIsImRhdGFTdHJpbmciLCJFcnJvciIsImZpbGUiLCJtYWluUGhvdG9DaGFuZ2VkIiwiJGVtaXQiLCJmaWxlUmVhZGVyIiwiRmlsZVJlYWRlciIsInJlYWRBc0RhdGFVUkwiLCJvbmxvYWQiLCJlIiwibWFpblRodW1ibmFpbCIsImRhdGFVcmwiLCJ0YXJnZXQiLCJyZWFkUGhvdG8iLCJtYWluUGhvdG8iLCJmZCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidXBsb2FkIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwiQ29udGVudC1UeXBlIiwiYWxlcnQiLCJtYWluSW1hZ2VQYXRoIiwiaXRlbV9wYXRoIiwiZXhwbGFpblBob3RvQ2hhbmdlZCIsImV4cGxhaW5UaHVtYm5haWwiLCJyZWFkUGhvdG9FeHBsYWluIiwiZXhwbGFpblBob3RvIiwiZXhwbGFpbkltYWdlUGF0aCIsIm15SW1hZ2UiLCJteUNyb3BwZWRJbWFnZSIsImhhbmRsZUZpbGVTZWxlY3QiLCJldnQiLCJjdXJyZW50VGFyZ2V0IiwicmVhZGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib24iLCJyZWFkQ3JvcEltYWdlIiwidGh1bWJuYWlsIiwidGh1bWJuYWlsUGF0aCIsImZpbGVQYXRoIiwiY3JlYXRlUGhvdG8iLCJ1cGxvYWREYXRhIiwidGl0bGUiLCJwcmljZSIsImV4cGxhaW4iLCJpbWFnZSIsIm1haW5NZW51ZXMiLCJvcmRlckRhdGEiLCJjb25maXJtT3JkZXIiLCJhbW91bnQiLCJwbHVzIiwibWludXMiLCJiYXNrZXREYXRhIiwiY3JlYXRlQmFza2V0IiwiY3JlYXRlT3JkZXIiLCJraW5kT2YiLCJlbWFpbCIsImhpZGUiLCJy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QUEsR0FSQTdLLEVBQUEySyxTQUFBLCtCQWVBeEMsS0FBQTJJLFNBQUEsU0FBQTVKLEVBQUF3RCxFQUFBcEgsR0FDQXRELEVBQUEySyxVQUFBLEVBQ0EzSyxFQUFBNkssVUFBQSxFQUVBSCxHQUFBcEgsRUFDQTVCLEVBQUF1RixPQUFBakgsRUFBQWtILFNBQUF4QixLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUE2QyxTQUNBeEksRUFBQTZLLFVBQUEsRUFDQTdLLEVBQUE4SyxXQUFBbkYsRUFBQUEsS0FBQUosUUFDQXdDLEVBQUF2QyxNQUFBeEYsRUFBQWtILFNBQUF4QixLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUE2QyxTQUNBeEksRUFBQTZLLFVBQUEsRUFDQTdLLEVBQUE4SyxXQUFBbkYsRUFBQUEsS0FBQUosUUFDQXlDLEVBQUEsV0FDQXJHLEVBQUFTLEdBQUEsUUFDQSxNQUVBdUQsRUFBQUEsS0FBQWlGLFNBQ0E1SyxFQUFBNEssU0FBQSxFQUNBNUssRUFBQTZLLFVBQUEsRUFDQTdLLEVBQUEySyxTQUFBaEYsRUFBQUEsS0FBQUosVUFFQXZGLEVBQUE2SyxVQUFBLEVBQ0E3SyxFQUFBMkssU0FBQWhGLEVBQUFBLEtBQUFKLGFBS0F2RixFQUFBNkssVUFBQSxFQUNBN0ssRUFBQTJLLFNBQUFoRixFQUFBQSxLQUFBSixZQUtBdkYsRUFBQTZLLFVBQUEsRUFDQTdLLEVBQUFxSSxTQUFBLEVBQ0FySSxFQUFBMkssU0FBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwJyxbXHJcbiAgICAndWkucm91dGVyJyxcclxuICAgICd1aS5ib290c3RyYXAnLFxyXG4gICAgJ21lbnVDb250cm9sbGVycycsXHJcbiAgICAndXNlckNvbnRyb2xsZXJzJyxcclxuICAgICdtYWluQ29udHJvbGxlcnMnLFxyXG4gICAgJ2VtYWlsQ29udHJvbGxlcnMnLFxyXG4gICAgJ21hbmFnZW1lbnRDb250cm9sbGVycycsXHJcbiAgICAndHlwZUNvbnRyb2xsZXJzJyxcclxuICAgICdvcmRlckNvbnRyb2xsZXJzJyxcclxuICAgICd1aUNyb3BwZXInXHJcbl0pLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKXtcclxuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBdXRoSW50ZXJjZXB0b3JzJyk7XHJcbn0pO1xyXG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xyXG4kdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG4kbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCcnKTtcclxuJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG5cclxuICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAnLCB7XHJcbiAgICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2hlYWRlcic6IHtcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWVudWVzL2hlYWRlci5odG1sJ1xyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAnY29udGVudCc6IHtcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFpbi9mb3JtLmh0bWwnXHJcbiAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICdtZW51QGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tZW51ZXMvbWFpbk1lbnUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5NZW51Q3RybCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnbWFpbk1lbnUnXHJcbiAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICdhY2NvdW50QGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2FjY291bnQuaHRtbCdcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2hvbWUuaHRtbCdcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2Zvb3Rlcic6IHtcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9mb290ZXIuaHRtbCdcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC51c2VyJywge1xyXG4gICAgICAgICAgICAgIHVybDogJ3VzZXInLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9wYXJ0aWFsL3VzZXIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5jb21tZXJjZURldGFpbCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICdjb21tZXJjZS1kZXRhaWwnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9wYXJ0aWFsL2NvbW1lcmNlRGV0YWlsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYmFza2V0Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJ2Jhc2tldCcsXHJcbiAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3BhcnRpYWwvYmFza2V0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYmFza2V0Q3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2Jhc2tldCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5jYXRlZ29yeScsIHtcclxuICAgICAgICAgICAgICB1cmw6ICdjYXRlZ29yeT06dHlwZScsXHJcbiAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdzdWJNZW51QGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWVudWVzL3N1Yk1lbnUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xsZXI6ICdzdWJNZW51Q3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xsZXJBczogJ3N1Yk1lbnUnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY2F0ZWdvcnllcy9pdGVtcy9mb3JtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2V0VHlwZUl0ZW1zQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dldFR5cGVJdGVtcydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5jYXRlZ29yeS5zaG93Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9pdGVtOml0ZW1faWQnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2l0ZW1zL2l0ZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZXRUeXBlSXRlbUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnZXRUeXBlSXRlbSdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYWtlT3JkZXInLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnbWFrZU9yZGVyJyxcclxuICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvb3JkZXIvbWFrZU9yZGVyLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVhZE9yZGVyQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlYWRPcmRlcidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5jb25maXJtT3JkZXInLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnY29uZmlybU9yZGVyJyxcclxuICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvb3JkZXIvY29uZmlybU9yZGVyLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVhZE9yZGVyQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlYWRPcmRlckN0cmwnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2JvYXJkL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50JyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnbWFuYWdlbWVudCcsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudEAnIDoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9mb3JtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgJ21lbnVAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L21lbnUuaHRtbCdcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAubWFuYWdlbWVudC5pdGVtcycsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy9pdGVtcycsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvaXRlbXMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaXRlbXNDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2l0ZW1zJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50Lml0ZW1zLnNob3cnLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICc6aXRlbV9pZCcsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvaXRlbS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdpdGVtQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdpdGVtJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50LmJhbm5lclVwbG9hZCcsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy9iYW5uZXJVcGxvYWQnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5tYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9wYXJ0aWFsL2Jhbm5lclVwbG9hZC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50Lm9yZGVyU3RhdHVzJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL29yZGVyU3RhdHVzJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAubWFuYWdlbWVudCc6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC9vcmRlclN0YXR1cy5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50Lm1lbWJlcnMnLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvbWVtYmVycycsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvbWVtYmVycy5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlclN0ZXAxJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyL3N0ZXAxJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3JlZ2lzdGVyL3JlZ2lzdGVyU3RlcDEuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3JlZ2lzdGVyU3RlcDInLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvcmVnaXN0ZXIvc3RlcDInLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVnQ3RybCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJyxcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVnaXN0ZXIvcmVnaXN0ZXJTdGVwMi5odG1sJyxcclxuICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvdXNlcm5hbWUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJuYW1lQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndXNlcm5hbWUnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L3Bhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwYXNzd29yZEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Bhc3N3b3JkJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNldCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXQvOnRva2VuJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC9uZXdwYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZXRDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZXNldCdcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FjdGl2YXRlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9hY3RpdmF0ZS86dG9rZW4nLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL2FjdGl2YXRpb24vYWN0aXZhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2VtYWlsQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZW1haWwnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2VuZCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZW5kJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9hY3RpdmF0aW9uL3Jlc2VuZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZW5kQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVzZW5kJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmludHJvJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ2ludHJvJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NvbXBhbnkvaW50cm8uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAudGVybXMnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAndGVybXMnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS90ZXJtcy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5wcml2YWN5JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ3ByaXZhY3knLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9wcml2YWN5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG59KTtcblxuYXBwLnJ1bihmdW5jdGlvbigkcm9vdFNjb3BlLCBVc2VyLCAkc3RhdGUpe1xuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCAgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIG9wdGlvbnMpe1xuICB9KTtcbiAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcil7XG4gICAgJHN0YXRlLmdvKCdhcHAnKTtcbiAgfSk7XG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uZGlyZWN0aXZlKCdmaWxlTW9kZWwnLGZ1bmN0aW9uKCRwYXJzZSl7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG4gICAgICB2YXIgcGFyc2VkRmlsZSA9ICRwYXJzZShhdHRycy5maWxlTW9kZWwpO1xyXG4gICAgICB2YXIgcGFyc2VkZmlsZVNldHRlciA9IHBhcnNlZEZpbGUuYXNzaWduO1xyXG5cclxuICAgICAgZWxlbWVudC5iaW5kKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICBwYXJzZWRmaWxlU2V0dGVyKHNjb3BlLCBlbGVtZW50WzBdLmZpbGVzWzBdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uZGlyZWN0aXZlKCdtYXRjaCcsZnVuY3Rpb24oKXtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIGNvbnRyb2xsZXI6ZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgJHNjb3BlLmRvQ29uZmlybSA9IGZ1bmN0aW9uKHZhbHVlcyl7XHJcblxyXG4gICAgICAgICRzY29wZS5jb25maXJtZWQgPSBmYWxzZTtcclxuICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihlbGUpe1xyXG4gICAgICAgICAgaWYoJHNjb3BlLmNvbmZpcm0gPT0gZWxlKXtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IHRydWU7XHJcbiAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jb25maXJtZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgbGluazpmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG4gICAgICBhdHRycy4kb2JzZXJ2ZSgnbWF0Y2gnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBKU09OLnBhcnNlKGF0dHJzLm1hdGNoKTtcclxuICAgICAgICBzY29wZS5kb0NvbmZpcm0oc2NvcGUubWF0Y2hlcyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGUuJHdhdGNoKCdjb25maXJtJywgZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS5tYXRjaGVzID0gSlNPTi5wYXJzZShhdHRycy5tYXRjaCk7XHJcbiAgICAgICAgc2NvcGUuZG9Db25maXJtKHNjb3BlLm1hdGNoZXMpO1xyXG5cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhZG1pblNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0FkbWluJywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGFkbWluRmFjdG9yeSA9IHt9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkuY3JlYXRlVHlwZSA9IGZ1bmN0aW9uKHR5cGVEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2l0ZW1fdHlwZScsIHR5cGVEYXRhKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkucmVhZFR5cGUgPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9pdGVtX3R5cGUnKTtcclxuICB9O1xyXG4gIGFkbWluRmFjdG9yeS5yZWFkQXJpc3RDcm9wID0gZnVuY3Rpb24oYmxvYil7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jcmVhdGVDcm9wSW1hZ2UnLCBibG9iKTtcclxuICB9O1xyXG4gIC8vIEFydGlzdC5jcmVhdGVQaG90byhwaG90b0RhdGEpXHJcbiAgYWRtaW5GYWN0b3J5LmNyZWF0ZUFyaXN0UGhvdG8gPSBmdW5jdGlvbihwaG90b0RhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYXJ0aXN0UHJvZmlsZXMnLCBwaG90b0RhdGEpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5jcmVhdGVJdGVtID0gZnVuY3Rpb24oaXRlbURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvaXRlbScsIGl0ZW1EYXRhKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkucmVhZEl0ZW1zID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvaXRlbScpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5yZWFkSXRlbSA9IGZ1bmN0aW9uKGl0ZW1faWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9pdGVtLycraXRlbV9pZCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGFkbWluRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhdXRoU2VydmljZXMnLFtdKVxyXG5cclxuLmZhY3RvcnkoJ0F1dGgnLCBmdW5jdGlvbigkaHR0cCwgQXV0aFRva2VuKXtcclxuICAgIHZhciBhdXRoRmFjdG9yeSA9IHt9O1xyXG4vLyBBdXRoLmdldFVzZXIoKTtcclxuICAgIGF1dGhGYWN0b3J5LmdldFVzZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgICBpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSl7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbWUnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkcS5yZWplY3Qoe21lc3NhZ2U6J1VzZXIgaGFzIG5vIHRva2VuJ30pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5sb2dpbihsb2dpbkRhdGEpO1xyXG4gICAgYXV0aEZhY3RvcnkubG9naW4gPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hdXRoZW50aWNhdGUnLCBsb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgQXV0aFRva2VuLnNldFRva2VuKGRhdGEuZGF0YS50b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbi8vIEF1dGguaXNMb2dnZWRJbigpO1xyXG4gICAgYXV0aEZhY3RvcnkuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKXtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmxvZ291dCgpO1xyXG4gICAgYXV0aEZhY3RvcnkubG9nb3V0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgQXV0aFRva2VuLnNldFRva2VuKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGF1dGhGYWN0b3J5O1xyXG59KVxyXG5cclxuLmZhY3RvcnkoJ0F1dGhUb2tlbicsIGZ1bmN0aW9uKCR3aW5kb3cpe1xyXG4gIHZhciBhdXRoVG9rZW5GYWN0b3J5ID0ge307XHJcblxyXG4gIC8vIEF1dGhUb2tlbi5zZXRUb2tlbih0b2tlbik7XHJcbiAgYXV0aFRva2VuRmFjdG9yeS5zZXRUb2tlbiA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIGlmKHRva2VuKXtcclxuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4vLyBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuICBhdXRoVG9rZW5GYWN0b3J5LmdldFRva2VuID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG4gIH07XHJcbiAgcmV0dXJuIGF1dGhUb2tlbkZhY3Rvcnk7XHJcbn0pXHJcblxyXG4uZmFjdG9yeSgnQXV0aEludGVyY2VwdG9ycycsIGZ1bmN0aW9uKEF1dGhUb2tlbil7XHJcbiAgdmFyIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5ID0ge307XHJcblxyXG4gIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5LnJlcXVlc3QgPSBmdW5jdGlvbihjb25maWcpe1xyXG4gICAgdmFyIHRva2VuID0gQXV0aFRva2VuLmdldFRva2VuKCk7XHJcblxyXG4gICAgaWYodG9rZW4pIGNvbmZpZy5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddID0gdG9rZW47XHJcblxyXG4gICAgcmV0dXJuIGNvbmZpZztcclxuICB9O1xyXG4gIHJldHVybiBhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtZW51U2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnTWVudScsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBtZW51RmFjdG9yeSA9IHt9O1xyXG4gIG1lbnVGYWN0b3J5LnJlYWRNYWluTWVudSA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lbnUnKTtcclxuICB9O1xyXG4gIG1lbnVGYWN0b3J5LnJlYWRTdWJNZW51ID0gIGZ1bmN0aW9uKG1haW5NZW51VHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lbnUvJyttYWluTWVudVR5cGUpO1xyXG4gIH07XHJcbiAgcmV0dXJuIG1lbnVGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdVc2VyJywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIHVzZXJGYWN0b3J5ID0ge307XHJcblxyXG4gIHVzZXJGYWN0b3J5LmdldFBlcm1pc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wZXJtaXNzaW9uJyk7XHJcbiAgfTtcclxuLy8gVXNlci5jcmVhdGUocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuYWN0aXZlQWNjb3VudCh0b2tlbik7XHJcbiAgdXNlckZhY3RvcnkuYWN0aXZlQWNjb3VudCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYWN0aXZhdGUvJyt0b2tlbik7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuY2hlY2tDcmVkZW50aWFscyhsb2dpbkRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcmVzZW5kJywgbG9naW5EYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNlbmRMaW5rKHVzZXJuYW1lKVxyXG4gIHVzZXJGYWN0b3J5LnJlc2VuZExpbmsgPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Jlc2VuZCcsIHVzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kVXNlcm5hbWUodXNlckRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVzZXR1c2VybmFtZS8nK3VzZXJEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kUGFzc3dvcmQocmVzZXREYXRhKTtcclxuICB1c2VyRmFjdG9yeS5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9yZXNldHBhc3N3b3JkJywgcmVzZXREYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNldFBhc3N3b3JkKHRva2VuKTtcclxuICB1c2VyRmFjdG9yeS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZXNldHBhc3N3b3JkLycrdG9rZW4pO1xyXG4gIH07XHJcblxyXG5cclxuLy8gVXNlci5zYXZlUGFzc3dvcmQocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc2F2ZXBhc3N3b3JkJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vICBVc2VyLnJlbmV3U2Vzc2lvbih1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZW5ld1Nlc3Npb24gPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3JlbmV3VG9rZW4vJysgdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG5cclxuICByZXR1cm4gdXNlckZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWFpbkNvbnRyb2xsZXJzJyxbJ2F1dGhTZXJ2aWNlcycsICd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ21haW5DdHJsJywgZnVuY3Rpb24oQXV0aCwgJHRpbWVvdXQsICRsb2NhdGlvbiwgJHN0YXRlLCAkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3csICRpbnRlcnZhbCwgVXNlciwgQXV0aFRva2VuKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgYXBwLmxvYWRtZSA9IGZhbHNlO1xyXG5cclxuICAkc2NvcGUuJG9uKCdMT0FEJywgZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgJHNjb3BlLiRvbignVU5MT0FEJywgZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgfSk7XHJcblxyXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCl7XHJcbiAgICBpZighY2hlY2tTZXNzaW9uKSB7XHJcbiAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYoQXV0aC5pc0xvZ2dlZEluKCkpe1xyXG4gICAgICAgIGFwcC5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICBBdXRoLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgYXBwLnVzZXIgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgIFVzZXIuZ2V0UGVybWlzc2lvbigpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEucGVybWlzc2lvbiA9PT0gJ2FkbWluJyl7XHJcbiAgICAgICAgICAgICAgICBhcHAuYXV0aG9yaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYoZGF0YS5kYXRhLnBlcm1pc3Npb24gPT09ICdhcnRpc3QnKXtcclxuICAgICAgICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC51c2VyID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB2YXIgY2hlY2tTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgIGlmKEF1dGguaXNMb2dnZWRJbigpKXtcclxuICAgICAgYXBwLmNoZWNrU2Vzc2lvbiA9IHRydWU7XHJcbiAgICAgIHZhciBpbnRlcnZhbCA9ICRpbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciB0b2tlbiA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgICAgICAgaWYodG9rZW4gPT09IG51bGwpe1xyXG4gICAgICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYucGFyc2VKd3QgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICAgICAgICAgIHZhciBiYXNlNjRVcmwgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xyXG4gICAgICAgICAgICB2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoJy0nLCcrJykucmVwbGFjZSgnXycsICcvJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKCR3aW5kb3cuYXRvYihiYXNlNjQpKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2YXIgZXhwaXJlVGltZSA9IHNlbGYucGFyc2VKd3QodG9rZW4pO1xyXG4gICAgICAgICAgdmFyIHRpbWVTdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xyXG4gICAgICAgICAgdmFyIHRpbWVDaGVjayA9IGV4cGlyZVRpbWUuZXhwIC0gdGltZVN0YW1wO1xyXG5cclxuICAgICAgICAgIGlmKHRpbWVDaGVjayA8PSA1KXtcclxuICAgICAgICAgICAgc2hvd01vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sIDIwMDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNoZWNrU2Vzc2lvbigpO1xyXG5cclxuXHJcbiAgICBhcHAucmVuZXdTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICBVc2VyLnJlbmV3U2Vzc2lvbihhcHAudXNlci51c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgYXBwLk1vZGFsQm9keSA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgYXBwLmVuZFNlc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIHNob3dNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgICAgIH0sNTAwKTtcclxuICAgIH07XHJcblxyXG5cclxuICB2YXIgc2hvd01vZGFsID0gZnVuY3Rpb24ob3B0aW9uKXtcclxuICAgIGFwcC5jaG9pY2VNYWRlID0gZmFsc2U7XHJcbiAgICBhcHAubW9kYWxIZWFkZXIgPSB1bmRlZmluZWQ7XHJcbiAgICBhcHAubW9kYWxCb2R5ID0gdW5kZWZpbmVkO1xyXG4gICAgYXBwLmhpZGVCdXR0b24gPSBmYWxzZTtcclxuLy8gY2hlY2sgdG9rZW4gZXhwaXJlZFxyXG4gICAgaWYob3B0aW9uID09PSAgJ2V4cGlyZWQnICl7XHJcbiAgICAgIGFwcC5tb2RhbEhlYWRlciA9ICdUaW1lb3V0IFdhcm5pbmcnO1xyXG4gICAgICBhcHAubW9kYWxCb2R5ID0gJ1lvdXIgc2Vzc2lvbiB3aWxsIGV4cGlyZWQgaW4gNSBtaW51dGVzLiBXb3VsZCB5b3UgbGlrZSB0byByZW5ldyB5b3VyIHNlc3Npb24/JztcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9nb3V0Jyl7XHJcbi8vIGxvZ291dFxyXG4gICAgICBhcHAuaGlkZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgIGFwcC5tb2RhbEhlYWRlciA9ICfroZzqt7jslYTsm4MnO1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgaGlkZU1vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ2luJyl7XHJcbi8vIExvZ2luXHJcbiAgICAgICQoXCIjbG9naW5cIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgIH1cclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBpZighYXBwLmNob2ljZU1hZGUpe1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDIwMDApO1xyXG5cclxuICB9O1xyXG5cclxuICB2YXIgaGlkZU1vZGFsID0gZnVuY3Rpb24ob3B0aW9uKXtcclxuXHJcbiAgICBpZihvcHRpb24gPT09ICdleHBpcmVkJyl7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ291dCcpe1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dpbicpe1xyXG4gICAgICAkKFwiI2xvZ2luXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG4vLyDroZzqt7jsnbhcclxuICB0aGlzLmRvTG9naW4gPSBmdW5jdGlvbihsb2dpbkRhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBBdXRoLmxvZ2luKGFwcC5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgIGFwcC5sb2dpbkRhdGEgPSBudWxsO1xyXG4gICAgICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5leHBpcmVkKXtcclxuICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIElmIGVycm9yIG9jY3VycywgcmVtb3ZlIGRpc2FibGUgbG9jayBmcm9tIGZvcm1cclxuICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBib290c3RyYXAgbG9hZGluZyBpY29uXHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcblxyXG4gIGFwcC5sb2dpbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIHNob3dNb2RhbCgnbG9naW4nKTtcclxuICB9O1xyXG5cclxuICBhcHAubG9nb3V0ID0gZnVuY3Rpb24oKXtcclxuICAgIHNob3dNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLnJlc2VuZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2VuZCcpO1xyXG4gICAgICBhcHAuZXhwaXJlZCA9IGZhbHNlO1xyXG4gICAgfSw1MDApO1xyXG4gIH07XHJcblxyXG4gIGFwcC5yZXNldHVzZXJuYW1lID0gZnVuY3Rpb24oKXtcclxuICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICRzdGF0ZS5nbygncmVzZXR1c2VybmFtZScpO1xyXG4gICAgfSw1MDApO1xyXG4gIH07XHJcblxyXG4gIGFwcC5yZXNldHBhc3N3b3JkID0gZnVuY3Rpb24oKXtcclxuICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICRzdGF0ZS5nbygncmVzZXRwYXNzd29yZCcpO1xyXG4gICAgfSw1MDApO1xyXG5cclxuICB9O1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtYW5hZ2VtZW50Q29udHJvbGxlcnMnLFsnYWRtaW5TZXJ2aWNlcycsICdtZW51U2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2l0ZW1UeXBlQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIEFkbWluLnJlYWRUeXBlKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLnR5cGVEYXRhcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdjcmVhdGVUeXBlQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGUsICRodHRwLCBNZW51KXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBhcHAua2luZFZhbHVlID0gW107XHJcbiAgYXBwLmZpbmRMaXN0ID0gW107XHJcbiAgYXBwLnR5cGVfdGlueSA9IFtdO1xyXG5cclxuXHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgfTtcclxuXHJcbiAgIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICBuYW1lOiB0eXBlW2ldLm5hbWUsXHJcbiAgICAgICAgICAgaWQ6IHR5cGVbaV0uY2F0ZWdvcnlfaWRcclxuICAgICAgICAgfTtcclxuICAgICAgIH1cclxuICAgICB9IGVsc2Uge1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgfVxyXG4gICB9KTtcclxuXHJcblxyXG4gIHRoaXMuY3JlYXRlVHlwZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAudHlwZURhdGEgPSB7XHJcbiAgICAgIGNhdGVnb3J5OiBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZCxcclxuICAgICAgdHlwZTE6IGRhdGEuY29kZTEsXHJcbiAgICAgIHR5cGUxX2Rlc2NyaXB0aW9uOiBkYXRhLnR5cGUxLFxyXG4gICAgICB0eXBlMjogZGF0YS5jb2RlMixcclxuICAgICAgdHlwZTJfZGVzY3JpcHRpb246IGRhdGEudHlwZTIsXHJcbiAgICAgIGtpbmQ6IGFwcC50eXBlX3RpbnkudG9TdHJpbmcoKVxyXG4gICAgfTtcclxuXHJcbiAgICBBZG1pbi5jcmVhdGVUeXBlKGFwcC50eXBlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5zdWNjZXNzID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSk7XHJcbiAgfTtcclxuICB0aGlzLmFkZExpbmUgPSBmdW5jdGlvbigpe1xyXG4gICAgYXBwLmZpbmRMaXN0LnB1c2goe2ZpbmQ6IGFwcC5raW5kVmFsdWV9KTtcclxuICAgIGFwcC50eXBlX3RpbnkucHVzaChhcHAua2luZFZhbHVlKTtcclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2l0ZW1zQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIEFkbWluLnJlYWRJdGVtcygpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5pdGVtc0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbn0pXHJcblxyXG5cclxuXHJcbi5jb250cm9sbGVyKCdpdGVtQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGVQYXJhbXMsICRzY29wZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIGl0ZW1faWQgPSAkc3RhdGVQYXJhbXMuaXRlbV9pZDtcclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgXSxcclxuICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuLy8g7Lm07YWM6rOg66asIO2DgOyehSDqsIDsoLjsmKTquLBcclxuICAgIEFkbWluLnJlYWRUeXBlKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0udHlwZTFfZGVzY3JpcHRpb24rJy0nK3R5cGVbaV0udHlwZTJfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGlkOiB0eXBlW2ldLml0ZW1fdHlwZV9pZFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICBBZG1pbi5yZWFkSXRlbShpdGVtX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAuaXRlbURhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbiA9IHtcclxuICAgICAgICBpZCA6IGFwcC5pdGVtRGF0YS50eXBlXHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG4uY29udHJvbGxlcignaXRlbVVwbG9hZEN0cmwnLCBmdW5jdGlvbiAoJGh0dHAsICR0aW1lb3V0LCAkc2NvcGUsIEFkbWluLCAkc3RhdGUsICR3aW5kb3cpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG4vLyDsubTthYzqs6Drpqwg7YOA7J6FIOqwgOyguOyYpOq4sFxyXG4gICAgIEFkbWluLnJlYWRUeXBlKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgbmFtZTogdHlwZVtpXS50eXBlMV9kZXNjcmlwdGlvbisnLScrdHlwZVtpXS50eXBlMl9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgIGlkOiB0eXBlW2ldLml0ZW1fdHlwZV9pZFxyXG4gICAgICAgICAgIH07XHJcbiAgICAgICAgIH1cclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG5cclxuLy8g7YyM7J287J2YIOqyveuhnOunjCDsoIDsnqXtlZjquLAg66mU7J24IOydtOuvuOyngCDrp4zrk6TquLBcclxuICAgIHRoaXMuZmlsZSA9IHt9O1xyXG4vLyDrqZTsnbgg7J6R7ZKI7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbiAgICB0aGlzLm1haW5QaG90b0NoYW5nZWQgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcblxyXG4vLyDrqZTsnbgg7J6R7ZKIIOydtOuvuOyngCDsl4XroZzrk5ztlbTshJwg6rK966GcIOyggOyepVxyXG4gICAgdGhpcy5yZWFkUGhvdG8gPSBmdW5jdGlvbigpe1xyXG4vLyDrqZTsnbgg7J2066+47KeAIOyXheuhnOuTnCDsl6zrtoBcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIGFwcC5tYWluUGhvdG8gPSBmYWxzZTtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2NyZWF0ZVBob3RvSW1hZ2UvJywgZmQse1xyXG4gICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcbiAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgYXBwLm1haW5QaG90byA9IHRydWU7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5tYWluSW1hZ2VQYXRoID0gZGF0YS5kYXRhLml0ZW1fcGF0aDtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4vLyDsnpHtkogg7ISk66qFIOydtOuvuOyngCDsl4XroZzrk5wg65CY7JeI64qU7KeAIOuztOyXrOyjvOq4sFxyXG4gICAgdGhpcy5leHBsYWluUGhvdG9DaGFuZ2VkID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZXNbMF0ubmFtZS5tYXRjaCgvXFwuKHBuZ3xqcGVnfGpwZykkLykpIHtcclxuICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG5cclxuLy8g7J6R7ZKIIOyEpOuqhSAg7J2066+47KeAIOyXheuhnOuTnO2VtOyEnCDqsr3roZwg7KCA7J6lXHJcbiAgICB0aGlzLnJlYWRQaG90b0V4cGxhaW4gPSBmdW5jdGlvbigpe1xyXG4vLyDsnpHtkogg7ISk66qFICDsl4XroZzrk5wg7Jes67aAXHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICBhcHAuZXhwbGFpblBob3RvID0gZmFsc2U7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICBmZC5hcHBlbmQoJ215ZmlsZScsIGFwcC5maWxlLnVwbG9hZCk7XHJcbiAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9jcmVhdGVQaG90b0V4cGxhaW4vJywgZmQse1xyXG4gICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcbiAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgYXBwLmV4cGxhaW5QaG90byA9IHRydWU7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5leHBsYWluSW1hZ2VQYXRoID0gZGF0YS5kYXRhLml0ZW1fcGF0aDtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG5cclxuLy8g7I2464Sk7J28IOydtOuvuOyngCDrp4zrk6TquLBcclxuICAgICAgYXBwLm15SW1hZ2U9Jyc7XHJcbiAgICAgIGFwcC5teUNyb3BwZWRJbWFnZT0nJztcclxuXHJcbiAgICAgIHZhciBoYW5kbGVGaWxlU2VsZWN0PWZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgIHZhciBmaWxlPWV2dC5jdXJyZW50VGFyZ2V0LmZpbGVzWzBdO1xyXG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCRzY29wZSl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5teUltYWdlPWV2dC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgfTtcclxuICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVJbnB1dCcpKS5vbignY2hhbmdlJyxoYW5kbGVGaWxlU2VsZWN0KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGVjb2RlQmFzZTY0SW1hZ2UoZGF0YVN0cmluZykge1xyXG4gICAgICAgICAgdmFyIG1hdGNoZXMgPSBkYXRhU3RyaW5nLm1hdGNoKC9eZGF0YTooW0EtWmEtei0rXFwvXSspO2Jhc2U2NCwoLispJC8pO1xyXG5cclxuICAgICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCAhPT0gMykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0IHN0cmluZycpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGZpbGUgPSB7XHJcbiAgICAgICAgICAgICAgdHlwZSA6IG1hdGNoZXNbMV0sXHJcbiAgICAgICAgICAgICAgZGF0YSA6IG1hdGNoZXNbMl1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIGZpbGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuLy8g7I2464Sk7J28IOydtOuvuOyngCDroZzsu6zrlJTsiqTtgazsl5Ag7KCA7J6lIO2bhCDsoIDsnqUg7JyE7LmYIOqwgOyguOyYpOq4sFxyXG4gICAgICAgIHRoaXMucmVhZENyb3BJbWFnZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICBhcHAudGh1bWJuYWlsID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgaWYoZGF0YS5iYXNlNjRVcmwgPT09ICcnIHx8IGRhdGEuYmFzZTY0VXJsID09PSBudWxsIHx8IGRhdGEuYmFzZTY0VXJsID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJsb2IgPSBkZWNvZGVCYXNlNjRJbWFnZSgkc2NvcGUubXlDcm9wcGVkSW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgQWRtaW4ucmVhZEFyaXN0Q3JvcChibG9iKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsUGF0aCA9IGRhdGEuZGF0YS5maWxlUGF0aDtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuXHJcblxyXG4vLyDsnpHqsIAg7J6R7ZKIIOyXheuhnOuTnFxyXG4gICAgICB0aGlzLmNyZWF0ZVBob3RvID0gZnVuY3Rpb24odXBsb2FkRGF0YSl7XHJcbiAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgaWYodXBsb2FkRGF0YSA9PT0gdW5kZWZpbmVkIHx8IHVwbG9hZERhdGEgPT09IG51bGwgfHwgdXBsb2FkRGF0YSA9PT0gJycpe1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydCgn67mI7Lm47J2EIOuqqOuRkCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYoYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQgPT09ICcwJyl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsg4Htkogg7YOA7J6F7J2EIOyEoO2Dne2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAubWFpbkltYWdlUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC5tYWluSW1hZ2VQYXRoID09PSAgbnVsbCB8fCBhcHAubWFpbkltYWdlUGF0aCA9PT0gJycpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7IOB7ZKIIOydtOuvuOyngOulvCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYodXBsb2FkRGF0YS50aXRsZSA9PT0gdW5kZWZpbmVkIHx8IHVwbG9hZERhdGEudGl0bGUgPT09ICBudWxsIHx8IHVwbG9hZERhdGEudGl0bGU9PT0gJycpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7IOB7ZKIIOygnOuqqeulvCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYoYXBwLmV4cGxhaW5JbWFnZVBhdGggPT09IHVuZGVmaW5lZCB8fCBhcHAuZXhwbGFpbkltYWdlUGF0aCA9PT0gbnVsbCB8fCBhcHAuZXhwbGFpbkltYWdlUGF0aCA9PT0gJycpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+yDge2SiCDshKTrqoUg7J2066+47KeA66W8IOyXheuhnOuTnO2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAudGh1bWJuYWlsUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC50aHVtYm5haWxQYXRoID09PSBudWxsIHx8IGFwcC50aHVtYm5haWxQYXRoID09PSAnJykge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7I2464Sk7J28IOydtOuvuOyngOulvCDsl4XroZzrk5ztlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC51cGxvYWREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IHVwbG9hZERhdGEudGl0bGUsXHJcbiAgICAgICAgICAgICAgICBwcmljZTogdXBsb2FkRGF0YS5wcmljZSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkLFxyXG4gICAgICAgICAgICAgICAgdGh1bWJuYWlsOiBhcHAudGh1bWJuYWlsUGF0aCxcclxuICAgICAgICAgICAgICAgIGV4cGxhaW46IGFwcC5leHBsYWluSW1hZ2VQYXRoLFxyXG4gICAgICAgICAgICAgICAgaW1hZ2U6IGFwcC5tYWluSW1hZ2VQYXRoXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBBZG1pbi5jcmVhdGVJdGVtKGFwcC51cGxvYWREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ21lbnVDb250cm9sbGVycycsWydtZW51U2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ21haW5NZW51Q3RybCcsIGZ1bmN0aW9uIChNZW51KSB7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAubWFpbk1lbnVlcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcbi8vXHJcbi8vIC5jb250cm9sbGVyKCdzdWJNZW51Q3RybCcsIGZ1bmN0aW9uIChNZW51LCAkc3RhdGVQYXJhbXMpIHtcclxuLy8gICB2YXIgYXBwID0gdGhpcztcclxuLy8gICB2YXIgc3ViVHlwZSA9ICRzdGF0ZVBhcmFtcy50eXBlO1xyXG4vLyAgIE1lbnUucmVhZFN1Yk1lbnUoc3ViVHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuLy8gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuLy8gICAgICAgYXBwLnN1Yk1lbnVlcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbi8vICAgICB9IGVsc2Uge1xyXG4vLyAgICAgfVxyXG4vLyAgIH0pO1xyXG4vLyB9KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ29yZGVyQ29udHJvbGxlcnMnLFtdKVxyXG4uY29udHJvbGxlcigncmVhZE9yZGVyQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsICRodHRwLCAkc3RhdGUsICR3aW5kb3cpIHtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICAkaHR0cC5nZXQoJy9hcGkvbWFrZU9yZGVyJykudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLm9yZGVyRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgIH1cclxuICB9KTtcclxuICB0aGlzLmNvbmZpcm1PcmRlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAkc3RhdGUuZ28oJ2FwcC5jb25maXJtT3JkZXInKTtcclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2Jhc2tldEN0cmwnLCBmdW5jdGlvbiAoJGh0dHAsICR3aW5kb3cpIHtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgYXBwLmFtb3VudCA9IDE7XHJcblxyXG4gdGhpcy5wbHVzID0gZnVuY3Rpb24oKXtcclxuICAgYXBwLmFtb3VudCsrO1xyXG4gfTtcclxuXHJcbiB0aGlzLm1pbnVzID0gZnVuY3Rpb24oKXtcclxuICAgaWYoYXBwLmFtb3VudCA8PSAwKXtcclxuICAgICAkd2luZG93LmFsZXJ0KCfsmKzrsJTrpbgg7IiY65+J7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICBhcHAuYW1vdW50ID0gMTtcclxuICAgfSBlbHNlIHtcclxuICAgICBhcHAuYW1vdW50LS07XHJcbiAgIH1cclxuIH07XHJcblxyXG5cclxuICAkaHR0cC5nZXQoJy9hcGkvYmFza2V0JykudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAvLyBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICBhcHAuYmFza2V0RGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndHlwZUNvbnRyb2xsZXJzJyxbXSlcclxuLmNvbnRyb2xsZXIoJ2dldFR5cGVJdGVtc0N0cmwnLCBmdW5jdGlvbiAoJHN0YXRlUGFyYW1zLCAkaHR0cCkge1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciB0eXBlID0gJHN0YXRlUGFyYW1zLnR5cGU7XHJcbiAgJGh0dHAuZ2V0KCcvYXBpL2l0ZW1fdHlwZS8nK3R5cGUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5pdGVtc0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG59KVxyXG5cclxuXHJcbi5jb250cm9sbGVyKCdnZXRUeXBlSXRlbUN0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlUGFyYW1zLCAkd2luZG93LCAkc3RhdGUsICRodHRwKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgaXRlbV9pZCA9ICRzdGF0ZVBhcmFtcy5pdGVtX2lkO1xyXG5cclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgXSxcclxuICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuICAgYXBwLmFtb3VudCA9IDE7XHJcbiAgdGhpcy5wbHVzID0gZnVuY3Rpb24oKXtcclxuICAgIGFwcC5hbW91bnQrKztcclxuICB9O1xyXG5cclxuICB0aGlzLm1pbnVzID0gZnVuY3Rpb24oKXtcclxuICAgIGlmKGFwcC5hbW91bnQgPD0gMCl7XHJcbiAgICAgICR3aW5kb3cuYWxlcnQoJ+yYrOuwlOuluCDsiJjrn4nsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICBhcHAuYW1vdW50ID0gMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5hbW91bnQtLTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbiAgdGhpcy5jcmVhdGVCYXNrZXQgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgIHZhciBiYXNrZXREYXRhID0ge1xyXG4gICAgICBpdGVtX2lkOiBkYXRhLml0ZW1faWQsXHJcbiAgICAgIGFtb3VudDogZGF0YS5hbW91bnRcclxuICAgIH07XHJcbiAgICAkaHR0cC5wb3N0KCcvYXBpL2Jhc2tldCcsIGJhc2tldERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyAkd2luZG93LmFsZXJ0KCfsg4HtkojsnYQg7J6l67CU6rWs64uI7JeQIOuLtOyVmOyKteuLiOuLpC4nKTtcclxuICB9O1xyXG5cclxuICB0aGlzLmNyZWF0ZU9yZGVyID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICB2YXIgb3JkZXJEYXRhID0ge1xyXG4gICAgICBpdGVtX2lkOiBpdGVtX2lkLFxyXG4gICAgICBhbW91bnQ6IGRhdGEuYW1vdW50LFxyXG4gICAgICBraW5kT2Y6IGRhdGEua2luZE9mLm5hbWUsXHJcbiAgICAgIGl0ZW1fdHlwZV9pZDogZGF0YS5pdGVtX3R5cGVfaWRcclxuICAgIH07XHJcbiAgICAkaHR0cC5wb3N0KCcvYXBpL21ha2VPcmRlcicsb3JkZXJEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAkc3RhdGUuZ28oJ2FwcC5tYWtlT3JkZXInKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGE7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIEFkbWluLnJlYWRJdGVtKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIHZhciBhc2RmID0gWycxJywnMiddO1xyXG4gICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQua2luZC5zcGxpdCgnLCcpO1xyXG4gICAgICBhcHAuaXRlbURhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgbmFtZTogdHlwZVtpXSxcclxuICAgICAgICAgIGlkOiBpKzFcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuXHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZW1haWxDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2VtYWlsQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgVXNlci5hY3RpdmVBY2NvdW50KCRzdGF0ZVBhcmFtcy50b2tlbikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgIH0sMjAwMCk7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgfSwyMDAwKTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdyZXNlbmRDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgYXBwID0gdGhpcztcclxuICB0aGlzLmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBVc2VyLmNoZWNrQ3JlZGVudGlhbHModGhpcy5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBVc2VyLnJlc2VuZExpbmsoYXBwLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1lbHNlIHtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCd1c2VybmFtZUN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB0aGlzLnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIFVzZXIuc2VuZFVzZXJuYW1lKGFwcC51c2VyRGF0YS5lbWFpbCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7J2066mU7J28IOyjvOyGjOqwgCDslYTri5nri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Bhc3N3b3JkQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIGFwcC5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgVXNlci5zZW5kUGFzc3dvcmQoYXBwLnJlc2V0RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7JWE7J2065SU6rCAIOyVhOuLmeuLiOuLpC4nO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVzZXRDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCAkc2NvcGUsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgIGFwcC5oaWRlID0gdHJ1ZTsgLy8gSGlkZSBmb3JtIHVudGlsIHRva2VuIGNhbiBiZSB2ZXJpZmllZCB0byBiZSB2YWxpZFxyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRva2VuIGlzIHZhbGlkIGFuZCBnZXQgdGhlIHVzZXIncyBpbmZvIGZyb20gZGF0YWJhc2UgKHJ1bnMgb24gcGFnZSBsb2FkKVxyXG4gICAgVXNlci5yZXNldFBhc3N3b3JkKCRzdGF0ZVBhcmFtcy50b2tlbikudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciB3YXMgcmV0cmlldmVkXHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIGFwcC5oaWRlID0gZmFsc2U7IC8vIFNob3cgZm9ybVxyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtc3VjY2Vzcyc7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSAn7IOI66Gc7Jq0IOu5hOuwgOuyiO2YuOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gTGV0IHVzZXIga25vdyB0aGV5IGNhbiBlbnRlciBuZXcgcGFzc3dvcmRcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lID0gZGF0YS5kYXRhLnVzZXJbMF0udXNlcm5hbWU7IC8vIFNhdmUgdXNlcm5hbWUgaW4gc2NvcGUgZm9yIHVzZSBpbiBzYXZlUGFzc3dvcmQoKSBmdW5jdGlvblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlOyAvLyBHcmFiIGVycm9yIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIHNhdmUgdXNlcidzIG5ldyBwYXNzd29yZCB0byBkYXRhYmFzZVxyXG4gICAgYXBwLnNhdmVQYXNzd29yZCA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTsgLy8gQ2xlYXIgZXJyb3JNc2cgd2hlbiB1c2VyIHN1Ym1pdHNcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7IC8vIERpc2FibGUgZm9ybSB3aGlsZSBwcm9jZXNzaW5nXHJcbiAgICAgICAgYXBwLmxvYWRpbmcgPSB0cnVlOyAvLyBFbmFibGUgbG9hZGluZyBpY29uXHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGZvcm0gaXMgdmFsaWQgYW5kIHBhc3N3b3JkcyBtYXRjaFxyXG4gICAgICAgIGlmICh2YWxpZCAmJiBjb25maXJtZWQpIHtcclxuICAgICAgICAgICAgYXBwLnJlZ0RhdGEudXNlcm5hbWUgPSAkc2NvcGUudXNlcm5hbWU7IC8vIEdyYWIgdXNlcm5hbWUgZnJvbSAkc2NvcGVcclxuXHJcbiAgICAgICAgICAgIC8vIFJ1biBmdW5jdGlvbiB0byBzYXZlIHVzZXIncyBuZXcgcGFzc3dvcmQgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgVXNlci5zYXZlUGFzc3dvcmQoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHBhc3N3b3JkIHdhcyBzYXZlZCB0byBkYXRhYmFzZVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7ZmU66m07Jy866GcIOydtOuPme2VqeuLiOuLpC4nOyAvLyBHcmFiIHN1Y2Nlc3MgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0IGFuZCByZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UgYWZ0ZXIgMjAwMCBtaWxsaXNlY29uZHMgKDIgc2Vjb25kcylcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSBmb3JtIHRvIGFsbG93IHVzZXIgdG8gcmVzdWJtaXRcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTsgLy8gR3JhYiBlcnJvciBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3RcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LWRhbmdlcic7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSBmb3JtIHRvIGFsbG93IHVzZXIgdG8gcmVzdWJtaXRcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIExldCB1c2VyIGtub3cgZm9ybSBpcyBub3QgdmFsaWRcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ3JlZ0N0cmwnLCBmdW5jdGlvbiAoICRodHRwLCAkbG9jYXRpb24sICR0aW1lb3V0LCBVc2VyLCBBdXRoLCAkc3RhdGUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgICAgdGhpcy5yZWdTdGVwMSA9IGZ1bmN0aW9uKHJlZ0RhdGEpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmKCFyZWdEYXRhKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZigocmVnRGF0YS50ZXJtcykgJiYgKHJlZ0RhdGEucHJpdmFjeSkpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gJ+yVveq0gOyXkCDshLHqs7XsoIHsnLzroZwg64+Z7J2Y7ZWY7IWo7Iq164uI64ukLic7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdyZWdpc3RlclN0ZXAyJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yVveq0gOyXkCDrj5nsnZjtlbTslbzrp4wg7ZqM7JuQ6rCA7J6F7J2EIOynhO2Wie2VoCDsiJgg7J6I7Iq164uI64ukLic7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9O1xyXG5cclxuICAgIC8vIO2ajOybkOqwgOyehVxyXG4gICAgICB0aGlzLnJlZ1N0ZXAyID0gZnVuY3Rpb24ocmVnRGF0YSwgdmFsaWQsIGNvbmZpcm1lZCl7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYodmFsaWQgJiYgY29uZmlybWVkKXtcclxuICAgICAgICAgIFVzZXIuY3JlYXRlKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgIEF1dGgubG9naW4oYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgICAgICAgIH0sMTAwMCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5leHBpcmVkKXtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXhwaXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIElmIGVycm9yIG9jY3VycywgcmVtb3ZlIGRpc2FibGUgbG9jayBmcm9tIGZvcm1cclxuICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgYm9vdHN0cmFwIGxvYWRpbmcgaWNvblxyXG4gICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIERpc3BsYXkgZXJyb3IgaWYgdmFsaWQgcmV0dXJucyBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxufSk7XHJcbiJdfQ==
