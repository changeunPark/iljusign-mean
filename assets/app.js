angular.module("app",["ui.router","ui.bootstrap","menuControllers","userControllers","mainControllers","emailControllers","managementControllers","typeControllers","orderControllers","uiCropper"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),a.hashPrefix(""),a.html5Mode(!0),e.state("app",{url:"/",views:{header:{templateUrl:"/menues/header.html"},content:{templateUrl:"/main/form.html"},"menu@app":{templateUrl:"/menues/mainMenu.html",controller:"mainMenuCtrl",controllerAs:"mainMenu"},"account@app":{templateUrl:"/main/account.html"},"contents@app":{templateUrl:"/main/home.html"},footer:{templateUrl:"/company/footer.html"}}}).state("app.user",{url:"user",views:{"contents@app":{templateUrl:"/users/partial/user.html"}}}).state("app.commerceDetail",{url:"commerce-detail",views:{"contents@app":{templateUrl:"/users/partial/commerceDetail.html"}}}).state("app.basket",{url:"basket",views:{"contents@app":{templateUrl:"/users/partial/basket.html",controller:"basketCtrl",controllerAs:"basket"}}}).state("app.category",{url:"category=:category_id",views:{"subMenu@app":{templateUrl:"/menues/subMenu.html",controller:"subMenuCtrl",controllerAs:"subMenu"},"contents@app":{templateUrl:"/categoryes/items/form.html",controller:"getTypeItemsCtrl",controllerAs:"getTypeItems"}}}).state("app.category.item_type",{url:"/item_type=:type_code",views:{"contents@app":{templateUrl:"/categoryes/items/form.html",controller:"getTypeItemsCtrl",controllerAs:"getTypeItems"}}}).state("app.category.show",{url:"/item:item_id",views:{"contents@app":{templateUrl:"/categoryes/items/item.html",controller:"getTypeItemCtrl",controllerAs:"getTypeItem"}}}).state("app.makeOrder",{url:"makeOrder",views:{"contents@app":{templateUrl:"/order/makeOrder.html",controller:"readOrderCtrl",controllerAs:"readOrder"}}}).state("app.confirmOrder",{url:"confirmOrder",views:{"contents@app":{templateUrl:"/order/confirmOrder.html",controller:"readOrderCtrl",controllerAs:"readOrderCtrl"}}}).state("app.board",{url:"board",views:{"contents@app":{templateUrl:"/categoryes/board/form.html"}}}).state("app.management",{url:"management",views:{"content@":{templateUrl:"/management/form.html"},"menu@app.management":{templateUrl:"/management/menu.html"}}}).state("app.management.category",{url:"category",views:{"contents@app.management":{templateUrl:"/management/partial/category.html",controller:"mainMenuCtrl",controllerAs:"mainMenu"}}}).state("app.management.items",{url:"/items",views:{"contents@app.management":{templateUrl:"/management/partial/items.html",controller:"itemsCtrl",controllerAs:"items"}}}).state("app.management.items.update",{url:"/update:item_type",views:{"contents@app.management":{templateUrl:"/management/partial/type/update.html",controller:"updateTypeCtrl",controllerAs:"updateType"}}}).state("app.management.items.updateItem",{url:"/update/item:item_id",views:{"contents@app.management":{templateUrl:"/management/partial/item/update.html",controller:"updateItemCtrl",controllerAs:"updateItem"}}}).state("app.management.items.readItem",{url:":item_id",views:{"contents@app.management":{templateUrl:"/management/partial/item/read.html",controller:"readItemCtrl",controllerAs:"readItem"}}}).state("app.management.bannerUpload",{url:"/bannerUpload",views:{"contents@app.management":{templateUrl:"/management/partial/bannerUpload.html"}}}).state("app.management.orderStatus",{url:"/orderStatus",views:{"contents@app.management":{templateUrl:"/management/partial/orderStatus.html"}}}).state("app.management.members",{url:"/members",views:{"contents@app.management":{templateUrl:"/management/partial/members.html"}}}).state("registerStep1",{url:"/register/step1",controller:"regCtrl",controllerAs:"register",templateUrl:"/users/register/registerStep1.html",authenticated:!1}).state("registerStep2",{url:"/register/step2",controller:"regCtrl",controllerAs:"register",templateUrl:"/users/register/registerStep2.html",authenticated:!1}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.intro",{url:"intro",views:{"content@":{templateUrl:"/company/intro.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"content@":{templateUrl:"/company/terms.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"content@":{templateUrl:"/company/privacy.html",authenticated:!1}}})}]),app.run(["$rootScope","User","$state",function(e,t,a){e.$on("$stateChangeStart",function(e,t,a,r,n,s){}),e.$on("$stateChangeError",function(e,t,r,n,s,i){a.go("app")})}]),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var n=e(r.fileModel),s=n.assign;a.bind("change",function(){t.$apply(function(){s(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("adminServices",[]).factory("Admin",["$http",function(e){return adminFactory={},adminFactory.deleteItem=function(t){return e.delete("/api/item/"+t)},adminFactory.deleteType=function(t){return e.delete("/api/itemManagement/"+t)},adminFactory.readUpdateType=function(t){return e.get("/api/itemManagement/"+t)},adminFactory.updateUpdateType=function(t){return e.put("/api/itemManagement",t)},adminFactory.createType=function(t){return e.post("/api/item_type",t)},adminFactory.readType=function(){return e.get("/api/item_type")},adminFactory.readAristCrop=function(t){return e.post("/api/createCropImage",t)},adminFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},adminFactory.createItem=function(t){return e.post("/api/item",t)},adminFactory.readItems=function(){return e.get("/api/item")},adminFactory.readItem=function(t){return e.get("/api/item/"+t)},adminFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return console.log(e),t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("menuServices",[]).factory("Menu",["$http",function(e){return menuFactory={},menuFactory.deleteMenu=function(t){return e.delete("/api/menu/"+t)},menuFactory.updateMenu=function(t){return e.put("/api/menu/",t)},menuFactory.createMenu=function(t){return e.post("/api/menu",t)},menuFactory.readMainMenu=function(){return e.get("/api/menu")},menuFactory.readSubMenu=function(t){return e.get("/api/menu/"+t)},menuFactory}]),angular.module("orderServices",[]).factory("Order",["$http",function(e){return orderFactory={},orderFactory.createBasket=function(t){return e.post("/api/basket",t)},orderFactory.createOrder=function(t){return e.post("/api/makeOrder",t)},orderFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.getPermission=function(){return e.get("/api/permission")},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var n=this;t.activeAccount(e.token).then(function(e){n.successMsg=!1,n.errorMsg=!1,e.data.success?(n.disabled=!0,n.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(n.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(n,s){r.errorMsg=!1,r.disabled=!0,s?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(n,s){r.errorMsg=!1,r.disabled=!0,s?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,n){var s=this;s.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(s.hide=!1,t.alert="alert alert-success",s.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",s.errorMsg=e.data.message)}),s.savePassword=function(e,i,o){s.errorMsg=!1,s.successMsg=!1,s.disabled=!0,s.loading=!0,i&&o?(s.regData.username=t.username,a.savePassword(s.regData).then(function(e){s.loading=!1,e.data.success?(t.alert="alert alert-success",s.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){n.go("app")},2e3)):(t.alert="alert alert-danger",s.disabled=!1,s.errorMsg=e.data.message)})):(t.alert="alert alert-danger",s.loading=!1,s.disabled=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,n,s){var i=this;this.regStep1=function(e){i.errorMsg=!1,e?e.terms&&e.privacy?(i.successMsg="약관에 성공적으로 동의하셨습니다.",i.disabled=!0,s.go("registerStep2")):(i.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",i.disabled=!1):i.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,o){i.errorMsg=!1,i.disabled=!0,t&&o?r.create(i.regData).then(function(e){e.data.success?(i.disabled=!0,i.successMsg=e.data.message,n.login(i.regData).then(function(e){e.data.success?(i.disabled=!0,i.successMsg=e.data.message,a(function(){s.go("app")},1e3)):e.data.expired?(i.expired=!0,i.disabled=!0,i.errorMsg=e.data.message):(i.disabled=!1,i.errorMsg=e.data.message)})):(i.disabled=!1,i.errorMsg=e.data.message)}):(i.disabled=!1,i.loading=!1,i.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,n,s,i,o,l,d){var u=this;u.loadme=!1,s.$on("LOAD",function(){s.loading=!0}),s.$on("UNLOAD",function(){s.loading=!1}),n.$on("$stateChangeStart",function(){c?e.isLoggedIn()?(u.isLoggedIn=!0,u.loadme=!0,e.getUser().then(function(e){u.user=e.data,u.loadme=!0,l.getPermission().then(function(e){e.data.success?"admin"===e.data.permission?(u.authorized=!0,u.loadme=!0):"artist"===e.data.permission?(u.permission=!0,u.loadme=!0):(u.permission=!1,u.authorized=!1,u.loadme=!0):(u.permission=!1,u.authorized=!1,u.loadme=!0)})})):(u.user=!1,u.isLoggedIn=!1,u.loadme=!0):c()});var c=function(){if(e.isLoggedIn()){u.checkSession=!0;var t=o(function(){var e=i.localStorage.getItem("token");if(null===e)o.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(i.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(m("expired"),o.cancel(t))}},2e3)}};c(),u.renewSession=function(){u.choiceMade=!0,l.renewSession(u.user.username).then(function(e){e.data.success?(d.setToken(e.data.token),c(),p("expired")):(u.ModalBody=e.data.message,p("expired"))})},u.endSession=function(){u.choiceMade=!0,p("expired"),t(function(){m("logout")},500)};var m=function(a){u.choiceMade=!1,u.modalHeader=void 0,u.modalBody=void 0,u.hideButton=!1,"expired"===a?(u.modalHeader="Timeout Warning",u.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(u.hideButton=!0,u.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),u.isLoggedIn=!1,p("logout"),r.reload()},1e3)):"login"===a&&$("#login").modal({backdrop:"static"}),t(function(){u.choiceMade||p("logout")},2e3)},p=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e&&$("#login").modal("hide")};this.doLogin=function(a,n){u.errorMsg=!1,u.expired=!1,u.disabled=!0,n?e.login(u.loginData).then(function(e){e.data.success?(u.disabled=!0,u.successMsg=e.data.message,t(function(){p("login"),u.loginData=null,u.isLoggedIn=!0,c(),r.reload()},1e3)):e.data.expired?(u.expired=!0,u.disabled=!0,u.errorMsg=e.data.message):(u.disabled=!1,u.errorMsg=e.data.message)}):(u.disabled=!1,u.loading=!1,u.errorMsg="올바른 정보를 입력해주세요.")},u.login=function(){u.successMsg=!1,u.errorMsg=!1,u.disabled=!1,m("login")},u.logout=function(){m("logout")},u.resend=function(){p("login"),t(function(){r.go("resend"),u.expired=!1},500)},u.resetusername=function(){p("login"),t(function(){r.go("resetusername")},500)},u.resetpassword=function(){p("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("managementControllers",["adminServices","menuServices","orderServices"]).controller("updateTypeCtrl",["$stateParams","Menu","Admin","$state",function(e,t,a,r){var n=this,s=e.item_type;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readUpdateType(s).then(function(e){n.errorMsg=!1,e.data.success?(t.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),n.updataData=e.data.result,n.data.selectedOption={id:n.updataData.category_id}):n.errorMsg=e.data.message}),this.updateType=function(e){n.updateData=e,n.updateData.category_id=n.data.selectedOption.id,n.updateData.name=n.data.selectedOption.name,a.updateUpdateType(n.updateData).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,r.reload()):n.errorMsg=e.data.message})}}]).controller("readTypeCtrl",["Admin","$state","$window","Menu",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.deleteType=function(a){n.errorMsg=!1;var r=a.item_type;e.deleteType(r).then(function(e){e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},e.readType().then(function(e){if(e.data.success){r.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(a=0;a<t.length;a++)n.data.availableOptions[a+1]={name:t[a].name,id:t[a].category_id}}else n.errorMsg=e.data.message}),n.typeDatas=e.data.result;for(var t=[],a=0;a<e.data.result.length;a++)t[a]={kind:n.typeDatas[a].kind.split(","),price:n.typeDatas[a].price.split(",")},n.typeDatas[a].kind=t[a].kind,n.typeDatas[a].price=t[a].price}else n.errorMsg=e.data.message})}]).controller("createTypeCtrl",["Admin","$state","Menu","$window",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),this.createType=function(a){n.errorMsg=!1,n.typeData={category:n.data.selectedOption.id,type_description:a.type_description,type_code:a.type_code,kind:n.type_tiny.toString(),price:n.type_price.toString()},e.createType(n.typeData).then(function(e){e.data.success?(n.success=e.data.message,t.reload()):n.errorMsg=e.data.message})},n.kindList=[],n.type_tiny=[],n.type_price=[],this.addLine=function(e){e?null===e.kindValue||void 0===e.kindValue||""===e.kindValue?r.alert("옵션명을 입력해주세요."):null===e.kindPrice||void 0===e.kindPrice||""===e.kindPrice?r.alert("옵션 가격을 입력해주세요."):(n.kindList.push({kind:e.kindValue,price:e.kindPrice}),n.type_tiny.push(e.kindValue),n.type_price.push(e.kindPrice)):r.alert("정확한 값을 입력해주세요.")}}]).controller("itemsCtrl",["Admin","$state",function(e,t){var a=this;e.readItems().then(function(e){a.errorMsg=!1,e.data.success?(a.itemsData=e.data.result,console.log(a.itemsData)):a.errorMsg=e.data.message}),this.deleteItem=function(r){a.errorMsg=!1;var n=r.item_id;e.deleteItem(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}}]).controller("readItemCtrl",["Admin","$stateParams","$scope","Order","$window",function(e,t,a,r,n){var s=this,o=t.item_id;s.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},s.amount=1,e.readItem(o).then(function(e){if(e.data.success){var t=e.data.result.kind.split(","),a=e.data.result.price.split(","),r=[];for(i=0;i<a.length;i++)r[i]=Number(a[i]);for(s.itemData=e.data.result,s.data.selectedOption={id:r[0]},i=0;i<r.length;i++)s.data.availableOptions[i+1]={name:t[i],id:r[i]}}else s.errorMsg=e.data.message})}]).controller("updateItemCtrl",["Admin","$stateParams","$scope","$http","$timeout","$state","$window","Menu",function(e,t,a,r,n,s,o,l){function d(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var u=this,c=t.item_id;u.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},u.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},l.readMainMenu().then(function(e){if(u.errorMsg=!1,e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)u.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else u.errorMsg=e.data.message}),this.readMenu=function(e){if(u.errorMsg=!1,u.readMenuStatus=!1,0===e.id)o.alert("카테고리를 선택해주세요.");else{var t=e.id;r.get("/api/menu/"+t).then(function(e){if(e.data.success)if(0===e.data.result.length)u.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},o.alert("등록된 상품이 없습니다.");else{u.readMenuStatus=!0,u.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}};var t=e.data.result;for(i=0;i<t.length;i++)u.data2.availableOptions[i+1]={name:t[i].type_description,id:t[i].item_type_id}}else u.errorMsg=e.data.message})}},e.readItem(c).then(function(e){e.data.success?(u.itemData=e.data.result,u.data.selectedOption={id:u.itemData.category_id}):u.errorMsg=e.data.message}),this.updateItem=function(e){if(u.errorMsg=!1,u.readMenuStatus)if(0===e.item_type||"0"===e.item_type)o.alert("상품 분류를 선택해주세요.!");else{var t={type:e.item_type,name:e.name};r.put("/api/item/"+c,t).then(function(e){e.data.success?(u.successMsg=e.data.message,s.reload()):u.errorMsg=e.data.message})}else updateData2={type:u.itemData.item_type_id,name:e.name},r.put("/api/item/"+c,updateData2).then(function(e){e.data.success?(u.successMsg=e.data.message,s.reload()):u.errorMsg=e.data.message})},this.file={},this.mainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){n(function(){a.$emit("UNLOAD"),u.mainThumbnail={},u.mainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),u.mainThumbnail={}},this.readPhoto=function(){a.$emit("LOAD"),u.mainPhoto=!1,u.disabled=!0;var e=new FormData;e.append("myfile",u.file.upload),r.post("/api/createPhotoImage/",e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){if(e.data.success){a.$emit("UNLOAD"),o.alert(e.data.message),u.mainPhoto=!0,u.disabled=!1;var t={image:e.data.item_path};r.put("/api/item/"+c,t).then(function(e){e.data.success,console.log(e.data.message)}),u.file={}}else a.$emit("UNLOAD"),o.alert(e.data.message),u.disabled=!1,u.file={}})},this.explainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){n(function(){a.$emit("UNLOAD"),u.explainThumbnail={},u.explainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),u.explainThumbnail={}},this.readPhotoExplain=function(){a.$emit("LOAD"),u.explainPhoto=!1,u.disabled=!0;var e=new FormData;e.append("myfile",u.file.upload),r.post("/api/createPhotoExplain/",e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){if(e.data.success){a.$emit("UNLOAD"),o.alert(e.data.message),u.explainPhoto=!0,u.disabled=!1;var t={explain:e.data.item_path};r.put("/api/item/"+c,t).then(function(e){e.data.success,console.log(e.data.message)}),u.file={}}else a.$emit("UNLOAD"),o.alert(e.data.message),u.disabled=!1,u.file={}})},u.myImage="",u.myCroppedImage="";var m=function(e){a.$emit("LOAD");var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){t.$emit("UNLOAD"),u.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",m),this.readCropImage=function(t){if(a.$emit("LOAD"),u.thumbnail=!1,u.disabled=!0,""===t.base64Url||null===t.base64Url||void 0===t.base64Url)u.disabled=!1;else{a.$emit("UNLOAD");var n=d(a.myCroppedImage);e.readAristCrop(n).then(function(e){if(e.data.success){a.$emit("UNLOAD"),o.alert(e.data.message),u.thumbnail=!0,u.disabled=!1;var t={thumbnail:e.data.filePath};r.put("/api/item/"+c,t).then(function(e){e.data.success,console.log(e.data.message)})}else a.$emit("UNLOAD"),u.disabled=!1})}}}]).controller("createItemCtrl",["$http","$timeout","$scope","Admin","$state","$window","Menu",function(e,t,a,r,n,s,o){function l(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var d=this;d.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},d.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},o.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)d.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else d.errorMsg=e.data.message}),this.readMenu=function(t){if(0===t.id)s.alert("카테고리를 선택해주세요.");else{var a=t.id;e.get("/api/menu/"+a).then(function(e){if(e.data.success)if(0===e.data.result.length)d.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},s.alert("등록된 상품이 없습니다.");else{d.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}};var t=e.data.result;for(i=0;i<t.length;i++)d.data2.availableOptions[i+1]={name:t[i].type_description,id:t[i].item_type_id}}})}},this.file={},this.mainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var r=e[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t(function(){a.$emit("UNLOAD"),d.mainThumbnail={},d.mainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),d.mainThumbnail={}},this.readPhoto=function(){a.$emit("LOAD"),d.mainPhoto=!1,d.disabled=!0;var t=new FormData;t.append("myfile",d.file.upload),e.post("/api/createPhotoImage/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),d.mainPhoto=!0,d.disabled=!1,d.mainImagePath=e.data.item_path,d.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),d.disabled=!1,d.file={})})},this.explainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var r=e[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t(function(){a.$emit("UNLOAD"),d.explainThumbnail={},d.explainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),d.explainThumbnail={}},this.readPhotoExplain=function(){a.$emit("LOAD"),d.explainPhoto=!1,d.disabled=!0;var t=new FormData;t.append("myfile",d.file.upload),e.post("/api/createPhotoExplain/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),d.explainPhoto=!0,d.disabled=!1,d.explainImagePath=e.data.item_path,d.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),d.disabled=!1,d.file={})})},d.myImage="",d.myCroppedImage="";var u=function(e){a.$emit("LOAD");var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){t.$emit("UNLOAD"),d.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",u),this.readCropImage=function(e){if(a.$emit("LOAD"),d.thumbnail=!1,d.disabled=!0,""===e.base64Url||null===e.base64Url||void 0===e.base64Url)d.disabled=!1;else{a.$emit("UNLOAD");var t=l(a.myCroppedImage);r.readAristCrop(t).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),d.thumbnail=!0,d.disabled=!1,d.thumbnailPath=e.data.filePath):(a.$emit("UNLOAD"),d.disabled=!1)})}},this.createPhoto=function(e){a.$emit("LOAD"),void 0===e||null===e||""===e?(s.alert("빈칸을 모두 입력해주세요."),d.disabled=!1,a.$emit("UNLOAD")):"0"===d.data2.selectedOption.id?(a.$emit("UNLOAD"),d.disabled=!1,s.alert("상품 분류을 선택해주세요.")):void 0===d.mainImagePath||null===d.mainImagePath||""===d.mainImagePath?(a.$emit("UNLOAD"),d.disabled=!1,s.alert("상품 이미지를 입력해주세요.")):void 0===e.title||null===e.title||""===e.title?(a.$emit("UNLOAD"),d.disabled=!1,s.alert("상품 제목를 입력해주세요.")):void 0===d.explainImagePath||null===d.explainImagePath||""===d.explainImagePath?(a.$emit("UNLOAD"),d.disabled=!1,s.alert("상품 설명 이미지를 업로드해주세요.")):void 0===d.thumbnailPath||null===d.thumbnailPath||""===d.thumbnailPath?(a.$emit("UNLOAD"),d.disabled=!1,s.alert("썸네일 이미지를 업로드해주세요.")):(d.uploadData={title:e.title,type:d.data2.selectedOption.id,thumbnail:d.thumbnailPath,explain:d.explainImagePath,image:d.mainImagePath},r.createItem(d.uploadData).then(function(e){e.data.success?(a.$emit("UNLOAD"),d.disabled=!0,s.alert(e.data.message),n.reload()):(a.$emit("UNLOAD"),d.disabled=!1,s.alert(e.data.message))}))}}]),angular.module("menuControllers",["menuServices"]).controller("mainMenuCtrl",["Menu","$state",function(e,t){var a=this;e.readMainMenu().then(function(e){e.data.success?a.mainMenues=e.data.result:a.errorMsg=e.data.message}),this.createMenu=function(r){if(a.errorMsg=!1,void 0===r)a.errorMsg="올바른 정보를 입력해주세요.";else{var n={name:r.name};e.createMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}},this.update=function(r){a.errorMsg=!1;var n={category_id:r.category_id,name:r.name};e.updateMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})},this.delete=function(r){a.errorMsg=!1;var n=r.category_id;e.deleteMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}}]).controller("subMenuCtrl",["Menu","$state","$stateParams","$http",function(e,t,a,r){var n=this,s=a.category_id;r.get("/api/category/"+s).then(function(e){e.data.success&&(n.subMenuDatas=e.data.result)})}]),angular.module("orderControllers",[]).controller("readOrderCtrl",["$stateParams","$http","$state","$window",function(e,t,a,r){var n=this;t.get("/api/makeOrder").then(function(e){e.data.success&&(n.orderData=e.data.result)}),this.confirmOrder=function(){a.go("app.confirmOrder")}}]).controller("basketCtrl",["$http","$window",function(e,t){var a=this;a.amount=1,this.plus=function(){a.amount++},this.minus=function(){a.amount<=0?(t.alert("올바른 수량을 입력해주세요."),a.amount=1):a.amount--},e.get("/api/basket").then(function(e){a.errorMsg=!1,e.data.success?a.basketData=e.data.result:a.errorMsg=e.data.message})}]),angular.module("typeControllers",["orderServices"]).controller("getTypeItemsCtrl",["$stateParams","$http",function(e,t){var a=this,r=e.category_id;if(e.type_code){var n=e.type_code;t.get("/api/item_type/"+r,{params:{type_code:n}}).then(function(e){e.data.success?a.itemsData=e.data.result:a.errorMsg=e.data.message})}else t.get("/api/item_type/"+r).then(function(e){e.data.success?a.itemsData=e.data.result:a.errorMsg=e.data.message})}]).controller("getTypeItemCtrl",["Admin","$stateParams","$window","$state","Order",function(e,t,a,r,n){var s=this,o=t.item_id;s.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},s.amount=1,this.plus=function(){s.amount++},this.minus=function(){s.amount<=0?(a.alert("올바른 수량을 입력해주세요."),s.amount=1):s.amount--},this.createBasket=function(e){var t={item_id:e.item_id,amount:e.amount};n.createBasket(t).then(function(e){e.data.success,a.alert(e.data.message)})},this.createOrder=function(e){var t={item_id:o,amount:e.amount,kindOf:e.kindOf.name,item_type_id:e.item_type_id};n.createOrder(t).then(function(e){e.data.success?(s.successMsg=e.data.message,r.go("app.makeOrder")):s.errorMsg=e.data})},e.readItem(o).then(function(e){if(e.data.success){var t=e.data.result.kind.split(",");for(s.itemData=e.data.result,i=0;i<t.length;i++)s.data.availableOptions[i+1]={name:t[i],id:i+1}}else s.errorMsg=e.data.message})}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiZGlyZWN0aXZlcy9maWxlTW9kZWwuanMiLCJkaXJlY3RpdmVzL21hdGNoUGFzc3dvcmQuanMiLCJzZXJ2aWNlcy9hZG1pblNlcnZpY2VzLmpzIiwic2VydmljZXMvYXV0aFNlcnZpY2VzLmpzIiwic2VydmljZXMvbWVudVNlcnZpY2VzLmpzIiwic2VydmljZXMvb3JkZXJTZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3VzZXJTZXJ2aWNlcy5qcyIsImNvbnRvcm9sbGVycy91c2VyL2VtYWlsQ3RybC5qcyIsImNvbnRvcm9sbGVycy91c2VyL3VzZXJDdHJsLmpzIiwiY29udG9yb2xsZXJzL21haW4vbWFpbkNvbnRyb2xsZXJzLmpzIiwiY29udG9yb2xsZXJzL21haW4vbWFuYWdlbWVudENvbnRyb2xsZXJzLmpzIiwiY29udG9yb2xsZXJzL21haW4vbWVudUNvbnRyb2xsZXJzLmpzIiwiY29udG9yb2xsZXJzL21haW4vb3JkZXJDb250cm9sbGVycy5qcyIsImNvbnRvcm9sbGVycy9tYWluL3R5cGVDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCJhcHAiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwiaGFzaFByZWZpeCIsImh0bWw1TW9kZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJoZWFkZXIiLCJ0ZW1wbGF0ZVVybCIsImNvbnRlbnQiLCJtZW51QGFwcCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJhY2NvdW50QGFwcCIsImNvbnRlbnRzQGFwcCIsImZvb3RlciIsInN1Yk1lbnVAYXBwIiwiY29udGVudEAiLCJtZW51QGFwcC5tYW5hZ2VtZW50IiwiY29udGVudHNAYXBwLm1hbmFnZW1lbnQiLCJhdXRoZW50aWNhdGVkIiwicnVuIiwiJHJvb3RTY29wZSIsIlVzZXIiLCIkc3RhdGUiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJvcHRpb25zIiwiZXJyb3IiLCJnbyIsImRpcmVjdGl2ZSIsIiRwYXJzZSIsInJlc3RyaWN0IiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwicGFyc2VkRmlsZSIsImZpbGVNb2RlbCIsInBhcnNlZGZpbGVTZXR0ZXIiLCJhc3NpZ24iLCJiaW5kIiwiJGFwcGx5IiwiZmlsZXMiLCIkc2NvcGUiLCJkb0NvbmZpcm0iLCJ2YWx1ZXMiLCJjb25maXJtZWQiLCJmb3JFYWNoIiwiZWxlIiwiY29uZmlybSIsIiRvYnNlcnZlIiwibWF0Y2hlcyIsIkpTT04iLCJwYXJzZSIsIm1hdGNoIiwiJHdhdGNoIiwiZmFjdG9yeSIsIiRodHRwIiwiYWRtaW5GYWN0b3J5IiwiZGVsZXRlSXRlbSIsIml0ZW1faWQiLCJkZWxldGUiLCJkZWxldGVUeXBlIiwiaXRlbV90eXBlX2lkIiwicmVhZFVwZGF0ZVR5cGUiLCJpdGVtX3R5cGUiLCJnZXQiLCJ1cGRhdGVVcGRhdGVUeXBlIiwidXBkYXRlRGF0YSIsInB1dCIsImNyZWF0ZVR5cGUiLCJ0eXBlRGF0YSIsInBvc3QiLCJyZWFkVHlwZSIsInJlYWRBcmlzdENyb3AiLCJibG9iIiwiY3JlYXRlQXJpc3RQaG90byIsInBob3RvRGF0YSIsImNyZWF0ZUl0ZW0iLCJpdGVtRGF0YSIsInJlYWRJdGVtcyIsInJlYWRJdGVtIiwiQXV0aFRva2VuIiwiYXV0aEZhY3RvcnkiLCJnZXRVc2VyIiwiZ2V0VG9rZW4iLCIkcSIsInJlamVjdCIsIm1lc3NhZ2UiLCJsb2dpbiIsImxvZ2luRGF0YSIsInRoZW4iLCJkYXRhIiwiY29uc29sZSIsImxvZyIsInNldFRva2VuIiwidG9rZW4iLCJpc0xvZ2dlZEluIiwibG9nb3V0IiwiJHdpbmRvdyIsImF1dGhUb2tlbkZhY3RvcnkiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImdldEl0ZW0iLCJhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeSIsInJlcXVlc3QiLCJoZWFkZXJzIiwibWVudUZhY3RvcnkiLCJkZWxldGVNZW51IiwiY2F0ZWdvcnlfaWQiLCJ1cGRhdGVNZW51IiwiY3JlYXRlTWVudSIsIm1lbnVEYXRhIiwicmVhZE1haW5NZW51IiwicmVhZFN1Yk1lbnUiLCJtYWluTWVudVR5cGUiLCJvcmRlckZhY3RvcnkiLCJjcmVhdGVCYXNrZXQiLCJiYXNrZXREYXRhIiwiY3JlYXRlT3JkZXIiLCJvcmRlckRhdGEiLCJ1c2VyRmFjdG9yeSIsImdldFBlcm1pc3Npb24iLCJjcmVhdGUiLCJyZWdEYXRhIiwiYWN0aXZlQWNjb3VudCIsImNoZWNrQ3JlZGVudGlhbHMiLCJyZXNlbmRMaW5rIiwidXNlcm5hbWUiLCJzZW5kVXNlcm5hbWUiLCJ1c2VyRGF0YSIsInNlbmRQYXNzd29yZCIsInJlc2V0RGF0YSIsInJlc2V0UGFzc3dvcmQiLCJzYXZlUGFzc3dvcmQiLCJyZW5ld1Nlc3Npb24iLCIkc3RhdGVQYXJhbXMiLCIkdGltZW91dCIsInRoaXMiLCJzdWNjZXNzTXNnIiwiZXJyb3JNc2ciLCJzdWNjZXNzIiwiZGlzYWJsZWQiLCJ2YWxpZCIsImVtYWlsIiwiaGlkZSIsImFsZXJ0IiwidXNlciIsImxvYWRpbmciLCIkbG9jYXRpb24iLCJBdXRoIiwicmVnU3RlcDEiLCJyZWdTdGVwMiIsImV4cGlyZWQiLCIkaW50ZXJ2YWwiLCJsb2FkbWUiLCJjaGVja1Nlc3Npb24iLCJwZXJtaXNzaW9uIiwiYXV0aG9yaXplZCIsImludGVydmFsIiwiY2FuY2VsIiwic2VsZiIsInBhcnNlSnd0IiwiYmFzZTY0VXJsIiwic3BsaXQiLCJiYXNlNjQiLCJyZXBsYWNlIiwiYXRvYiIsImV4cGlyZVRpbWUiLCJ0aW1lU3RhbXAiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiZXhwIiwic2hvd01vZGFsIiwiY2hvaWNlTWFkZSIsImhpZGVNb2RhbCIsIk1vZGFsQm9keSIsImVuZFNlc3Npb24iLCJvcHRpb24iLCJtb2RhbEhlYWRlciIsInVuZGVmaW5lZCIsIm1vZGFsQm9keSIsImhpZGVCdXR0b24iLCIkIiwibW9kYWwiLCJiYWNrZHJvcCIsInJlbG9hZCIsImRvTG9naW4iLCJyZXNlbmQiLCJyZXNldHVzZXJuYW1lIiwicmVzZXRwYXNzd29yZCIsIk1lbnUiLCJBZG1pbiIsImF2YWlsYWJsZU9wdGlvbnMiLCJpZCIsIm5hbWUiLCJzZWxlY3RlZE9wdGlvbiIsInR5cGUiLCJyZXN1bHQiLCJpIiwibGVuZ3RoIiwidXBkYXRhRGF0YSIsInVwZGF0ZVR5cGUiLCJ0eXBlRGF0YXMiLCJraW5kRGF0YXMiLCJraW5kIiwicHJpY2UiLCJjYXRlZ29yeSIsInR5cGVfZGVzY3JpcHRpb24iLCJ0eXBlX2NvZGUiLCJ0eXBlX3RpbnkiLCJ0b1N0cmluZyIsInR5cGVfcHJpY2UiLCJraW5kTGlzdCIsImFkZExpbmUiLCJraW5kRGF0YSIsImtpbmRWYWx1ZSIsImtpbmRQcmljZSIsIml0ZW1zRGF0YSIsIk9yZGVyIiwiYW1vdW50IiwidGVtcCIsIk51bWJlciIsImRlY29kZUJhc2U2NEltYWdlIiwiZGF0YVN0cmluZyIsIkVycm9yIiwiZGF0YTIiLCJyZWFkTWVudSIsInJlYWRNZW51U3RhdHVzIiwidXBkYXRlSXRlbSIsInVwZGF0ZURhdGEyIiwiZmlsZSIsIm1haW5QaG90b0NoYW5nZWQiLCIkZW1pdCIsImZpbGVSZWFkZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsIm9ubG9hZCIsImUiLCJtYWluVGh1bWJuYWlsIiwiZGF0YVVybCIsInRhcmdldCIsInJlYWRQaG90byIsIm1haW5QaG90byIsImZkIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ1cGxvYWQiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJDb250ZW50LVR5cGUiLCJpbWFnZSIsIml0ZW1fcGF0aCIsImV4cGxhaW5QaG90b0NoYW5nZWQiLCJleHBsYWluVGh1bWJuYWlsIiwicmVhZFBob3RvRXhwbGFpbiIsImV4cGxhaW5QaG90byIsImV4cGxhaW4iLCJteUltYWdlIiwibXlDcm9wcGVkSW1hZ2UiLCJoYW5kbGVGaWxlU2VsZWN0IiwiZXZ0IiwiY3VycmVudFRhcmdldCIsInJlYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm9uIiwicmVhZENyb3BJbWFnZSIsInRodW1ibmFpbCIsImZpbGVQYXRoIiwibWFpbkltYWdlUGF0aCIsImV4cGxhaW5JbWFnZVBhdGgiLCJ0aHVtYm5haWxQYXRoIiwiY3JlYXRlUGhvdG8iLCJ1cGxvYWREYXRhIiwidGl0bGUiLCJtYWluTWVudWVzIiwidXBkYXRlIiwiZGVsZXRlRGF0YSIsInN1Yk1lbnVEYXRhcyIsImNvbmZpcm1PcmRlciIsInBsdXMiLCJtaW51cyIsInBhcmFtcyIsImtpbmRPZiJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsT0FDQSxZQUNBLGVBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0EsbUJBQ0Esd0JBQ0Esa0JBQ0EsbUJBQ0EsY0FDQUMsUUFBQSxnQkFBQSxTQUFBQyxHQUNBQSxFQUFBQyxhQUFBQyxLQUFBLHNCQ1pBLElBQUFDLEtBQUFOLFFBQUFDLE9BQUEsTUFDQUssS0FBQUosUUFBQSxpQkFBQSxxQkFBQSxvQkFBQSxTQUFBSyxFQUFBQyxFQUFBQyxHQUNBRCxFQUFBRSxVQUFBLEtBQ0FELEVBQUFFLFdBQUEsSUFDQUYsRUFBQUcsV0FBQSxHQUVBTCxFQUNBTSxNQUFBLE9BQ0FDLElBQUEsSUFDQUMsT0FDQUMsUUFDQUMsWUFBQSx1QkFFQUMsU0FDQUQsWUFBQSxtQkFFQUUsWUFDQUYsWUFBQSx3QkFDQUcsV0FBQSxlQUNBQyxhQUFBLFlBRUFDLGVBQ0FMLFlBQUEsc0JBRUFNLGdCQUNBTixZQUFBLG1CQUVBTyxRQUNBUCxZQUFBLDJCQUlBSixNQUFBLFlBQ0FDLElBQUEsT0FDQUMsT0FDQVEsZ0JBQ0FOLFlBQUEsK0JBSUFKLE1BQUEsc0JBQ0FDLElBQUEsa0JBQ0FDLE9BQ0FRLGdCQUNBTixZQUFBLHlDQUlB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QUFBZ0MsRUFBQWhDLFFBQ0FtSyxPQUFBbkksRUFBQW1JLE9BR0FELEdBQUF4RyxhQUFBQyxHQUFBNUIsS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBa0QsUUFDQTNDLEVBQUFnRCxNQUFBdkQsRUFBQUEsS0FBQUosWUFTQW1ELEtBQUFuQixZQUFBLFNBQUE1QixHQUNBLEdBQUE2QixJQUNBN0QsUUFBQUEsRUFDQW1LLE9BQUFuSSxFQUFBbUksT0FDQWdFLE9BQUFuTSxFQUFBbU0sT0FBQXpGLEtBQ0F2SSxhQUFBNkIsRUFBQTdCLGFBR0ErSixHQUFBdEcsWUFBQUMsR0FBQTlCLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWtELFNBQ0F0SixFQUFBb0osV0FBQWhELEVBQUFBLEtBQUFKLFFBQ0FyRSxFQUFBUyxHQUFBLGtCQUVBcEMsRUFBQXFKLFNBQUFqRCxFQUFBQSxRQU1BdUcsRUFBQWxILFNBQUFyQixHQUFBK0IsS0FBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFBLEtBQUFrRCxRQUFBLENBQ0EsR0FBQTBELEdBQUE1RyxFQUFBQSxLQUFBNkcsT0FBQU8sS0FBQTNDLE1BQUEsSUFFQSxLQURBN0ssRUFBQXVGLFNBQUFhLEVBQUFBLEtBQUE2RyxPQUNBQyxFQUFBLEVBQUFBLEVBQUFGLEVBQUFHLE9BQUFELElBQ0FsTixFQUFBb0csS0FBQXdHLGlCQUFBTSxFQUFBLElBQ0FKLEtBQUFFLEVBQUFFLEdBQ0FMLEdBQUFLLEVBQUEsT0FJQWxOLEdBQUFxSixTQUFBakQsRUFBQUEsS0FBQUoiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsW1xyXG4gICAgJ3VpLnJvdXRlcicsXHJcbiAgICAndWkuYm9vdHN0cmFwJyxcclxuICAgICdtZW51Q29udHJvbGxlcnMnLFxyXG4gICAgJ3VzZXJDb250cm9sbGVycycsXHJcbiAgICAnbWFpbkNvbnRyb2xsZXJzJyxcclxuICAgICdlbWFpbENvbnRyb2xsZXJzJyxcclxuICAgICdtYW5hZ2VtZW50Q29udHJvbGxlcnMnLFxyXG4gICAgJ3R5cGVDb250cm9sbGVycycsXHJcbiAgICAnb3JkZXJDb250cm9sbGVycycsXHJcbiAgICAndWlDcm9wcGVyJ1xyXG5dKS5jb25maWcoZnVuY3Rpb24oJGh0dHBQcm92aWRlcil7XHJcbiAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnQXV0aEludGVyY2VwdG9ycycpO1xyXG59KTtcclxuIiwidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuJGxvY2F0aW9uUHJvdmlkZXIuaGFzaFByZWZpeCgnJyk7XHJcbiRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuXHJcbiAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwJywge1xyXG4gICAgICAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdoZWFkZXInOiB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21lbnVlcy9oZWFkZXIuaHRtbCdcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vZm9ybS5odG1sJ1xyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAnbWVudUBhcHAnOiB7XHJcbiAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWVudWVzL21haW5NZW51Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluTWVudUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ21haW5NZW51J1xyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAnYWNjb3VudEBhcHAnOiB7XHJcbiAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFpbi9hY2NvdW50Lmh0bWwnXHJcbiAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAnOiB7XHJcbiAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFpbi9ob21lLmh0bWwnXHJcbiAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICdmb290ZXInOiB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NvbXBhbnkvZm9vdGVyLmh0bWwnXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAudXNlcicsIHtcclxuICAgICAgICAgICAgICB1cmw6ICd1c2VyJyxcclxuICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcGFydGlhbC91c2VyLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuY29tbWVyY2VEZXRhaWwnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnY29tbWVyY2UtZGV0YWlsJyxcclxuICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcGFydGlhbC9jb21tZXJjZURldGFpbC5odG1sJyxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmJhc2tldCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICdiYXNrZXQnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9wYXJ0aWFsL2Jhc2tldC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Jhc2tldEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdiYXNrZXQnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuY2F0ZWdvcnknLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnY2F0ZWdvcnk9OmNhdGVnb3J5X2lkJyxcclxuICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ3N1Yk1lbnVAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tZW51ZXMvc3ViTWVudS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N1Yk1lbnVDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnc3ViTWVudSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2l0ZW1zL2Zvcm0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZXRUeXBlSXRlbXNDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2V0VHlwZUl0ZW1zJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuY2F0ZWdvcnkuaXRlbV90eXBlJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9pdGVtX3R5cGU9OnR5cGVfY29kZScsXHJcbiAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NhdGVnb3J5ZXMvaXRlbXMvZm9ybS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dldFR5cGVJdGVtc0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnZXRUeXBlSXRlbXMnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuY2F0ZWdvcnkuc2hvdycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvaXRlbTppdGVtX2lkJyxcclxuICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY2F0ZWdvcnllcy9pdGVtcy9pdGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2V0VHlwZUl0ZW1DdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2V0VHlwZUl0ZW0nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAubWFrZU9yZGVyJywge1xyXG4gICAgICAgICAgICAgIHVybDogJ21ha2VPcmRlcicsXHJcbiAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL29yZGVyL21ha2VPcmRlci5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlYWRPcmRlckN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWFkT3JkZXInXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuY29uZmlybU9yZGVyJywge1xyXG4gICAgICAgICAgICAgIHVybDogJ2NvbmZpcm1PcmRlcicsXHJcbiAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL29yZGVyL2NvbmZpcm1PcmRlci5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlYWRPcmRlckN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWFkT3JkZXJDdHJsJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmJvYXJkJywge1xyXG4gICAgICAgICAgICAgIHVybDogJ2JvYXJkJyxcclxuICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY2F0ZWdvcnllcy9ib2FyZC9mb3JtLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAubWFuYWdlbWVudCcsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJ21hbmFnZW1lbnQnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAJyA6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvZm9ybS5odG1sJyxcclxuICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICdtZW51QGFwcC5tYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9tZW51Lmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50LmNhdGVnb3J5JyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnY2F0ZWdvcnknLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5tYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9wYXJ0aWFsL2NhdGVnb3J5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5NZW51Q3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdtYWluTWVudSdcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50Lml0ZW1zJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL2l0ZW1zJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAubWFuYWdlbWVudCc6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC9pdGVtcy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdpdGVtc0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnaXRlbXMnXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50Lml0ZW1zLnVwZGF0ZScsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy91cGRhdGU6aXRlbV90eXBlJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAubWFuYWdlbWVudCc6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC90eXBlL3VwZGF0ZS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1cGRhdGVUeXBlQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd1cGRhdGVUeXBlJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50Lml0ZW1zLnVwZGF0ZUl0ZW0nLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvdXBkYXRlL2l0ZW06aXRlbV9pZCcsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvaXRlbS91cGRhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXBkYXRlSXRlbUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndXBkYXRlSXRlbSdcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLm1hbmFnZW1lbnQuaXRlbXMucmVhZEl0ZW0nLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICc6aXRlbV9pZCcsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvaXRlbS9yZWFkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlYWRJdGVtQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWFkSXRlbSdcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAubWFuYWdlbWVudC5iYW5uZXJVcGxvYWQnLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvYmFubmVyVXBsb2FkJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAubWFuYWdlbWVudCc6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC9iYW5uZXJVcGxvYWQuaHRtbCdcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAubWFuYWdlbWVudC5vcmRlclN0YXR1cycsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy9vcmRlclN0YXR1cycsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvb3JkZXJTdGF0dXMuaHRtbCdcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAubWFuYWdlbWVudC5tZW1iZXJzJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL21lbWJlcnMnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5tYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9wYXJ0aWFsL21lbWJlcnMuaHRtbCdcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVnaXN0ZXJTdGVwMScsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy9yZWdpc3Rlci9zdGVwMScsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZWdDdHJsJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVnaXN0ZXInLFxyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZWdpc3Rlci9yZWdpc3RlclN0ZXAxLmh0bWwnLFxyXG4gICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlclN0ZXAyJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyL3N0ZXAyJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3JlZ2lzdGVyL3JlZ2lzdGVyU3RlcDIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2V0dXNlcm5hbWUnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0dXNlcm5hbWUnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L3VzZXJuYW1lLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VybmFtZUN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VzZXJuYW1lJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNldHBhc3N3b3JkJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9yZXNldHBhc3N3b3JkJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC9wYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGFzc3dvcmRDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwYXNzd29yZCdcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZXQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0Lzp0b2tlbicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvbmV3cGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Jlc2V0Q3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVzZXQnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhY3RpdmF0ZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvYWN0aXZhdGUvOnRva2VuJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9hY3RpdmF0aW9uL2FjdGl2YXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdlbWFpbEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2VtYWlsJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNlbmQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2VuZCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvYWN0aXZhdGlvbi9yZXNlbmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Jlc2VuZEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Jlc2VuZCdcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5pbnRybycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICdpbnRybycsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L2ludHJvLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLnRlcm1zJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ3Rlcm1zJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NvbXBhbnkvdGVybXMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAucHJpdmFjeScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICdwcml2YWN5JyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NvbXBhbnkvcHJpdmFjeS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxufSk7XG5cbmFwcC5ydW4oZnVuY3Rpb24oJHJvb3RTY29wZSwgVXNlciwgJHN0YXRlKXtcbiAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBvcHRpb25zKXtcbiAgfSk7XG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3Ipe1xuICAgICRzdGF0ZS5nbygnYXBwJyk7XG4gIH0pO1xufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmRpcmVjdGl2ZSgnZmlsZU1vZGVsJyxmdW5jdGlvbigkcGFyc2Upe1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgdmFyIHBhcnNlZEZpbGUgPSAkcGFyc2UoYXR0cnMuZmlsZU1vZGVsKTtcclxuICAgICAgdmFyIHBhcnNlZGZpbGVTZXR0ZXIgPSBwYXJzZWRGaWxlLmFzc2lnbjtcclxuXHJcbiAgICAgIGVsZW1lbnQuYmluZCgnY2hhbmdlJyxmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpe1xyXG4gICAgICAgICAgcGFyc2VkZmlsZVNldHRlcihzY29wZSwgZWxlbWVudFswXS5maWxlc1swXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmRpcmVjdGl2ZSgnbWF0Y2gnLGZ1bmN0aW9uKCl7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBjb250cm9sbGVyOmZ1bmN0aW9uKCRzY29wZSl7XHJcbiAgICAgICRzY29wZS5kb0NvbmZpcm0gPSBmdW5jdGlvbih2YWx1ZXMpe1xyXG5cclxuICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24oZWxlKXtcclxuICAgICAgICAgIGlmKCRzY29wZS5jb25maXJtID09IGVsZSl7XHJcbiAgICAgICAgICAgICRzY29wZS5jb25maXJtZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgYXR0cnMuJG9ic2VydmUoJ21hdGNoJywgZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS5tYXRjaGVzID0gSlNPTi5wYXJzZShhdHRycy5tYXRjaCk7XHJcbiAgICAgICAgc2NvcGUuZG9Db25maXJtKHNjb3BlLm1hdGNoZXMpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNjb3BlLiR3YXRjaCgnY29uZmlybScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUubWF0Y2hlcyA9IEpTT04ucGFyc2UoYXR0cnMubWF0Y2gpO1xyXG4gICAgICAgIHNjb3BlLmRvQ29uZmlybShzY29wZS5tYXRjaGVzKTtcclxuXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYWRtaW5TZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdBZG1pbicsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBhZG1pbkZhY3RvcnkgPSB7fTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LmRlbGV0ZUl0ZW0gPSBmdW5jdGlvbihpdGVtX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5kZWxldGUoJy9hcGkvaXRlbS8nK2l0ZW1faWQpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5kZWxldGVUeXBlID0gZnVuY3Rpb24oaXRlbV90eXBlX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5kZWxldGUoJy9hcGkvaXRlbU1hbmFnZW1lbnQvJytpdGVtX3R5cGVfaWQpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5yZWFkVXBkYXRlVHlwZSA9IGZ1bmN0aW9uKGl0ZW1fdHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2l0ZW1NYW5hZ2VtZW50LycraXRlbV90eXBlKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkudXBkYXRlVXBkYXRlVHlwZSA9IGZ1bmN0aW9uKHVwZGF0ZURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9pdGVtTWFuYWdlbWVudCcsIHVwZGF0ZURhdGEpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5jcmVhdGVUeXBlID0gZnVuY3Rpb24odHlwZURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvaXRlbV90eXBlJywgdHlwZURhdGEpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5yZWFkVHlwZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2l0ZW1fdHlwZScpO1xyXG4gIH07XHJcbiAgYWRtaW5GYWN0b3J5LnJlYWRBcmlzdENyb3AgPSBmdW5jdGlvbihibG9iKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NyZWF0ZUNyb3BJbWFnZScsIGJsb2IpO1xyXG4gIH07XHJcbiAgLy8gQXJ0aXN0LmNyZWF0ZVBob3RvKHBob3RvRGF0YSlcclxuICBhZG1pbkZhY3RvcnkuY3JlYXRlQXJpc3RQaG90byA9IGZ1bmN0aW9uKHBob3RvRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hcnRpc3RQcm9maWxlcycsIHBob3RvRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LmNyZWF0ZUl0ZW0gPSBmdW5jdGlvbihpdGVtRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9pdGVtJywgaXRlbURhdGEpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5yZWFkSXRlbXMgPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9pdGVtJyk7XHJcbiAgfTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LnJlYWRJdGVtID0gZnVuY3Rpb24oaXRlbV9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2l0ZW0vJytpdGVtX2lkKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gYWRtaW5GYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2F1dGhTZXJ2aWNlcycsW10pXHJcblxyXG4uZmFjdG9yeSgnQXV0aCcsIGZ1bmN0aW9uKCRodHRwLCBBdXRoVG9rZW4pe1xyXG4gICAgdmFyIGF1dGhGYWN0b3J5ID0ge307XHJcbi8vIEF1dGguZ2V0VXNlcigpO1xyXG4gICAgYXV0aEZhY3RvcnkuZ2V0VXNlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKXtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9tZScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRxLnJlamVjdCh7bWVzc2FnZTonVXNlciBoYXMgbm8gdG9rZW4nfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmxvZ2luKGxvZ2luRGF0YSk7XHJcbiAgICBhdXRoRmFjdG9yeS5sb2dpbiA9IGZ1bmN0aW9uKGxvZ2luRGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2F1dGhlbnRpY2F0ZScsIGxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5pc0xvZ2dlZEluKCk7XHJcbiAgICBhdXRoRmFjdG9yeS5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKXtcclxuICAgICAgaWYoQXV0aFRva2VuLmdldFRva2VuKCkpe1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8vIEF1dGgubG9nb3V0KCk7XHJcbiAgICBhdXRoRmFjdG9yeS5sb2dvdXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gYXV0aEZhY3Rvcnk7XHJcbn0pXHJcblxyXG4uZmFjdG9yeSgnQXV0aFRva2VuJywgZnVuY3Rpb24oJHdpbmRvdyl7XHJcbiAgdmFyIGF1dGhUb2tlbkZhY3RvcnkgPSB7fTtcclxuXHJcbiAgLy8gQXV0aFRva2VuLnNldFRva2VuKHRva2VuKTtcclxuICBhdXRoVG9rZW5GYWN0b3J5LnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgaWYodG9rZW4pe1xyXG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuICAgIH1lbHNlIHtcclxuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nLCB0b2tlbik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbi8vIEF1dGhUb2tlbi5nZXRUb2tlbigpO1xyXG4gIGF1dGhUb2tlbkZhY3RvcnkuZ2V0VG9rZW4gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgfTtcclxuICByZXR1cm4gYXV0aFRva2VuRmFjdG9yeTtcclxufSlcclxuXHJcbi5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3JzJywgZnVuY3Rpb24oQXV0aFRva2VuKXtcclxuICB2YXIgYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkgPSB7fTtcclxuXHJcbiAgYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkucmVxdWVzdCA9IGZ1bmN0aW9uKGNvbmZpZyl7XHJcbiAgICB2YXIgdG9rZW4gPSBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuXHJcbiAgICBpZih0b2tlbikgY29uZmlnLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuJ10gPSB0b2tlbjtcclxuXHJcbiAgICByZXR1cm4gY29uZmlnO1xyXG4gIH07XHJcbiAgcmV0dXJuIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ21lbnVTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdNZW51JywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIG1lbnVGYWN0b3J5ID0ge307XHJcblxyXG4gIG1lbnVGYWN0b3J5LmRlbGV0ZU1lbnUgPSBmdW5jdGlvbihjYXRlZ29yeV9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZGVsZXRlKCcvYXBpL21lbnUvJytjYXRlZ29yeV9pZCk7XHJcbiAgfTtcclxuXHJcbiAgbWVudUZhY3RvcnkudXBkYXRlTWVudSA9IGZ1bmN0aW9uKHVwZGF0ZURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9tZW51LycsIHVwZGF0ZURhdGEpO1xyXG4gIH07XHJcblxyXG4gIG1lbnVGYWN0b3J5LmNyZWF0ZU1lbnUgPSBmdW5jdGlvbihtZW51RGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9tZW51JywgbWVudURhdGEpO1xyXG4gIH07XHJcblxyXG4gIG1lbnVGYWN0b3J5LnJlYWRNYWluTWVudSA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lbnUnKTtcclxuICB9O1xyXG4gIG1lbnVGYWN0b3J5LnJlYWRTdWJNZW51ID0gIGZ1bmN0aW9uKG1haW5NZW51VHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lbnUvJyttYWluTWVudVR5cGUpO1xyXG4gIH07XHJcbiAgcmV0dXJuIG1lbnVGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ29yZGVyU2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnT3JkZXInLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgb3JkZXJGYWN0b3J5ID0ge307XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5jcmVhdGVCYXNrZXQgPSBmdW5jdGlvbihiYXNrZXREYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2Jhc2tldCcsIGJhc2tldERhdGEpO1xyXG4gIH07XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5jcmVhdGVPcmRlciA9IGZ1bmN0aW9uKG9yZGVyRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9tYWtlT3JkZXInLG9yZGVyRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIG9yZGVyRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd1c2VyU2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnVXNlcicsIGZ1bmN0aW9uKCRodHRwKXtcclxuICB1c2VyRmFjdG9yeSA9IHt9O1xyXG5cclxuICB1c2VyRmFjdG9yeS5nZXRQZXJtaXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcGVybWlzc2lvbicpO1xyXG4gIH07XHJcbi8vIFVzZXIuY3JlYXRlKHJlZ0RhdGEpXHJcbiAgdXNlckZhY3RvcnkuY3JlYXRlID0gZnVuY3Rpb24ocmVnRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VycycsIHJlZ0RhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLmFjdGl2ZUFjY291bnQodG9rZW4pO1xyXG4gIHVzZXJGYWN0b3J5LmFjdGl2ZUFjY291bnQgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2FjdGl2YXRlLycrdG9rZW4pO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLmNoZWNrQ3JlZGVudGlhbHMobG9naW5EYXRhKTtcclxuICB1c2VyRmFjdG9yeS5jaGVja0NyZWRlbnRpYWxzID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Jlc2VuZCcsIGxvZ2luRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIucmVzZW5kTGluayh1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZXNlbmRMaW5rID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9yZXNlbmQnLCB1c2VybmFtZSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuc2VuZFVzZXJuYW1lKHVzZXJEYXRhKTtcclxuICB1c2VyRmFjdG9yeS5zZW5kVXNlcm5hbWUgPSBmdW5jdGlvbih1c2VyRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Jlc2V0dXNlcm5hbWUvJyt1c2VyRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuc2VuZFBhc3N3b3JkKHJlc2V0RGF0YSk7XHJcbiAgdXNlckZhY3Rvcnkuc2VuZFBhc3N3b3JkID0gZnVuY3Rpb24ocmVzZXREYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvcmVzZXRwYXNzd29yZCcsIHJlc2V0RGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIucmVzZXRQYXNzd29yZCh0b2tlbik7XHJcbiAgdXNlckZhY3RvcnkucmVzZXRQYXNzd29yZCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVzZXRwYXNzd29yZC8nK3Rva2VuKTtcclxuICB9O1xyXG5cclxuXHJcbi8vIFVzZXIuc2F2ZVBhc3N3b3JkKHJlZ0RhdGEpXHJcbiAgdXNlckZhY3Rvcnkuc2F2ZVBhc3N3b3JkID0gZnVuY3Rpb24ocmVnRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3NhdmVwYXNzd29yZCcsIHJlZ0RhdGEpO1xyXG4gIH07XHJcblxyXG4vLyAgVXNlci5yZW5ld1Nlc3Npb24odXNlcm5hbWUpXHJcbiAgdXNlckZhY3RvcnkucmVuZXdTZXNzaW9uID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZW5ld1Rva2VuLycrIHVzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuXHJcbiAgcmV0dXJuIHVzZXJGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2VtYWlsQ29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdlbWFpbEN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIFVzZXIuYWN0aXZlQWNjb3VudCgkc3RhdGVQYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICB9LDIwMDApO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgIH0sMjAwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVzZW5kQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIGFwcCA9IHRoaXM7XHJcbiAgdGhpcy5jaGVja0NyZWRlbnRpYWxzID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgVXNlci5jaGVja0NyZWRlbnRpYWxzKHRoaXMubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgVXNlci5yZXNlbmRMaW5rKGFwcC5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICB9LDIwMDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9ZWxzZSB7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigndXNlcm5hbWVDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdGhpcy5zZW5kVXNlcm5hbWUgPSBmdW5jdGlvbih1c2VyRGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBVc2VyLnNlbmRVc2VybmFtZShhcHAudXNlckRhdGEuZW1haWwpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOydtOuplOydvCDso7zshozqsIAg7JWE64uZ64uI64ukLic7XHJcbiAgICB9XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdwYXNzd29yZEN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBhcHAuc2VuZFBhc3N3b3JkID0gZnVuY3Rpb24ocmVzZXREYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIFVzZXIuc2VuZFBhc3N3b3JkKGFwcC5yZXNldERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOyVhOydtOuUlOqwgCDslYTri5nri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Jlc2V0Q3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgJHNjb3BlLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICBhcHAuaGlkZSA9IHRydWU7IC8vIEhpZGUgZm9ybSB1bnRpbCB0b2tlbiBjYW4gYmUgdmVyaWZpZWQgdG8gYmUgdmFsaWRcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBjaGVjayBpZiB0b2tlbiBpcyB2YWxpZCBhbmQgZ2V0IHRoZSB1c2VyJ3MgaW5mbyBmcm9tIGRhdGFiYXNlIChydW5zIG9uIHBhZ2UgbG9hZClcclxuICAgIFVzZXIucmVzZXRQYXNzd29yZCgkc3RhdGVQYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgd2FzIHJldHJpZXZlZFxyXG4gICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICBhcHAuaGlkZSA9IGZhbHNlOyAvLyBTaG93IGZvcm1cclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gJ+yDiOuhnOyatCDruYTrsIDrsojtmLjrpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIExldCB1c2VyIGtub3cgdGhleSBjYW4gZW50ZXIgbmV3IHBhc3N3b3JkXHJcbiAgICAgICAgICAgICRzY29wZS51c2VybmFtZSA9IGRhdGEuZGF0YS51c2VyWzBdLnVzZXJuYW1lOyAvLyBTYXZlIHVzZXJuYW1lIGluIHNjb3BlIGZvciB1c2UgaW4gc2F2ZVBhc3N3b3JkKCkgZnVuY3Rpb25cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTsgLy8gR3JhYiBlcnJvciBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3RcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBzYXZlIHVzZXIncyBuZXcgcGFzc3dvcmQgdG8gZGF0YWJhc2VcclxuICAgIGFwcC5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhLCB2YWxpZCwgY29uZmlybWVkKSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7IC8vIENsZWFyIGVycm9yTXNnIHdoZW4gdXNlciBzdWJtaXRzXHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlOyAvLyBEaXNhYmxlIGZvcm0gd2hpbGUgcHJvY2Vzc2luZ1xyXG4gICAgICAgIGFwcC5sb2FkaW5nID0gdHJ1ZTsgLy8gRW5hYmxlIGxvYWRpbmcgaWNvblxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBmb3JtIGlzIHZhbGlkIGFuZCBwYXNzd29yZHMgbWF0Y2hcclxuICAgICAgICBpZiAodmFsaWQgJiYgY29uZmlybWVkKSB7XHJcbiAgICAgICAgICAgIGFwcC5yZWdEYXRhLnVzZXJuYW1lID0gJHNjb3BlLnVzZXJuYW1lOyAvLyBHcmFiIHVzZXJuYW1lIGZyb20gJHNjb3BlXHJcblxyXG4gICAgICAgICAgICAvLyBSdW4gZnVuY3Rpb24gdG8gc2F2ZSB1c2VyJ3MgbmV3IHBhc3N3b3JkIHRvIGRhdGFiYXNlXHJcbiAgICAgICAgICAgIFVzZXIuc2F2ZVBhc3N3b3JkKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwYXNzd29yZCB3YXMgc2F2ZWQgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1zdWNjZXNzJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2ZlOuptOycvOuhnCDsnbTrj5ntlanri4jri6QuJzsgLy8gR3JhYiBzdWNjZXNzIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdCBhbmQgcmVkaXJlY3RcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBwYWdlIGFmdGVyIDIwMDAgbWlsbGlzZWNvbmRzICgyIHNlY29uZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgZm9ybSB0byBhbGxvdyB1c2VyIHRvIHJlc3VibWl0XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7IC8vIEdyYWIgZXJyb3IgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgZm9ybSB0byBhbGxvdyB1c2VyIHRvIHJlc3VibWl0XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBMZXQgdXNlciBrbm93IGZvcm0gaXMgbm90IHZhbGlkXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd1c2VyQ29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdyZWdDdHJsJywgZnVuY3Rpb24gKCAkaHR0cCwgJGxvY2F0aW9uLCAkdGltZW91dCwgVXNlciwgQXV0aCwgJHN0YXRlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICAgIHRoaXMucmVnU3RlcDEgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBpZighcmVnRGF0YSl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7JW96rSA7JeQIOuPmeydmO2VtOyVvOunjCDtmozsm5DqsIDsnoXsnYQg7KeE7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYoKHJlZ0RhdGEudGVybXMpICYmIChyZWdEYXRhLnByaXZhY3kpKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9ICfslb3qtIDsl5Ag7ISx6rO17KCB7Jy866GcIOuPmeydmO2VmOyFqOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVnaXN0ZXJTdGVwMicpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAvLyDtmozsm5DqsIDsnoVcclxuICAgICAgdGhpcy5yZWdTdGVwMiA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmKHZhbGlkICYmIGNvbmZpcm1lZCl7XHJcbiAgICAgICAgICBVc2VyLmNyZWF0ZShhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICBBdXRoLmxvZ2luKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuZXhwaXJlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGJvb3RzdHJhcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWFpbkNvbnRyb2xsZXJzJyxbJ2F1dGhTZXJ2aWNlcycsICd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ21haW5DdHJsJywgZnVuY3Rpb24oQXV0aCwgJHRpbWVvdXQsICRsb2NhdGlvbiwgJHN0YXRlLCAkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3csICRpbnRlcnZhbCwgVXNlciwgQXV0aFRva2VuKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgYXBwLmxvYWRtZSA9IGZhbHNlO1xyXG5cclxuICAkc2NvcGUuJG9uKCdMT0FEJywgZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgJHNjb3BlLiRvbignVU5MT0FEJywgZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgfSk7XHJcblxyXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCl7XHJcbiAgICBpZighY2hlY2tTZXNzaW9uKSB7XHJcbiAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYoQXV0aC5pc0xvZ2dlZEluKCkpe1xyXG4gICAgICAgIGFwcC5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICBBdXRoLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgYXBwLnVzZXIgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgIFVzZXIuZ2V0UGVybWlzc2lvbigpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEucGVybWlzc2lvbiA9PT0gJ2FkbWluJyl7XHJcbiAgICAgICAgICAgICAgICBhcHAuYXV0aG9yaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYoZGF0YS5kYXRhLnBlcm1pc3Npb24gPT09ICdhcnRpc3QnKXtcclxuICAgICAgICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC51c2VyID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB2YXIgY2hlY2tTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgIGlmKEF1dGguaXNMb2dnZWRJbigpKXtcclxuICAgICAgYXBwLmNoZWNrU2Vzc2lvbiA9IHRydWU7XHJcbiAgICAgIHZhciBpbnRlcnZhbCA9ICRpbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciB0b2tlbiA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgICAgICAgaWYodG9rZW4gPT09IG51bGwpe1xyXG4gICAgICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYucGFyc2VKd3QgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICAgICAgICAgIHZhciBiYXNlNjRVcmwgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xyXG4gICAgICAgICAgICB2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoJy0nLCcrJykucmVwbGFjZSgnXycsICcvJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKCR3aW5kb3cuYXRvYihiYXNlNjQpKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2YXIgZXhwaXJlVGltZSA9IHNlbGYucGFyc2VKd3QodG9rZW4pO1xyXG4gICAgICAgICAgdmFyIHRpbWVTdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xyXG4gICAgICAgICAgdmFyIHRpbWVDaGVjayA9IGV4cGlyZVRpbWUuZXhwIC0gdGltZVN0YW1wO1xyXG5cclxuICAgICAgICAgIGlmKHRpbWVDaGVjayA8PSA1KXtcclxuICAgICAgICAgICAgc2hvd01vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sIDIwMDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNoZWNrU2Vzc2lvbigpO1xyXG5cclxuXHJcbiAgICBhcHAucmVuZXdTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICBVc2VyLnJlbmV3U2Vzc2lvbihhcHAudXNlci51c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgYXBwLk1vZGFsQm9keSA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgYXBwLmVuZFNlc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIHNob3dNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgICAgIH0sNTAwKTtcclxuICAgIH07XHJcblxyXG5cclxuICB2YXIgc2hvd01vZGFsID0gZnVuY3Rpb24ob3B0aW9uKXtcclxuICAgIGFwcC5jaG9pY2VNYWRlID0gZmFsc2U7XHJcbiAgICBhcHAubW9kYWxIZWFkZXIgPSB1bmRlZmluZWQ7XHJcbiAgICBhcHAubW9kYWxCb2R5ID0gdW5kZWZpbmVkO1xyXG4gICAgYXBwLmhpZGVCdXR0b24gPSBmYWxzZTtcclxuLy8gY2hlY2sgdG9rZW4gZXhwaXJlZFxyXG4gICAgaWYob3B0aW9uID09PSAgJ2V4cGlyZWQnICl7XHJcbiAgICAgIGFwcC5tb2RhbEhlYWRlciA9ICdUaW1lb3V0IFdhcm5pbmcnO1xyXG4gICAgICBhcHAubW9kYWxCb2R5ID0gJ1lvdXIgc2Vzc2lvbiB3aWxsIGV4cGlyZWQgaW4gNSBtaW51dGVzLiBXb3VsZCB5b3UgbGlrZSB0byByZW5ldyB5b3VyIHNlc3Npb24/JztcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9nb3V0Jyl7XHJcbi8vIGxvZ291dFxyXG4gICAgICBhcHAuaGlkZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgIGFwcC5tb2RhbEhlYWRlciA9ICfroZzqt7jslYTsm4MnO1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgaGlkZU1vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ2luJyl7XHJcbi8vIExvZ2luXHJcbiAgICAgICQoXCIjbG9naW5cIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgIH1cclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBpZighYXBwLmNob2ljZU1hZGUpe1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDIwMDApO1xyXG5cclxuICB9O1xyXG5cclxuICB2YXIgaGlkZU1vZGFsID0gZnVuY3Rpb24ob3B0aW9uKXtcclxuXHJcbiAgICBpZihvcHRpb24gPT09ICdleHBpcmVkJyl7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ291dCcpe1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dpbicpe1xyXG4gICAgICAkKFwiI2xvZ2luXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG4vLyDroZzqt7jsnbhcclxuICB0aGlzLmRvTG9naW4gPSBmdW5jdGlvbihsb2dpbkRhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBBdXRoLmxvZ2luKGFwcC5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgIGFwcC5sb2dpbkRhdGEgPSBudWxsO1xyXG4gICAgICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5leHBpcmVkKXtcclxuICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIElmIGVycm9yIG9jY3VycywgcmVtb3ZlIGRpc2FibGUgbG9jayBmcm9tIGZvcm1cclxuICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBib290c3RyYXAgbG9hZGluZyBpY29uXHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcblxyXG4gIGFwcC5sb2dpbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIHNob3dNb2RhbCgnbG9naW4nKTtcclxuICB9O1xyXG5cclxuICBhcHAubG9nb3V0ID0gZnVuY3Rpb24oKXtcclxuICAgIHNob3dNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLnJlc2VuZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2VuZCcpO1xyXG4gICAgICBhcHAuZXhwaXJlZCA9IGZhbHNlO1xyXG4gICAgfSw1MDApO1xyXG4gIH07XHJcblxyXG4gIGFwcC5yZXNldHVzZXJuYW1lID0gZnVuY3Rpb24oKXtcclxuICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICRzdGF0ZS5nbygncmVzZXR1c2VybmFtZScpO1xyXG4gICAgfSw1MDApO1xyXG4gIH07XHJcblxyXG4gIGFwcC5yZXNldHBhc3N3b3JkID0gZnVuY3Rpb24oKXtcclxuICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICRzdGF0ZS5nbygncmVzZXRwYXNzd29yZCcpO1xyXG4gICAgfSw1MDApO1xyXG5cclxuICB9O1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtYW5hZ2VtZW50Q29udHJvbGxlcnMnLFsnYWRtaW5TZXJ2aWNlcycsICdtZW51U2VydmljZXMnLCAnb3JkZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcigndXBkYXRlVHlwZUN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIE1lbnUsIEFkbWluLCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBpdGVtX3R5cGUgPSAkc3RhdGVQYXJhbXMuaXRlbV90eXBlO1xyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICBBZG1pbi5yZWFkVXBkYXRlVHlwZShpdGVtX3R5cGUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgaWQ6IHR5cGVbaV0uY2F0ZWdvcnlfaWRcclxuICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICB9KTtcclxuICAgICAgICAgICBhcHAudXBkYXRhRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24gPSB7XHJcbiAgICAgICAgICAgICBpZCA6IGFwcC51cGRhdGFEYXRhLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgfTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG5cclxuICAgICAgIH1cclxuICAgfSk7XHJcblxyXG4gICB0aGlzLnVwZGF0ZVR5cGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICBhcHAudXBkYXRlRGF0YSA9IGRhdGE7XHJcbiAgICAgYXBwLnVwZGF0ZURhdGEuY2F0ZWdvcnlfaWQgPSBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZDtcclxuICAgICBhcHAudXBkYXRlRGF0YS5uYW1lID0gYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24ubmFtZTtcclxuICAgICBBZG1pbi51cGRhdGVVcGRhdGVUeXBlKGFwcC51cGRhdGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG4gICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3JlYWRUeXBlQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGUsICR3aW5kb3csIE1lbnUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG4gICB0aGlzLmRlbGV0ZVR5cGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICB2YXIgaXRlbV90eXBlX2lkID0gZGF0YS5pdGVtX3R5cGU7XHJcbiAgICAgQWRtaW4uZGVsZXRlVHlwZShpdGVtX3R5cGVfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG4gICB9O1xyXG5cclxuLy8g7IOB7ZKIIOu2hOulmO2RnFxyXG4gIEFkbWluLnJlYWRUeXBlKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0ubmFtZSxcclxuICAgICAgICAgICAgICBpZDogdHlwZVtpXS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBhcHAudHlwZURhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgdmFyIGtpbmREYXRhcyA9IFtdO1xyXG4gICAgICBmb3IodmFyIGk9MDsgaTxkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgIGtpbmREYXRhc1tpXSA9IHtcclxuICAgICAgICAgICAgICBraW5kOiBhcHAudHlwZURhdGFzW2ldLmtpbmQuc3BsaXQoJywnKSxcclxuICAgICAgICAgICAgICBwcmljZTogYXBwLnR5cGVEYXRhc1tpXS5wcmljZS5zcGxpdCgnLCcpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgYXBwLnR5cGVEYXRhc1tpXS5raW5kID0ga2luZERhdGFzW2ldLmtpbmQ7XHJcbiAgICAgICAgICBhcHAudHlwZURhdGFzW2ldLnByaWNlID0ga2luZERhdGFzW2ldLnByaWNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignY3JlYXRlVHlwZUN0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlLCBNZW51LCAkd2luZG93KXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgXSxcclxuICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuICAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgIG5hbWU6IHR5cGVbaV0ubmFtZSxcclxuICAgICAgICAgICBpZDogdHlwZVtpXS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICB9O1xyXG4gICAgICAgfVxyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICB9XHJcbiAgIH0pO1xyXG5cclxuXHJcbiAgdGhpcy5jcmVhdGVUeXBlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC50eXBlRGF0YSA9IHtcclxuICAgICAgY2F0ZWdvcnk6IGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkLFxyXG4gICAgICB0eXBlX2Rlc2NyaXB0aW9uOiBkYXRhLnR5cGVfZGVzY3JpcHRpb24sXHJcbiAgICAgIHR5cGVfY29kZTogZGF0YS50eXBlX2NvZGUsXHJcbiAgICAgIGtpbmQ6IGFwcC50eXBlX3RpbnkudG9TdHJpbmcoKSxcclxuICAgICAgcHJpY2U6IGFwcC50eXBlX3ByaWNlLnRvU3RyaW5nKClcclxuICAgIH07XHJcblxyXG4gICAgQWRtaW4uY3JlYXRlVHlwZShhcHAudHlwZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuc3VjY2VzcyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGFwcC5raW5kTGlzdCA9IFtdO1xyXG4gIGFwcC50eXBlX3RpbnkgPSBbXTtcclxuICBhcHAudHlwZV9wcmljZSA9IFtdO1xyXG5cclxuICB0aGlzLmFkZExpbmUgPSBmdW5jdGlvbihraW5kRGF0YSl7XHJcbiAgICBpZigha2luZERhdGEpe1xyXG4gICAgICAkd2luZG93LmFsZXJ0KCfsoJXtmZXtlZwg6rCS7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmKGtpbmREYXRhLmtpbmRWYWx1ZSA9PT0gbnVsbCB8fCBraW5kRGF0YS5raW5kVmFsdWUgPT09IHVuZGVmaW5lZCB8fCBraW5kRGF0YS5raW5kVmFsdWUgPT09ICcnKVxyXG4gICAgICB7XHJcbiAgICAgICAgJHdpbmRvdy5hbGVydCgn7Ji17IWY66qF7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgfSBlbHNlIGlmKGtpbmREYXRhLmtpbmRQcmljZSA9PT0gbnVsbCB8fCBraW5kRGF0YS5raW5kUHJpY2UgPT09IHVuZGVmaW5lZCB8fCBraW5kRGF0YS5raW5kUHJpY2UgPT09ICcnKXtcclxuICAgICAgICAkd2luZG93LmFsZXJ0KCfsmLXshZgg6rCA6rKp7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAua2luZExpc3QucHVzaChcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAga2luZDoga2luZERhdGEua2luZFZhbHVlLFxyXG4gICAgICAgICAgICBwcmljZToga2luZERhdGEua2luZFByaWNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICBhcHAudHlwZV90aW55LnB1c2goa2luZERhdGEua2luZFZhbHVlKTtcclxuICAgICAgICBhcHAudHlwZV9wcmljZS5wdXNoKGtpbmREYXRhLmtpbmRQcmljZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgfTtcclxufSlcclxuXHJcblxyXG5cclxuXHJcbi5jb250cm9sbGVyKCdpdGVtc0N0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBBZG1pbi5yZWFkSXRlbXMoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5pdGVtc0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICBjb25zb2xlLmxvZyhhcHAuaXRlbXNEYXRhKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB0aGlzLmRlbGV0ZUl0ZW0gPSBmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgdmFyIGl0ZW1faWQgPSBkYXRhLml0ZW1faWQ7XHJcbiAgICBBZG1pbi5kZWxldGVJdGVtKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVhZEl0ZW1DdHJsJywgZnVuY3Rpb24oQWRtaW4sICRzdGF0ZVBhcmFtcywgJHNjb3BlLCBPcmRlciwgJHdpbmRvdyl7XHJcblxyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgaXRlbV9pZCA9ICRzdGF0ZVBhcmFtcy5pdGVtX2lkO1xyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbiAgICAgYXBwLmFtb3VudCA9IDE7XHJcblxyXG4gICAgQWRtaW4ucmVhZEl0ZW0oaXRlbV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIHZhciBraW5kID0gZGF0YS5kYXRhLnJlc3VsdC5raW5kLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgdmFyIHRlbXAgPSBkYXRhLmRhdGEucmVzdWx0LnByaWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgdmFyIHByaWNlID0gW107XHJcbiAgICAgICAgZm9yKGk9MDtpPHRlbXAubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICBwcmljZVtpXSA9IE51bWJlcih0ZW1wW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwLml0ZW1EYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbiA9IHtcclxuICAgICAgICAgIGlkIDogcHJpY2VbMF1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmb3IoaT0wOyBpPHByaWNlLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgbmFtZToga2luZFtpXSxcclxuICAgICAgICAgICAgaWQ6IHByaWNlW2ldXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG4uY29udHJvbGxlcigndXBkYXRlSXRlbUN0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlUGFyYW1zLCAkc2NvcGUsICRodHRwLCAkdGltZW91dCwgICRzdGF0ZSwgJHdpbmRvdywgTWVudSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIGl0ZW1faWQgPSAkc3RhdGVQYXJhbXMuaXRlbV9pZDtcclxuXHJcbiAgICAgICAgIGFwcC5kYXRhID0ge1xyXG4gICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgXSxcclxuICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGFwcC5kYXRhMiA9IHtcclxuICAgICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICAgIHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgIGlkOiB0eXBlW2ldLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdGhpcy5yZWFkTWVudSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLnJlYWRNZW51U3RhdHVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuaWQgPT09IDApe1xyXG4gICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5X2lkID0gZGF0YS5pZDtcclxuICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvbWVudS8nK2NhdGVnb3J5X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgLy8g7LSI6riw7ZmUIOyLnO2CtFxyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRhdGEyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfrk7HroZ3rkJwg7IOB7ZKI7J20IOyXhuyKteuLiOuLpC4nKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAucmVhZE1lbnVTdGF0dXMgPSB0cnVlO1xyXG4gICAgLy8g7LSI6riw7ZmUIOyLnOy8nOyVvO2VmOuKlOuNsCDslrTrlrvqsowg7ZWg6rmM7JqUXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRhdGEyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmRhdGEyLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdHlwZVtpXS50eXBlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogdHlwZVtpXS5pdGVtX3R5cGVfaWRcclxuICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICBBZG1pbi5yZWFkSXRlbShpdGVtX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAuaXRlbURhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbiA9IHtcclxuICAgICAgICBpZCA6IGFwcC5pdGVtRGF0YS5jYXRlZ29yeV9pZFxyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB0aGlzLnVwZGF0ZUl0ZW0gPSBmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgaWYoYXBwLnJlYWRNZW51U3RhdHVzKXtcclxuICAgICAgaWYoZGF0YS5pdGVtX3R5cGUgPT09IDAgfHwgZGF0YS5pdGVtX3R5cGUgPT09ICcwJyl7XHJcbiAgICAgICAgJHdpbmRvdy5hbGVydCgn7IOB7ZKIIOu2hOulmOulvCDshKDtg53tlbTso7zshLjsmpQuIScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgICAgdHlwZTogZGF0YS5pdGVtX3R5cGUsXHJcbiAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICAkaHR0cC5wdXQoJy9hcGkvaXRlbS8nK2l0ZW1faWQsIHVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHVwZGF0ZURhdGEyID0ge1xyXG4gICAgICAgICAgdHlwZTogYXBwLml0ZW1EYXRhLml0ZW1fdHlwZV9pZCxcclxuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgICRodHRwLnB1dCgnL2FwaS9pdGVtLycraXRlbV9pZCwgdXBkYXRlRGF0YTIpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG5cclxufTtcclxuXHJcblxyXG4gIC8vIO2MjOydvOydmCDqsr3roZzrp4wg7KCA7J6l7ZWY6riwIOuplOyduCDsnbTrr7jsp4Ag66eM65Ok6riwXHJcbiAgICAgIHRoaXMuZmlsZSA9IHt9O1xyXG4gIC8vIOuplOyduCDsnpHtkojsnbTrr7jsp4Ag7JeF66Gc65OcIOuQmOyXiOuKlOyngCDrs7Tsl6zso7zquLBcclxuICAgICAgdGhpcy5tYWluUGhvdG9DaGFuZ2VkID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAvLyDrqZTsnbgg7J6R7ZKIIOydtOuvuOyngCDsl4XroZzrk5ztlbTshJwg6rK966GcIOyggOyepVxyXG4gICAgICB0aGlzLnJlYWRQaG90byA9IGZ1bmN0aW9uKCl7XHJcbiAgLy8g66mU7J24IOydtOuvuOyngCDsl4XroZzrk5wg7Jes67aAXHJcbiAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgYXBwLm1haW5QaG90byA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9jcmVhdGVQaG90b0ltYWdlLycsIGZkLHtcclxuICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcbiAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgYXBwLm1haW5QaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgICAgICAgICBpbWFnZTogZGF0YS5kYXRhLml0ZW1fcGF0aFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkaHR0cC5wdXQoJy9hcGkvaXRlbS8nK2l0ZW1faWQsIHVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gIC8vIOyeke2SiCDshKTrqoUg7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbiAgICAgIHRoaXMuZXhwbGFpblBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgLy8g7J6R7ZKIIOyEpOuqhSAg7J2066+47KeAIOyXheuhnOuTnO2VtOyEnCDqsr3roZwg7KCA7J6lXHJcbiAgICAgIHRoaXMucmVhZFBob3RvRXhwbGFpbiA9IGZ1bmN0aW9uKCl7XHJcbiAgLy8g7J6R7ZKIIOyEpOuqhSAg7JeF66Gc65OcIOyXrOu2gFxyXG4gICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgIGFwcC5leHBsYWluUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAgICRodHRwLnBvc3QoJy9hcGkvY3JlYXRlUGhvdG9FeHBsYWluLycsIGZkLHtcclxuICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcbiAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgYXBwLmV4cGxhaW5QaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgICAgICAgICBleHBsYWluOiBkYXRhLmRhdGEuaXRlbV9wYXRoXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRodHRwLnB1dCgnL2FwaS9pdGVtLycraXRlbV9pZCwgdXBkYXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgLy8g7I2464Sk7J28IOydtOuvuOyngCDrp4zrk6TquLBcclxuICAgICAgICBhcHAubXlJbWFnZT0nJztcclxuICAgICAgICBhcHAubXlDcm9wcGVkSW1hZ2U9Jyc7XHJcblxyXG4gICAgICAgIHZhciBoYW5kbGVGaWxlU2VsZWN0PWZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICB2YXIgZmlsZT1ldnQuY3VycmVudFRhcmdldC5maWxlc1swXTtcclxuICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgYXBwLm15SW1hZ2U9ZXZ0LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVJbnB1dCcpKS5vbignY2hhbmdlJyxoYW5kbGVGaWxlU2VsZWN0KTtcclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiBkZWNvZGVCYXNlNjRJbWFnZShkYXRhU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gZGF0YVN0cmluZy5tYXRjaCgvXmRhdGE6KFtBLVphLXotK1xcL10rKTtiYXNlNjQsKC4rKSQvKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCAhPT0gMykge1xyXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgaW5wdXQgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlIDogbWF0Y2hlc1sxXSxcclxuICAgICAgICAgICAgICAgIGRhdGEgOiBtYXRjaGVzWzJdXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICByZXR1cm4gZmlsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAvLyDsjbjrhKTsnbwg7J2066+47KeAIOuhnOy7rOuUlOyKpO2BrOyXkCDsoIDsnqUg7ZuEIOyggOyepSDsnITsuZgg6rCA7KC47Jik6riwXHJcbiAgICAgICAgICB0aGlzLnJlYWRDcm9wSW1hZ2UgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC50aHVtYm5haWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYoZGF0YS5iYXNlNjRVcmwgPT09ICcnIHx8IGRhdGEuYmFzZTY0VXJsID09PSBudWxsIHx8IGRhdGEuYmFzZTY0VXJsID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IGRlY29kZUJhc2U2NEltYWdlKCRzY29wZS5teUNyb3BwZWRJbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgIEFkbWluLnJlYWRBcmlzdENyb3AoYmxvYikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbDogZGF0YS5kYXRhLmZpbGVQYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgJGh0dHAucHV0KCcvYXBpL2l0ZW0vJytpdGVtX2lkLCB1cGRhdGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuXHJcbn0pXHJcblxyXG5cclxuXHJcbi5jb250cm9sbGVyKCdjcmVhdGVJdGVtQ3RybCcsIGZ1bmN0aW9uICgkaHR0cCwgJHRpbWVvdXQsICRzY29wZSwgQWRtaW4sICRzdGF0ZSwgJHdpbmRvdywgTWVudSkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgIGFwcC5kYXRhID0ge1xyXG4gICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICBdLFxyXG4gICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhcHAuZGF0YTIgPSB7XHJcbiAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0ubmFtZSxcclxuICAgICAgICAgICAgICBpZDogdHlwZVtpXS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5yZWFkTWVudSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuaWQgPT09IDApe1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydCgn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGNhdGVnb3J5X2lkID0gZGF0YS5pZDtcclxuICAgICAgICAgICRodHRwLmdldCgnL2FwaS9tZW51LycrY2F0ZWdvcnlfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuLy8g7LSI6riw7ZmUIOyLnO2CtFxyXG4gICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5yZXN1bHQubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgICAgIGFwcC5kYXRhMiA9IHtcclxuICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+uTseuhneuQnCDsg4HtkojsnbQg7JeG7Iq164uI64ukLicpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vIOy0iOq4sO2ZlCDsi5zsvJzslbztlZjripTrjbAg7Ja065a76rKMIO2VoOq5jOyalFxyXG4gICAgICAgICAgICAgICAgYXBwLmRhdGEyID0ge1xyXG4gICAgICAgICAgICAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZGF0YTIuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0udHlwZV9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBpZDogdHlwZVtpXS5pdGVtX3R5cGVfaWRcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuXHJcbi8vIO2MjOydvOydmCDqsr3roZzrp4wg7KCA7J6l7ZWY6riwIOuplOyduCDsnbTrr7jsp4Ag66eM65Ok6riwXHJcbiAgICB0aGlzLmZpbGUgPSB7fTtcclxuLy8g66mU7J24IOyeke2SiOydtOuvuOyngCDsl4XroZzrk5wg65CY7JeI64qU7KeAIOuztOyXrOyjvOq4sFxyXG4gICAgdGhpcy5tYWluUGhvdG9DaGFuZ2VkID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZXNbMF0ubmFtZS5tYXRjaCgvXFwuKHBuZ3xqcGVnfGpwZykkLykpIHtcclxuICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG5cclxuLy8g66mU7J24IOyeke2SiCDsnbTrr7jsp4Ag7JeF66Gc65Oc7ZW07IScIOqyveuhnCDsoIDsnqVcclxuICAgIHRoaXMucmVhZFBob3RvID0gZnVuY3Rpb24oKXtcclxuLy8g66mU7J24IOydtOuvuOyngCDsl4XroZzrk5wg7Jes67aAXHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICBhcHAubWFpblBob3RvID0gZmFsc2U7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICBmZC5hcHBlbmQoJ215ZmlsZScsIGFwcC5maWxlLnVwbG9hZCk7XHJcbiAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9jcmVhdGVQaG90b0ltYWdlLycsIGZkLHtcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGFwcC5tYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAubWFpbkltYWdlUGF0aCA9IGRhdGEuZGF0YS5pdGVtX3BhdGg7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuLy8g7J6R7ZKIIOyEpOuqhSDsnbTrr7jsp4Ag7JeF66Gc65OcIOuQmOyXiOuKlOyngCDrs7Tsl6zso7zquLBcclxuICAgIHRoaXMuZXhwbGFpblBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuXHJcbi8vIOyeke2SiCDshKTrqoUgIOydtOuvuOyngCDsl4XroZzrk5ztlbTshJwg6rK966GcIOyggOyepVxyXG4gICAgdGhpcy5yZWFkUGhvdG9FeHBsYWluID0gZnVuY3Rpb24oKXtcclxuLy8g7J6R7ZKIIOyEpOuqhSAg7JeF66Gc65OcIOyXrOu2gFxyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgYXBwLmV4cGxhaW5QaG90byA9IGZhbHNlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9hcGkvY3JlYXRlUGhvdG9FeHBsYWluLycsIGZkLHtcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGFwcC5leHBsYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXhwbGFpbkltYWdlUGF0aCA9IGRhdGEuZGF0YS5pdGVtX3BhdGg7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuXHJcbi8vIOyNuOuEpOydvCDsnbTrr7jsp4Ag66eM65Ok6riwXHJcbiAgICAgIGFwcC5teUltYWdlPScnO1xyXG4gICAgICBhcHAubXlDcm9wcGVkSW1hZ2U9Jyc7XHJcblxyXG4gICAgICB2YXIgaGFuZGxlRmlsZVNlbGVjdD1mdW5jdGlvbihldnQpIHtcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICB2YXIgZmlsZT1ldnQuY3VycmVudFRhcmdldC5maWxlc1swXTtcclxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAubXlJbWFnZT1ldnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgIH07XHJcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlSW5wdXQnKSkub24oJ2NoYW5nZScsaGFuZGxlRmlsZVNlbGVjdCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRlY29kZUJhc2U2NEltYWdlKGRhdGFTdHJpbmcpIHtcclxuICAgICAgICAgIHZhciBtYXRjaGVzID0gZGF0YVN0cmluZy5tYXRjaCgvXmRhdGE6KFtBLVphLXotK1xcL10rKTtiYXNlNjQsKC4rKSQvKTtcclxuXHJcbiAgICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggIT09IDMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCBpbnB1dCBzdHJpbmcnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxlID0ge1xyXG4gICAgICAgICAgICAgIHR5cGUgOiBtYXRjaGVzWzFdLFxyXG4gICAgICAgICAgICAgIGRhdGEgOiBtYXRjaGVzWzJdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiBmaWxlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbi8vIOyNuOuEpOydvCDsnbTrr7jsp4Ag66Gc7Lus65SU7Iqk7YGs7JeQIOyggOyepSDtm4Qg7KCA7J6lIOychOy5mCDqsIDsoLjsmKTquLBcclxuICAgICAgICB0aGlzLnJlYWRDcm9wSW1hZ2UgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgYXBwLnRodW1ibmFpbCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGlmKGRhdGEuYmFzZTY0VXJsID09PSAnJyB8fCBkYXRhLmJhc2U2NFVybCA9PT0gbnVsbCB8fCBkYXRhLmJhc2U2NFVybCA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBibG9iID0gZGVjb2RlQmFzZTY0SW1hZ2UoJHNjb3BlLm15Q3JvcHBlZEltYWdlKTtcclxuICAgICAgICAgICAgICAgIEFkbWluLnJlYWRBcmlzdENyb3AoYmxvYikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbFBhdGggPSBkYXRhLmRhdGEuZmlsZVBhdGg7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG5cclxuLy8g7J6R6rCAIOyeke2SiCDsl4XroZzrk5xcclxuICAgICAgdGhpcy5jcmVhdGVQaG90byA9IGZ1bmN0aW9uKHVwbG9hZERhdGEpe1xyXG4gICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgIGlmKHVwbG9hZERhdGEgPT09IHVuZGVmaW5lZCB8fCB1cGxvYWREYXRhID09PSBudWxsIHx8IHVwbG9hZERhdGEgPT09ICcnKXtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+u5iOy5uOydhCDrqqjrkZAg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmKGFwcC5kYXRhMi5zZWxlY3RlZE9wdGlvbi5pZCA9PT0gJzAnKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+yDge2SiCDrtoTrpZjsnYQg7ISg7YOd7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC5tYWluSW1hZ2VQYXRoID09PSB1bmRlZmluZWQgfHwgYXBwLm1haW5JbWFnZVBhdGggPT09ICBudWxsIHx8IGFwcC5tYWluSW1hZ2VQYXRoID09PSAnJyl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsg4Htkogg7J2066+47KeA66W8IOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSBpZih1cGxvYWREYXRhLnRpdGxlID09PSB1bmRlZmluZWQgfHwgdXBsb2FkRGF0YS50aXRsZSA9PT0gIG51bGwgfHwgdXBsb2FkRGF0YS50aXRsZT09PSAnJyl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsg4Htkogg7KCc66qp66W8IOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAuZXhwbGFpbkltYWdlUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC5leHBsYWluSW1hZ2VQYXRoID09PSBudWxsIHx8IGFwcC5leHBsYWluSW1hZ2VQYXRoID09PSAnJykge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7IOB7ZKIIOyEpOuqhSDsnbTrr7jsp4Drpbwg7JeF66Gc65Oc7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC50aHVtYm5haWxQYXRoID09PSB1bmRlZmluZWQgfHwgYXBwLnRodW1ibmFpbFBhdGggPT09IG51bGwgfHwgYXBwLnRodW1ibmFpbFBhdGggPT09ICcnKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsjbjrhKTsnbwg7J2066+47KeA66W8IOyXheuhnOuTnO2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogdXBsb2FkRGF0YS50aXRsZSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IGFwcC5kYXRhMi5zZWxlY3RlZE9wdGlvbi5pZCxcclxuICAgICAgICAgICAgICAgIHRodW1ibmFpbDogYXBwLnRodW1ibmFpbFBhdGgsXHJcbiAgICAgICAgICAgICAgICBleHBsYWluOiBhcHAuZXhwbGFpbkltYWdlUGF0aCxcclxuICAgICAgICAgICAgICAgIGltYWdlOiBhcHAubWFpbkltYWdlUGF0aFxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgQWRtaW4uY3JlYXRlSXRlbShhcHAudXBsb2FkRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtZW51Q29udHJvbGxlcnMnLFsnbWVudVNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdtYWluTWVudUN0cmwnLCBmdW5jdGlvbiAoTWVudSwgJHN0YXRlKSB7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAubWFpbk1lbnVlcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdGhpcy5jcmVhdGVNZW51ID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIG1lbnVEYXRhID0ge1xyXG4gICAgICAgICAgbmFtZTogZGF0YS5uYW1lXHJcbiAgICAgIH07XHJcbiAgICAgIE1lbnUuY3JlYXRlTWVudShtZW51RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMudXBkYXRlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIHZhciB1cGRhdGVEYXRhID0ge1xyXG4gICAgICBjYXRlZ29yeV9pZDogZGF0YS5jYXRlZ29yeV9pZCxcclxuICAgICAgbmFtZTogZGF0YS5uYW1lXHJcbiAgICB9O1xyXG4gICAgICBNZW51LnVwZGF0ZU1lbnUodXBkYXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuZGVsZXRlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIHZhciBkZWxldGVEYXRhID0gZGF0YS5jYXRlZ29yeV9pZDtcclxuICAgIE1lbnUuZGVsZXRlTWVudShkZWxldGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3N1Yk1lbnVDdHJsJywgZnVuY3Rpb24gKE1lbnUsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCAkaHR0cCkge1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBjYXRlZ29yeV9pZCA9ICRzdGF0ZVBhcmFtcy5jYXRlZ29yeV9pZDtcclxuXHJcbiAgJGh0dHAuZ2V0KCcvYXBpL2NhdGVnb3J5LycrY2F0ZWdvcnlfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5zdWJNZW51RGF0YXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnb3JkZXJDb250cm9sbGVycycsW10pXHJcbi5jb250cm9sbGVyKCdyZWFkT3JkZXJDdHJsJywgZnVuY3Rpb24gKCRzdGF0ZVBhcmFtcywgJGh0dHAsICRzdGF0ZSwgJHdpbmRvdykge1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gICRodHRwLmdldCgnL2FwaS9tYWtlT3JkZXInKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAub3JkZXJEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHRoaXMuY29uZmlybU9yZGVyID0gZnVuY3Rpb24oKXtcclxuICAgICRzdGF0ZS5nbygnYXBwLmNvbmZpcm1PcmRlcicpO1xyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignYmFza2V0Q3RybCcsIGZ1bmN0aW9uICgkaHR0cCwgJHdpbmRvdykge1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICBhcHAuYW1vdW50ID0gMTtcclxuXHJcbiB0aGlzLnBsdXMgPSBmdW5jdGlvbigpe1xyXG4gICBhcHAuYW1vdW50Kys7XHJcbiB9O1xyXG5cclxuIHRoaXMubWludXMgPSBmdW5jdGlvbigpe1xyXG4gICBpZihhcHAuYW1vdW50IDw9IDApe1xyXG4gICAgICR3aW5kb3cuYWxlcnQoJ+yYrOuwlOuluCDsiJjrn4nsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgIGFwcC5hbW91bnQgPSAxO1xyXG4gICB9IGVsc2Uge1xyXG4gICAgIGFwcC5hbW91bnQtLTtcclxuICAgfVxyXG4gfTtcclxuXHJcblxyXG4gICRodHRwLmdldCgnL2FwaS9iYXNrZXQnKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIC8vIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIGFwcC5iYXNrZXREYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG5cclxuICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd0eXBlQ29udHJvbGxlcnMnLFsnb3JkZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignZ2V0VHlwZUl0ZW1zQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsICRodHRwKSB7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gIHZhciBjYXRlZ29yeV9pZCA9ICRzdGF0ZVBhcmFtcy5jYXRlZ29yeV9pZDtcclxuICBpZighJHN0YXRlUGFyYW1zLnR5cGVfY29kZSl7XHJcbiAgICAkaHR0cC5nZXQoJy9hcGkvaXRlbV90eXBlLycrY2F0ZWdvcnlfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuaXRlbXNEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHZhciB0eXBlX2NvZGUgPSAgJHN0YXRlUGFyYW1zLnR5cGVfY29kZTtcclxuICAgICRodHRwLmdldCgnL2FwaS9pdGVtX3R5cGUvJytjYXRlZ29yeV9pZCxcclxuICAgIHsgIHBhcmFtczoge3R5cGVfY29kZSA6IHR5cGVfY29kZSB9fVxyXG4gICkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5pdGVtc0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59KVxyXG5cclxuXHJcbi5jb250cm9sbGVyKCdnZXRUeXBlSXRlbUN0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlUGFyYW1zLCAkd2luZG93LCAkc3RhdGUsIE9yZGVyKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgaXRlbV9pZCA9ICRzdGF0ZVBhcmFtcy5pdGVtX2lkO1xyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICBhcHAuYW1vdW50ID0gMTtcclxuICB0aGlzLnBsdXMgPSBmdW5jdGlvbigpe1xyXG4gICAgYXBwLmFtb3VudCsrO1xyXG4gIH07XHJcblxyXG4gIHRoaXMubWludXMgPSBmdW5jdGlvbigpe1xyXG4gICAgaWYoYXBwLmFtb3VudCA8PSAwKXtcclxuICAgICAgJHdpbmRvdy5hbGVydCgn7Jis67CU66W4IOyImOufieydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgIGFwcC5hbW91bnQgPSAxO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmFtb3VudC0tO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMuY3JlYXRlQmFza2V0ID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICB2YXIgYmFza2V0RGF0YSA9IHtcclxuICAgICAgaXRlbV9pZDogZGF0YS5pdGVtX2lkLFxyXG4gICAgICBhbW91bnQ6IGRhdGEuYW1vdW50XHJcbiAgICB9O1xyXG5cclxuICAgIE9yZGVyLmNyZWF0ZUJhc2tldChiYXNrZXREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vICR3aW5kb3cuYWxlcnQoJ+yDge2SiOydhCDsnqXrsJTqtazri4jsl5Ag64u07JWY7Iq164uI64ukLicpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuY3JlYXRlT3JkZXIgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgIHZhciBvcmRlckRhdGEgPSB7XHJcbiAgICAgIGl0ZW1faWQ6IGl0ZW1faWQsXHJcbiAgICAgIGFtb3VudDogZGF0YS5hbW91bnQsXHJcbiAgICAgIGtpbmRPZjogZGF0YS5raW5kT2YubmFtZSxcclxuICAgICAgaXRlbV90eXBlX2lkOiBkYXRhLml0ZW1fdHlwZV9pZFxyXG4gICAgfTtcclxuXHJcbiAgICBPcmRlci5jcmVhdGVPcmRlcihvcmRlckRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwLm1ha2VPcmRlcicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgfTtcclxuXHJcbiAgQWRtaW4ucmVhZEl0ZW0oaXRlbV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0LmtpbmQuc3BsaXQoJywnKTtcclxuICAgICAgYXBwLml0ZW1EYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgIG5hbWU6IHR5cGVbaV0sXHJcbiAgICAgICAgICBpZDogaSsxXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuIl19
