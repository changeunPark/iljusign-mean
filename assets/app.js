angular.module("app",["ui.router","ui.bootstrap","menuControllers","userControllers","mainControllers","emailControllers","managementControllers","itemControllers","typeControllers","orderControllers","uiCropper","bannerController","galleryServices","bootstrapLightbox","boardController"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),a.hashPrefix(""),a.html5Mode(!0),e.state("app",{url:"/",views:{"bodyContent@":{templateUrl:"/main/home.html"}}}).state("app.registerStep1",{url:"register/step1",views:{"bodyContent@":{templateUrl:"/users/register/registerStep1.html",controller:"regCtrl",controllerAs:"register"}}}).state("app.registerStep2",{url:"register/step2",views:{"bodyContent@":{templateUrl:"/users/register/registerStep2.html",controller:"regCtrl",controllerAs:"register"}}}).state("app.registerStep3",{url:"register/step3",views:{"bodyContent@":{templateUrl:"/users/register/registerStep3.html",controller:"regCtrl",controllerAs:"register"}}}).state("app.login",{url:"login",views:{"bodyContent@":{templateUrl:"/users/login/login.html"}}}).state("app.board",{url:"board",views:{"bodyContent@":{templateUrl:"/categoryes/board/home.html"}}}).state("app.writeArticle",{url:"board/writeAtricle",views:{"bodyContent@":{templateUrl:"/categoryes/board/writeArticle.html",controller:"createBoardController",controllerAs:"createBoardCtrl"}}}).state("app.board.show",{url:"/:article_id",views:{"bodyContent@":{templateUrl:"/categoryes/board/articleContent.html",controller:"readBoardController",controllerAs:"readBoardCtrl"}}}).state("app.gallery",{url:"gallery",views:{"bodyContent@":{templateUrl:"/categoryes/gallery/home.html"}}}).state("app.user",{url:"user",views:{"bodyContent@":{templateUrl:"/users/partial/user.html"}}}).state("app.commerceDetail",{url:"commerce-detail",views:{"bodyContent@":{templateUrl:"/users/partial/commerceDetail.html"}}}).state("app.basket",{url:"basket",views:{"bodyContent@":{templateUrl:"/users/partial/basket.html",controller:"basketCtrl",controllerAs:"basket"}}}).state("app.category",{url:"category=:category_id",views:{"subMenu@app":{templateUrl:"/menues/subMenu.html",controller:"subMenuCtrl",controllerAs:"subMenu"},"bodyContent@":{templateUrl:"/categoryes/items/home.html",controller:"getTypeItemsCtrl",controllerAs:"getTypeItems"}}}).state("app.category.item_type",{url:"/item_type=:type_code",views:{"bodyContent@":{templateUrl:"/categoryes/items/home.html",controller:"getTypeItemsCtrl",controllerAs:"getTypeItems"}}}).state("app.category.item_type.show",{url:"/item:item_id",views:{"bodyContent@":{templateUrl:"/categoryes/items/item.html",controller:"getTypeItemCtrl",controllerAs:"getTypeItem"}}}).state("app.category.show",{url:"/item:item_id",views:{"bodyContent@":{templateUrl:"/categoryes/items/item.html",controller:"getTypeItemCtrl",controllerAs:"getTypeItem"}}}).state("app.makeOrder",{url:"makeOrder",views:{"bodyContent@":{templateUrl:"/order/makeOrder.html",controller:"readOrderCtrl",controllerAs:"readOrder"}}}).state("app.confirmOrder",{url:"confirmOrder",views:{"bodyContent@":{templateUrl:"/order/confirmOrder.html",controller:"readOrderCtrl",controllerAs:"readOrderCtrl"}}}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.intro",{url:"intro",views:{"bodyContent@":{templateUrl:"/directives/companyInformation/companyIntroduce.tpl.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"bodyContent@":{templateUrl:"/directives/companyInformation/terms.tpl.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"bodyContent@":{templateUrl:"/directives/companyInformation/privacy.tpl.html",authenticated:!1}}}).state("app.adminOrderStatus",{url:"adminOrderStatus",views:{"adminContent@":{templateUrl:"/management/partial/orderStatus.html"}}}).state("app.adminMembers",{url:"adminMembers",views:{"adminContent@":{templateUrl:"/management/partial/members.html"}}}).state("app.adminCategory",{url:"adminCategory",views:{"adminContent@":{templateUrl:"/management/partial/category.html",controller:"mainMenuCtrl",controllerAs:"mainMenu"}}}).state("app.adminTypeAndItems",{url:"adminTypeAndItems",views:{"adminContent@":{templateUrl:"/management/partial/typeAndItems.html"}}}).state("app.adminGallery",{url:"adminGallery",views:{"adminContent@":{templateUrl:"/management/partial/gallery.html",controller:"uploadgalleryCtrl",controllerAs:"uploadGallery"}}}).state("app.adminLaboratory",{url:"adminLaboratory",views:{"adminContent@":{templateUrl:"/directives/admin/adminLaboratory.tpl.html"}}}).state("app.management",{url:"management",views:{"adminContent@app":{templateUrl:"/management/home.html"},"menu@app.management":{templateUrl:"/management/menu.html"}}}).state("app.management.typeAndItems.update",{url:"/updateType:item_type",views:{"contents@app.management":{templateUrl:"/management/partial/update/type.html",controller:"updateTypeCtrl",controllerAs:"updateType"}}}).state("app.management.typeAndItems.updateItemType",{url:"/updateItem:item_id",views:{"contents@app.management":{templateUrl:"/management/partial/update/itemType.html",controller:"updateItemTypeCtrl",controllerAs:"updateItemType"}}}).state("app.management.typeAndItems.updateItem",{url:"/update/item:item_id",views:{"contents@app.management":{templateUrl:"/management/partial/update/item.html",controller:"updateItemCtrl",controllerAs:"updateItem"}}}).state("app.management.typeAndItems.readItem",{url:":item_id",views:{"contents@app.management":{templateUrl:"/management/partial/read/item.html",controller:"readItemCtrl",controllerAs:"readItem"}}})}]),app.run(["$rootScope","User","$state",function(e,t,a){e.$on("$stateChangeStart",function(e,t,a,r,n,i){}),e.$on("$stateChangeError",function(e,t,r,n,i,s){a.go("app")})}]),angular.module("app").directive("adminUsers",[function(){return{restrict:"E",controller:[function(){}],controllerAs:"NameCtrl",templateUrl:"/directives/adminUsers.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("banner",["$http",function(e){return{restrict:"E",controller:[function(){}],controllerAs:"bannerCtrl",templateUrl:"/directives/banner.tpl.html",link:function(t,a,r,n){var i=n;e.get("/api/banner").then(function(e){e.data.success?i.bannerData=e.data.bannerData:console.log("불러오지 못하였습니다.")})}}}]).controller("CarouselCtrl",["$scope",function(e){function t(e){for(var t=0,a=n.length;t<a;t++)n[t].id=e.pop()}function a(){for(var e=[],t=0;t<i;++t)e[t]=t;return r(e)}function r(e){var t,a,r=e.length;if(r)for(;--r;)a=Math.floor(Math.random()*(r+1)),t=e[a],e[a]=e[r],e[r]=t;return e}e.myInterval=2500,e.noWrapSlides=!1,e.active=0;var n=e.slides=[],i=0;e.addSlide=function(){n.length;n.push({image:["/images/items/banner/1.jpg","/images/items/banner/2.jpg","/images/items/banner/3.jpg"][n.length%3],id:i++})},e.randomize=function(){t(a())};for(var s=0;s<3;s++)e.addSlide()}]),angular.module("app").directive("board",["$http",function(e){return{restrict:"E",controller:[function(){}],controllerAs:"boardCtrl",templateUrl:"/directives/board.tpl.html",link:function(t,a,r,n){var i=n;e.get("/api/board").then(function(e){if(e.data.success){i.boardData=e.data.boardData;var t=moment(i.boardData[0].created,"YYYY-MM-DD");console.log(t.format("YYYY-MM-DD"))}})}}}]).controller("createBoardController",["$http","$state",function(e,t){this.doWrite=function(a){e.post("/api/board",a).then(function(e){e.data.success?t.go("app.board"):console.log(e.data.message)})}}]).controller("readBoardController",["$stateParams","$state","$http",function(e,t,a){var r=this,n=e.article_id;a.get("/api/board/"+n).then(function(e){r.articleData=e.data.articleData})}]),angular.module("app").directive("galleryContent",["gallery","Lightbox",function(e,t){return{restrict:"E",controller:[function(){}],controllerAs:"galleryCtrl",templateUrl:"/directives/gallery.tpl.html",link:function(a,r,n,i){var s=i;e.getContent().then(function(e){e.data.success?s.galleryData=e.data.galleryData:s.errorMsg=e.data.message}),s.openLightboxModal=function(e){t.openModal(s.galleryData,e)}}}}]).controller("uploadgalleryCtrl",["$scope","$timeout","$http","$window","$state",function(e,t,a,r,n){var i=this;this.file={},this.readImage=function(a){if(e.$emit("LOAD"),a.length>0&&a[0].name.match(/\.(png|jpeg|jpg)$/)){var r=a[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(a){t(function(){e.$emit("UNLOAD"),i.explainThumbnail={},i.explainThumbnail.dataUrl=a.target.result})}}else e.$emit("UNLOAD"),i.explainThumbnail={}},this.uploadImage=function(t){e.$emit("LOAD"),i.explainPhoto=!1,i.disabled=!0;var n=new FormData;n.title=t,n.append("myfile",i.file.upload),a.patch("/api/gallery/",n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(i.imagePath=t.data.image_path,e.$emit("UNLOAD"),r.alert(t.data.message),i.explainPhoto=!0,i.disabled=!1):(e.$emit("UNLOAD"),r.alert(t.data.message),i.disabled=!1,i.file={})})},this.uploadGallery=function(e){galleryData={thumbUrl:i.imagePath,url:i.imagePath,caption:e},a.post("/api/gallery",galleryData).then(function(e){e.data.success?n.reload():i.errorMsg=e.data.message})}}]),angular.module("app").directive("menuItem",["Menu",function(e){return{restrict:"E",controller:[function(){}],controllerAs:"menuItemCtrl",templateUrl:"/directives/menuItem.tpl.html",link:function(t,a,r,n){var i=n;e.readMainMenu().then(function(e){e.data.success?i.mainMenues=e.data.result:i.errorMsg=e.data.message})}}}]),angular.module("adminServices",[]).factory("Admin",["$http",function(e){return adminFactory={},adminFactory.deleteItem=function(t){return e.delete("/api/item/"+t)},adminFactory.readAristCrop=function(t){return e.post("/api/createCropImage",t)},adminFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},adminFactory.createItem=function(t){return e.post("/api/item",t)},adminFactory.readItems=function(){return e.get("/api/item")},adminFactory.readItem=function(t){return e.get("/api/item/"+t)},adminFactory.updateItemType=function(t){return e.put("/api/itemType",t)},adminFactory.readUpdateItemType=function(t){return e.get("/api/itemType/"+t)},adminFactory.readItemType=function(){return e.get("/api/itemType")},adminFactory.deleteType=function(t){return e.delete("/api/type/"+t)},adminFactory.readUpdateType=function(t){return e.get("/api/type/"+t)},adminFactory.updateUpdateType=function(t){return e.put("/api/type",t)},adminFactory.createType=function(t){return e.post("/api/type",t)},adminFactory.readType=function(){return e.get("/api/type")},adminFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("galleryServices",[]).factory("gallery",["$http",function(e){return galleryFactory={},galleryFactory.getContent=function(){return e.get("/api/gallery")},galleryFactory}]),angular.module("menuServices",[]).factory("Menu",["$http",function(e){return menuFactory={},menuFactory.deleteMenu=function(t){return e.delete("/api/menu/"+t)},menuFactory.updateMenu=function(t){return e.put("/api/menu/",t)},menuFactory.createMenu=function(t){return e.post("/api/menu",t)},menuFactory.readMainMenu=function(){return e.get("/api/menu")},menuFactory.readSubMenu=function(t){return e.get("/api/menu/"+t)},menuFactory}]),angular.module("orderServices",[]).factory("Order",["$http",function(e){return orderFactory={},orderFactory.updateDelivery=function(t){return e.put("/api/delivery/"+t.user_id,t)},orderFactory.createDelivery=function(t){return e.post("/api/delivery",t)},orderFactory.deleteBasket=function(t){return e.delete("/api/basket/"+t)},orderFactory.readBasket=function(){return e.get("/api/basket")},orderFactory.createBasket=function(t){return e.post("/api/basket",t)},orderFactory.deleteOrder=function(t){return e.delete("/api/makeOrder/"+t)},orderFactory.readOrder=function(t){return e.get("/api/makeOrder/"+t)},orderFactory.readOrderAndDeli=function(){return e.get("/api/makeOrder")},orderFactory.createOrder=function(t){return e.post("/api/makeOrder",t)},orderFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.getPermission=function(){return e.get("/api/permission")},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory}]),angular.module("bannerController",[]).controller("uploadBannerCtrl",["$scope","$timeout","$http","$window","$state",function(e,t,a,r,n){var i=this;this.file={},this.readImage=function(a){if(e.$emit("LOAD"),a.length>0&&a[0].name.match(/\.(png|jpeg|jpg)$/)){var r=a[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(a){t(function(){e.$emit("UNLOAD"),i.explainThumbnail={},i.explainThumbnail.dataUrl=a.target.result})}}else e.$emit("UNLOAD"),i.explainThumbnail={}},this.uploadBanner=function(){e.$emit("LOAD"),i.explainPhoto=!1,i.disabled=!0;var t=new FormData;t.append("myfile",i.file.upload),a.post("/api/banner/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(e.$emit("UNLOAD"),r.alert(t.data.message),n.reload(),i.explainPhoto=!0,i.disabled=!1):(e.$emit("UNLOAD"),r.alert(t.data.message),i.disabled=!1,i.file={})})}}]).controller("getBannerCtrl",["$http",function(e){var t=this;e.get("/api/banner").then(function(e){e.data.success?t.bannerData=e.data.bannerData:console.log("불러오지 못하였습니다.")})}]),angular.module("itemControllers",["orderServices"]).filter("sumByKey",function(){return function(e,t){var a=e instanceof Array?e.length:0;if(void 0===t||0===a)return a;for(var r=0;a--;)r+=e[a][t[0]]*e[a][t[1]];return r}}).controller("getTypeItemsCtrl",["$stateParams","$http",function(e,t){var a=this,r=e.category_id;if(e.type_code){var n=e.type_code;t.get("/api/item_type/"+r,{params:{type_code:n}}).then(function(e){e.data.success?0===e.data.result.length?a.errorMsg="등록된 상품이 없습니다.":a.itemsData=e.data.result:a.errorMsg=e.data.message})}else t.get("/api/item_type/"+r).then(function(e){e.data.success?0===e.data.result.length?a.errorMsg="등록된 상품이 없습니다.":a.itemsData=e.data.result:a.errorMsg=e.data.message})}]).controller("getTypeItemCtrl",["Admin","$stateParams","$window","$state","Order",function(e,t,a,r,n){var s=this,o=t.item_id;s.optionItem=!1,s.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},s.amount=1,s.optionList=[],this.addItem=function(e){0===e.id?a.alert("옵션을 선택해주세요."):(s.optionItem=!0,s.optionList.push({kind:e.name,price:e.id,amount:1}))},this.createBasket=function(e){var t={item_id:e.item_id};n.createBasket(t).then(function(e){e.data.success,a.alert(e.data.message)})},this.createOrder=function(e){var t={item_id:e.item_id,amount:e.amount,kind_of:e.kind_of,price:e.price};n.createOrder(t).then(function(e){e.data.success?(s.successMsg=e.data.message,r.go("app.makeOrder")):s.errorMsg=e.data})},e.readItem(o).then(function(e){if(e.data.success){var t=e.data.result.kind.split(","),a=e.data.result.price.split(","),r=[];for(i=0;i<a.length;i++)r[i]=Number(a[i]);for(s.itemData=e.data.result,i=0;i<r.length;i++)s.data.availableOptions[i+1]={name:t[i],id:r[i]}}else s.errorMsg=e.data.message})}]),angular.module("managementControllers",["adminServices","menuServices","orderServices"]).controller("readItemsCtrl",["Admin","$state",function(e,t){var a=this;e.readItems().then(function(e){a.errorMsg=!1,e.data.success?a.itemsData=e.data.result:a.errorMsg=e.data.message}),this.deleteItem=function(r){a.errorMsg=!1;var n=r.item_id;e.deleteItem(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}}]).controller("readItemCtrl",["Admin","$stateParams","$scope","Order","$window",function(e,t,a,r,n){var s=this,o=t.item_id;s.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},s.amount=1,e.readItem(o).then(function(e){if(e.data.success){var t=e.data.result.kind.split(","),a=e.data.result.price.split(","),r=[];for(i=0;i<a.length;i++)r[i]=Number(a[i]);for(s.itemData=e.data.result,s.data.selectedOption={id:r[0]},i=0;i<r.length;i++)s.data.availableOptions[i+1]={name:t[i],id:r[i]}}else s.errorMsg=e.data.message})}]).controller("updateItemCtrl",["Admin","$stateParams","$scope","$http","$timeout","$state","$window","Menu",function(e,t,a,r,n,s,o,d){function l(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var c=this,u=t.item_id;c.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},c.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},d.readMainMenu().then(function(e){if(c.errorMsg=!1,e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)c.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else c.errorMsg=e.data.message}),this.readMenu=function(e){if(c.errorMsg=!1,c.readMenuStatus=!1,0===e.id)o.alert("카테고리를 선택해주세요.");else{var t=e.id;r.get("/api/menu/"+t).then(function(e){if(e.data.success)if(0===e.data.result.length)c.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},o.alert("등록된 상품이 없습니다.");else{c.readMenuStatus=!0,c.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}};var t=e.data.result;for(i=0;i<t.length;i++)c.data2.availableOptions[i+1]={name:t[i].type_description,id:t[i].item_type_id}}else c.errorMsg=e.data.message})}},e.readItem(u).then(function(e){console.log(e),e.data.success?(c.itemData=e.data.result,c.data.selectedOption={id:c.itemData.category_id}):c.errorMsg=e.data.message}),this.updateItem=function(e){if(c.errorMsg=!1,c.readMenuStatus)if(0===e.item_type||"0"===e.item_type)o.alert("상품 분류를 선택해주세요.!");else{var t={type:e.item_type,item_name:e.item_name};r.put("/api/item/"+u,t).then(function(e){e.data.success?(c.successMsg=e.data.message,s.reload()):c.errorMsg=e.data.message})}else updateData2={type:c.itemData.item_type_id,item_name:e.item_name},r.put("/api/item/"+u,updateData2).then(function(e){e.data.success?(c.successMsg=e.data.message,s.reload()):c.errorMsg=e.data.message})},this.file={},this.mainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){n(function(){a.$emit("UNLOAD"),c.mainThumbnail={},c.mainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),c.mainThumbnail={}},this.readPhoto=function(){a.$emit("LOAD"),c.mainPhoto=!1,c.disabled=!0;var e=new FormData;e.append("myfile",c.file.upload),r.post("/api/createPhotoImage/",e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){if(e.data.success){a.$emit("UNLOAD"),o.alert(e.data.message),c.mainPhoto=!0,c.disabled=!1;var t={image:e.data.item_path};r.put("/api/item/"+u,t).then(function(e){e.data.success,console.log(e.data.message)}),c.file={}}else a.$emit("UNLOAD"),o.alert(e.data.message),c.disabled=!1,c.file={}})},this.explainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){n(function(){a.$emit("UNLOAD"),c.explainThumbnail={},c.explainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),c.explainThumbnail={}},this.readPhotoExplain=function(){a.$emit("LOAD"),c.explainPhoto=!1,c.disabled=!0;var e=new FormData;e.append("myfile",c.file.upload),r.post("/api/createPhotoExplain/",e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){if(e.data.success){a.$emit("UNLOAD"),o.alert(e.data.message),c.explainPhoto=!0,c.disabled=!1;var t={explain:e.data.item_path};r.put("/api/item/"+u,t).then(function(e){e.data.success,console.log(e.data.message)}),c.file={}}else a.$emit("UNLOAD"),o.alert(e.data.message),c.disabled=!1,c.file={}})},c.myImage="",c.myCroppedImage="";var m=function(e){a.$emit("LOAD");var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){t.$emit("UNLOAD"),c.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",m),this.readCropImage=function(t){if(a.$emit("LOAD"),c.thumbnail=!1,c.disabled=!0,""===t.base64Url||null===t.base64Url||void 0===t.base64Url)c.disabled=!1;else{a.$emit("UNLOAD");var n=l(a.myCroppedImage);e.readAristCrop(n).then(function(e){if(e.data.success){a.$emit("UNLOAD"),o.alert(e.data.message),c.thumbnail=!0,c.disabled=!1;var t={thumbnail:e.data.filePath};r.put("/api/item/"+u,t).then(function(e){e.data.success,console.log(e.data.message)})}else a.$emit("UNLOAD"),c.disabled=!1})}}}]).controller("createItemCtrl",["$http","$timeout","$scope","Admin","$state","$window","Menu",function(e,t,a,r,n,s,o){function d(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var l=this;l.kindList=[],l.type_tiny=[],l.type_price=[],this.addLine=function(e){e?null===e.kindValue||void 0===e.kindValue||""===e.kindValue?s.alert("옵션명을 입력해주세요."):null===e.kindPrice||void 0===e.kindPrice||""===e.kindPrice?s.alert("옵션 가격을 입력해주세요."):(l.kindList.push({kind:e.kindValue,price:e.kindPrice}),l.type_tiny.push(e.kindValue),l.type_price.push(e.kindPrice)):s.alert("정확한 값을 입력해주세요.")},l.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},l.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},o.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)l.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else l.errorMsg=e.data.message}),this.readMenu=function(t){if(0===t.id)s.alert("카테고리를 선택해주세요.");else{var a=t.id;e.get("/api/menu/"+a).then(function(e){if(e.data.success)if(0===e.data.result.length)l.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},s.alert("등록된 상품이 없습니다.");else{l.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}};var t=e.data.result;for(i=0;i<t.length;i++)l.data2.availableOptions[i+1]={name:t[i].type_description,id:t[i].item_type_id}}})}},this.file={},this.mainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var r=e[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t(function(){a.$emit("UNLOAD"),l.mainThumbnail={},l.mainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),l.mainThumbnail={}},this.readPhoto=function(){a.$emit("LOAD"),l.mainPhoto=!1,l.disabled=!0;var t=new FormData;t.append("myfile",l.file.upload),e.post("/api/createPhotoImage/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),l.mainPhoto=!0,l.disabled=!1,l.mainImagePath=e.data.item_path,l.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),l.disabled=!1,l.file={})})},this.explainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var r=e[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t(function(){a.$emit("UNLOAD"),l.explainThumbnail={},l.explainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),l.explainThumbnail={}},this.readPhotoExplain=function(){a.$emit("LOAD"),l.explainPhoto=!1,l.disabled=!0;var t=new FormData;t.append("myfile",l.file.upload),e.post("/api/createPhotoExplain/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),l.explainPhoto=!0,l.disabled=!1,l.explainImagePath=e.data.item_path,l.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),l.disabled=!1,l.file={})})},l.myImage="",l.myCroppedImage="";var c=function(e){a.$emit("LOAD");var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){t.$emit("UNLOAD"),l.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",c),this.readCropImage=function(e){if(a.$emit("LOAD"),l.thumbnail=!1,l.disabled=!0,""===e.base64Url||null===e.base64Url||void 0===e.base64Url)l.disabled=!1;else{a.$emit("UNLOAD");var t=d(a.myCroppedImage);r.readAristCrop(t).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),l.thumbnail=!0,l.disabled=!1,l.thumbnailPath=e.data.filePath):(a.$emit("UNLOAD"),l.disabled=!1)})}},this.createPhoto=function(e){a.$emit("LOAD"),void 0===e||null===e||""===e?(s.alert("빈칸을 모두 입력해주세요."),l.disabled=!1,a.$emit("UNLOAD")):"0"===l.data2.selectedOption.id?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("상품 분류을 선택해주세요.")):void 0===e.title||null===e.title||""===e.title?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("상품 제목를 입력해주세요.")):(l.uploadData={title:e.title,type:l.data2.selectedOption.id,kind:l.type_tiny.toString(),price:l.type_price.toString()},r.createItem(l.uploadData).then(function(e){e.data.success?(a.$emit("UNLOAD"),l.disabled=!0,s.alert(e.data.message),n.reload()):(a.$emit("UNLOAD"),l.disabled=!1,s.alert(e.data.message))}))}}]),angular.module("menuControllers",["menuServices"]).controller("mainMenuCtrl",["Menu","$state",function(e,t){var a=this;this.createMenu=function(r){if(a.errorMsg=!1,void 0===r)a.errorMsg="올바른 정보를 입력해주세요.";else{var n={name:r.name};e.createMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}},this.update=function(r){a.errorMsg=!1;var n={category_id:r.category_id,name:r.name};e.updateMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})},this.delete=function(r){a.errorMsg=!1;var n=r.category_id;e.deleteMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}}]).controller("subMenuCtrl",["Menu","$state","$stateParams","$http",function(e,t,a,r){var n=this,i=a.category_id;r.get("/api/category/"+i).then(function(e){e.data.success&&(n.subMenuDatas=e.data.result)})}]),angular.module("typeControllers",["adminServices","menuServices","orderServices"]).controller("updateItemTypeCtrl",["$stateParams","Menu","Admin","$state",function(e,t,a,r){var n=this,s=e.item_id;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readUpdateItemType(s).then(function(e){if(n.errorMsg=!1,e.data.success){t.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),n.updataData=e.data.result,n.data.selectedOption={id:n.updataData.category_id};var a={kind:n.updataData.kind.split(","),price:n.updataData.price.split(",")};for(n.optionDatas=[],i=0;i<a.kind.length;i++)n.optionDatas[i]={kind:a.kind[i],price:a.price[i]}}else n.errorMsg=e.data.message}),this.updateType=function(e){n.updateData=e,n.updateData.category_id=n.data.selectedOption.id,a.updateUpdateType(n.updateData).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,r.reload()):n.errorMsg=e.data.message})},this.updateitemType=function(e){var t=[],s=[];for(i=0;i<n.optionDatas.length;i++)t.push(n.optionDatas[i].kind),s.push(n.optionDatas[i].price);var o={item_id:e.item_id,item_name:e.item_name,price:s.toString(),kind:t.toString()};a.updateItemType(o).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,r.reload()):n.errorMsg=e.data.message})}}]).controller("readItemTypeCtrl",["Admin","$state","$window","Menu",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.copyItemType=function(a){var r={type:a.item_type_id,title:a.item_name,kind:a.kind.toString(),price:a.price.toString()};e.createItem(r).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},this.deleteType=function(a){n.errorMsg=!1;var r=a.item_id;e.deleteItem(r).then(function(e){e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},e.readItemType().then(function(e){if(e.data.success){r.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(a=0;a<t.length;a++)n.data.availableOptions[a+1]={name:t[a].name,id:t[a].category_id}}else n.errorMsg=e.data.message}),n.typeDatas=e.data.result;for(var t=[],a=0;a<e.data.result.length;a++)t[a]={kind:n.typeDatas[a].kind.split(","),price:n.typeDatas[a].price.split(",")},n.typeDatas[a].kind=t[a].kind,n.typeDatas[a].price=t[a].price}else n.errorMsg=e.data.message})}]).controller("updateTypeCtrl",["$stateParams","Menu","Admin","$state",function(e,t,a,r){var n=this,s=e.item_type;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readUpdateType(s).then(function(e){n.errorMsg=!1,e.data.success?(t.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),n.updataData=e.data.result,n.data.selectedOption={id:n.updataData.category_id}):n.errorMsg=e.data.message}),this.updateType=function(e){n.updateData=e,n.updateData.category_id=n.data.selectedOption.id,a.updateUpdateType(n.updateData).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,r.reload()):n.errorMsg=e.data.message})}}]).controller("readTypeCtrl",["Admin","$state","$window","Menu",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.copyType=function(a){var r={category:a.category_id,type_description:a.type_description,type_code:a.type_code};e.createType(r).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},this.deleteType=function(a){n.errorMsg=!1;var r=a.item_type;e.deleteType(r).then(function(e){e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},
e.readType().then(function(e){e.data.success?(r.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),n.typeDatas=e.data.result):n.errorMsg=e.data.message})}]).controller("createTypeCtrl",["Admin","$state","Menu","$window",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),this.createType=function(a){n.errorMsg=!1,n.typeData={category:n.data.selectedOption.id,type_description:a.type_description,type_code:a.type_code},e.createType(n.typeData).then(function(e){e.data.success?(n.success=e.data.message,t.reload()):n.errorMsg=e.data.message})},n.kindList=[],n.type_tiny=[],n.type_price=[],this.addLine=function(e){e?null===e.kindValue||void 0===e.kindValue||""===e.kindValue?r.alert("옵션명을 입력해주세요."):null===e.kindPrice||void 0===e.kindPrice||""===e.kindPrice?r.alert("옵션 가격을 입력해주세요."):(n.kindList.push({kind:e.kindValue,price:e.kindPrice}),n.type_tiny.push(e.kindValue),n.type_price.push(e.kindPrice)):r.alert("정확한 값을 입력해주세요.")}}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,n,i,s,o,d,l){var c=this;c.loadme=!1,i.$on("LOAD",function(){i.loading=!0}),i.$on("UNLOAD",function(){i.loading=!1}),n.$on("$stateChangeStart",function(){u?e.isLoggedIn()?(c.isLoggedIn=!0,c.loadme=!0,e.getUser().then(function(e){c.user=e.data,c.loadme=!0,d.getPermission().then(function(e){e.data.success?"admin"===e.data.permission?(c.authorized=!0,c.permission=!0,c.loadme=!0):"artist"===e.data.permission?(c.permission=!0,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0)})})):(c.user=!1,c.isLoggedIn=!1,c.loadme=!0):u()});var u=function(){if(e.isLoggedIn()){c.checkSession=!0;var t=o(function(){var e=s.localStorage.getItem("token");if(null===e)o.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(s.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(m("expired"),o.cancel(t))}},2e3)}};u(),c.renewSession=function(){c.choiceMade=!0,d.renewSession(c.user.username).then(function(e){e.data.success?(l.setToken(e.data.token),u(),p("expired")):(c.ModalBody=e.data.message,p("expired"))})},c.endSession=function(){c.choiceMade=!0,p("expired"),t(function(){m("logout")},500)};var m=function(a){c.choiceMade=!1,c.modalHeader=void 0,c.modalBody=void 0,c.hideButton=!1,"expired"===a?(c.modalHeader="Timeout Warning",c.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(c.hideButton=!0,c.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),c.isLoggedIn=!1,c.authorized=!1,c.permission=!1,c.disabled=!1,c.successMsg=!1,p("logout"),r.reload()},1e3)):"login"===a&&$("#login").modal({backdrop:"static"}),t(function(){c.choiceMade||p("logout")},2e3)},p=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e&&$("#login").modal("hide")};this.doLogin=function(a,n){c.errorMsg=!1,c.expired=!1,c.disabled=!0,n?e.login(c.loginData).then(function(e){e.data.success?(c.successMsg=e.data.message,t(function(){c.loginData=null,c.isLoggedIn=!0,u(),r.go("app")},1e3)):e.data.expired?(c.expired=!0,c.disabled=!0,c.errorMsg=e.data.message):(c.disabled=!1,c.errorMsg=e.data.message)}):(c.disabled=!1,c.loading=!1,c.errorMsg="올바른 정보를 입력해주세요.")},c.logout=function(){m("logout")},c.resend=function(){p("login"),t(function(){r.go("resend"),c.expired=!1},500)},c.resetusername=function(){p("login"),t(function(){r.go("resetusername")},500)},c.resetpassword=function(){p("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("orderControllers",["orderServices"]).controller("readOrderCtrl",["$stateParams","$state","$window","Order","$scope",function(e,t,a,r,n){var s=this,o=n.main.user.user_id;s.getItemFail=!1,s.cashReceipt=!0,s.cashReceipt?s.getCashReceipt=!0:s.getCashReceipt=!1,this.readAddress=function(){daum.postcode.load(function(){s.addressDetail="",new daum.Postcode({oncomplete:function(e){s.deliData={sigungu_code:e.sigunguCode,jibun_address:e.jibunAddress,road_address:e.roadAddress}}}).open()})},r.readOrderAndDeli().then(function(e){if(s.errorMsg=!1,e.data.success)if(0===e.data.result.length)s.delivery=!1,r.readOrder(o).then(function(e){var t=[];for(s.allItemPrice=0,s.orderData=e.data.result,i=0;i<s.orderData.length;i++)t[i]=s.orderData[i].price*s.orderData[i].amount;for(i=0;i<t.length;i++)s.allItemPrice=s.allItemPrice+t[i]});else{var t=[];for(s.delivery=!0,s.allItemPrice=0,s.orderData=e.data.result,i=0;i<s.orderData.length;i++)t[i]=s.orderData[i].price*s.orderData[i].amount;for(i=0;i<t.length;i++)s.allItemPrice=s.allItemPrice+t[i]}else s.errorMsg=e.data.message}),this.confirmOrder=function(e){var t="";s.delivery?void 0===e.daliData?console.log("변경사항 없음"):(t=e.daliData,r.updateDelivery(t).then(function(e){})):(t=e.daliData,e.receiptData,r.createDelivery(t).then(function(e){}))},this.delete=function(e){s.errorMsg=!1;var a=e.item_id;r.deleteOrder(a).then(function(e){e.data.success?(s.successMsg=e.data.message,t.reload()):s.errorMsg=e.data.message})}}]).controller("basketCtrl",["Order","$window","$state",function(e,t,a){var r=this;r.amount=1,r.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},this.delete=function(t){r.errorMsg=!1;var n=t.basket_id;e.deleteBasket(n).then(function(e){e.data.success?(r.successMsg=e.data.message,a.reload()):r.errorMsg=e.data.message})},this.makeBasket=function(){},e.readBasket().then(function(e){if(r.errorMsg=!1,e.data.success){r.basketData=e.data.result;var t,a=[],n=[];for(t=0;t<r.basketData.length;t++)a[t]=r.basketData[t].kind.split(","),n[t]=r.basketData[t].price.split(",");for(t=0;t<a.length;t++)for(r.data[t]={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},j=0;j<a[t].length;j++)r.data[t].availableOptions[j+1]={name:a[t][j],id:Number(n[t][j])}}else r.errorMsg=e.data.message})}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var n=this;t.activeAccount(e.token).then(function(e){n.successMsg=!1,n.errorMsg=!1,e.data.success?(n.disabled=!0,n.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(n.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(n,i){r.errorMsg=!1,r.disabled=!0,i?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(n,i){r.errorMsg=!1,r.disabled=!0,i?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,n){var i=this;i.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(i.hide=!1,t.alert="alert alert-success",i.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",i.errorMsg=e.data.message)}),i.savePassword=function(e,s,o){i.errorMsg=!1,i.successMsg=!1,i.disabled=!0,i.loading=!0,s&&o?(i.regData.username=t.username,a.savePassword(i.regData).then(function(e){i.loading=!1,e.data.success?(t.alert="alert alert-success",i.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){n.go("app")},2e3)):(t.alert="alert alert-danger",i.disabled=!1,i.errorMsg=e.data.message)})):(t.alert="alert alert-danger",i.loading=!1,i.disabled=!1,i.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,n,i){var s=this;this.regStep1=function(e){s.errorMsg=!1,e?e.terms&&e.privacy?(s.successMsg="약관에 성공적으로 동의하셨습니다.",s.disabled=!0,i.go("app.registerStep2")):(s.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",s.disabled=!1):s.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,a){s.errorMsg=!1,s.disabled=!0,i.go("app.registerStep3")},this.regStep3=function(e,t,o){s.errorMsg=!1,s.disabled=!0,t&&o?r.create(s.regData).then(function(e){e.data.success?(s.disabled=!0,s.successMsg=e.data.message,n.login(s.regData).then(function(e){e.data.success?(s.disabled=!0,s.successMsg=e.data.message,a(function(){i.go("app")},1e3)):e.data.expired?(s.expired=!0,s.disabled=!0,s.errorMsg=e.data.message):(s.disabled=!1,s.errorMsg=e.data.message)})):(s.disabled=!1,s.errorMsg=e.data.message)}):(s.disabled=!1,s.loading=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("app").directive("adminHeader",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/admin/adminHeader.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("adminLaboratory",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/admin/adminLaboratory.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var n=e(r.fileModel),i=n.assign;a.bind("change",function(){t.$apply(function(){i(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("app").directive("companyIntroduce",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/main/companyIntroduce.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("companyPrivacyInformation",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/companyInformation/companyPrivacyInformation.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("privacy",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/main/privacy.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("terms",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/main/terms.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("userQuickMenu",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/companyInformation/userQuickMenu.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("content",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/main/content.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("footer",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/main/footer.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("header",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/main/header.tpl.html",link:function(e,t,a,r){}}}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,n,i,s,o,d,l){var c=this;!function(){var e,t="N/A",a=navigator.userAgent.toLowerCase();"Microsoft Internet Explorer"==navigator.appName?e="msie ":a.search("trident")>-1?e="trident/.*rv:":a.search("edge/")>-1&&(e="edge/"),null!=new RegExp(e+"([0-9]{1,})(\\.{0,}[0-9]{0,1})").exec(a)&&(t=RegExp.$1+RegExp.$2),t<10&&confirm("인터넷 익스플로러 9 버전 이상 또는 크롬 브라우저에 최적화되어 있습니다. \n다운로드후 사용하시겠습니까?")&&(location.href="https://www.google.co.kr/chrome/browser/desktop/index.html")}(),c.loadme=!1,i.$on("LOAD",function(){i.loading=!0}),i.$on("UNLOAD",function(){i.loading=!1}),n.$on("$stateChangeStart",function(){u?e.isLoggedIn()?(c.isLoggedIn=!0,c.loadme=!0,e.getUser().then(function(e){c.user=e.data,c.loadme=!0,d.getPermission().then(function(e){e.data.success?"admin"===e.data.permission?(c.authorized=!0,c.loadme=!0):"artist"===e.data.permission?(c.permission=!0,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0)})})):(c.user=!1,c.isLoggedIn=!1,c.loadme=!0):u()});var u=function(){if(e.isLoggedIn()){c.checkSession=!0;var t=o(function(){var e=s.localStorage.getItem("token");if(null===e)o.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(s.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(m("expired"),o.cancel(t))}},2e3)}};u(),c.renewSession=function(){c.choiceMade=!0,d.renewSession(c.user.username).then(function(e){e.data.success?(l.setToken(e.data.token),u(),p("expired")):(c.ModalBody=e.data.message,p("expired"))})},c.endSession=function(){c.choiceMade=!0,p("expired"),t(function(){m("logout")},500)};var m=function(a){c.choiceMade=!1,c.modalHeader=void 0,c.modalBody=void 0,c.hideButton=!1,"expired"===a?(c.modalHeader="Timeout Warning",c.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(c.hideButton=!0,c.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),c.isLoggedIn=!1,c.authorized=!1,c.permission=!1,c.disabled=!1,c.successMsg=!1,p("logout"),r.reload()},1e3)):"login"===a&&$("#login").modal({backdrop:"static"}),t(function(){c.choiceMade||p("logout")},2e3)},p=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e&&$("#login").modal("hide")};this.doLogin=function(a,n){c.errorMsg=!1,c.expired=!1,c.disabled=!0,n?e.login(c.loginData).then(function(e){e.data.success?(c.successMsg=e.data.message,t(function(){c.loginData=null,c.isLoggedIn=!0,u(),r.go("app")},1e3)):e.data.expired?(c.expired=!0,c.disabled=!0,c.errorMsg=e.data.message):(c.disabled=!1,c.errorMsg=e.data.message)}):(c.disabled=!1,c.loading=!1,c.errorMsg="올바른 정보를 입력해주세요.")},c.logout=function(){m("logout")},c.resend=function(){p("login"),t(function(){r.go("resend"),c.expired=!1},500)},c.resetusername=function(){p("login"),t(function(){r.go("resetusername")},500)},c.resetpassword=function(){p("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("orderControllers",["orderServices"]).controller("readOrderCtrl",["$stateParams","$state","$window","Order","$scope",function(e,t,a,r,n){var s=this,o=n.main.user.user_id;s.getItemFail=!1,s.cashReceipt=!0,s.cashReceipt?s.getCashReceipt=!0:s.getCashReceipt=!1,this.readAddress=function(){daum.postcode.load(function(){s.addressDetail="",new daum.Postcode({oncomplete:function(e){s.deliData={sigungu_code:e.sigunguCode,jibun_address:e.jibunAddress,road_address:e.roadAddress}}}).open()})},r.readOrderAndDeli().then(function(e){if(s.errorMsg=!1,e.data.success)if(0===e.data.result.length)s.delivery=!1,r.readOrder(o).then(function(e){var t=[];for(s.allItemPrice=0,s.orderData=e.data.result,i=0;i<s.orderData.length;i++)t[i]=s.orderData[i].price*s.orderData[i].amount;for(i=0;i<t.length;i++)s.allItemPrice=s.allItemPrice+t[i]});else{var t=[];for(s.delivery=!0,s.allItemPrice=0,s.orderData=e.data.result,i=0;i<s.orderData.length;i++)t[i]=s.orderData[i].price*s.orderData[i].amount;for(i=0;i<t.length;i++)s.allItemPrice=s.allItemPrice+t[i]}else s.errorMsg=e.data.message}),this.confirmOrder=function(e){var t="";s.delivery?void 0===e.daliData?console.log("변경사항 없음"):(t=e.daliData,r.updateDelivery(t).then(function(e){})):(t=e.daliData,e.receiptData,r.createDelivery(t).then(function(e){}))},this.delete=function(e){s.errorMsg=!1;var a=e.item_id;r.deleteOrder(a).then(function(e){e.data.success?(s.successMsg=e.data.message,t.reload()):s.errorMsg=e.data.message})}}]).controller("basketCtrl",["Order","$window","$state",function(e,t,a){var r=this;r.amount=1,r.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},this.delete=function(t){r.errorMsg=!1;var n=t.basket_id;e.deleteBasket(n).then(function(e){e.data.success?(r.successMsg=e.data.message,a.reload()):r.errorMsg=e.data.message})},this.makeBasket=function(){},e.readBasket().then(function(e){if(r.errorMsg=!1,e.data.success){r.basketData=e.data.result;var t,a=[],n=[];for(t=0;t<r.basketData.length;t++)a[t]=r.basketData[t].kind.split(","),n[t]=r.basketData[t].price.split(",");for(t=0;t<a.length;t++)for(r.data[t]={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},j=0;j<a[t].length;j++)r.data[t].availableOptions[j+1]={name:a[t][j],id:Number(n[t][j])}}else r.errorMsg=e.data.message})}]),angular.module("bannerController",[]).controller("uploadBannerCtrl",["$scope","$timeout","$http","$window","$state",function(e,t,a,r,n){var i=this;this.file={},this.readImage=function(a){if(e.$emit("LOAD"),a.length>0&&a[0].name.match(/\.(png|jpeg|jpg)$/)){var r=a[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(a){t(function(){e.$emit("UNLOAD"),i.explainThumbnail={},i.explainThumbnail.dataUrl=a.target.result})}}else e.$emit("UNLOAD"),i.explainThumbnail={}},this.uploadBanner=function(){e.$emit("LOAD"),i.explainPhoto=!1,i.disabled=!0;var t=new FormData;t.append("myfile",i.file.upload),a.post("/api/banner/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(e.$emit("UNLOAD"),r.alert(t.data.message),n.reload(),i.explainPhoto=!0,i.disabled=!1):(e.$emit("UNLOAD"),r.alert(t.data.message),i.disabled=!1,i.file={})})}}]).controller("getBannerCtrl",["$http",function(e){var t=this;e.get("/api/banner").then(function(e){e.data.success?t.bannerData=e.data.bannerData:console.log("불러오지 못하였습니다.")})}]),angular.module("boardController",[]).controller("createBoardController",["$http","$state",function(e,t){this.doWrite=function(a){e.post("/api/board",a).then(function(e){e.data.success?t.go("app.board"):console.log(e.data.message)})}}]),angular.module("galleryController",[]).controller("uploadgalleryCtrl",["$scope","$timeout","$http","$window","$state",function(e,t,a,r,n){var i=this;this.file={},this.readImage=function(a){if(e.$emit("LOAD"),a.length>0&&a[0].name.match(/\.(png|jpeg|jpg)$/)){var r=a[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(a){t(function(){e.$emit("UNLOAD"),i.explainThumbnail={},i.explainThumbnail.dataUrl=a.target.result})}}else e.$emit("UNLOAD"),i.explainThumbnail={}},this.uploadImage=function(t){e.$emit("LOAD"),i.explainPhoto=!1,i.disabled=!0;var n=new FormData;n.title=t,n.append("myfile",i.file.upload),a.patch("/api/gallery/",n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(i.imagePath=t.data.image_path,e.$emit("UNLOAD"),r.alert(t.data.message),i.explainPhoto=!0,i.disabled=!1):(e.$emit("UNLOAD"),r.alert(t.data.message),i.disabled=!1,i.file={})})},this.uploadGallery=function(e){galleryData={title:e,imagePath:i.imagePath},a.post("/api/gallery",galleryData).then(function(e){})}}]).controller("getGalleryCtrl",["$http",function(e){var t=this;e.get("/api/gallery").then(function(e){e.data.success?(t.galleryData=e.data.galleryData,console.log(t.galleryData)):console.log("불러오지 못하였습니다.")})}]),angular.module("itemControllers",["orderServices"]).filter("sumByKey",function(){return function(e,t){var a=e instanceof Array?e.length:0;if(void 0===t||0===a)return a;for(var r=0;a--;)r+=e[a][t[0]]*e[a][t[1]];return r}}).controller("getTypeItemsCtrl",["$stateParams","$http",function(e,t){var a=this,r=e.category_id;if(e.type_code){var n=e.type_code;t.get("/api/item_type/"+r,{params:{type_code:n}}).then(function(e){e.data.success?0===e.data.result.length?a.errorMsg="등록된 상품이 없습니다.":a.itemsData=e.data.result:a.errorMsg=e.data.message})}else t.get("/api/item_type/"+r).then(function(e){e.data.success?0===e.data.result.length?a.errorMsg="등록된 상품이 없습니다.":a.itemsData=e.data.result:a.errorMsg=e.data.message})}]).controller("getTypeItemCtrl",["Admin","$stateParams","$window","$state","Order",function(e,t,a,r,n){var s=this,o=t.item_id;s.optionItem=!1,s.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},s.amount=1,s.optionList=[],this.addItem=function(e){0===e.id?a.alert("옵션을 선택해주세요."):(s.optionItem=!0,s.optionList.push({kind:e.name,price:e.id,amount:1}))},this.createBasket=function(e){var t={item_id:e.item_id};n.createBasket(t).then(function(e){e.data.success,a.alert(e.data.message)})},this.createOrder=function(e){var t={item_id:e.item_id,amount:e.amount,kind_of:e.kind_of,price:e.price};n.createOrder(t).then(function(e){e.data.success?(s.successMsg=e.data.message,r.go("app.makeOrder")):s.errorMsg=e.data})},e.readItem(o).then(function(e){if(e.data.success){var t=e.data.result.kind.split(","),a=e.data.result.price.split(","),r=[];for(i=0;i<a.length;i++)r[i]=Number(a[i]);for(s.itemData=e.data.result,i=0;i<r.length;i++)s.data.availableOptions[i+1]={name:t[i],id:r[i]}}else s.errorMsg=e.data.message})}]),angular.module("managementControllers",["adminServices","menuServices","orderServices"]).controller("readItemsCtrl",["Admin","$state",function(e,t){var a=this;e.readItems().then(function(e){a.errorMsg=!1,e.data.success?a.itemsData=e.data.result:a.errorMsg=e.data.message}),this.deleteItem=function(r){a.errorMsg=!1;var n=r.item_id;e.deleteItem(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}}]).controller("readItemCtrl",["Admin","$stateParams","$scope","Order","$window",function(e,t,a,r,n){var s=this,o=t.item_id;s.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},s.amount=1,e.readItem(o).then(function(e){if(e.data.success){var t=e.data.result.kind.split(","),a=e.data.result.price.split(","),r=[];for(i=0;i<a.length;i++)r[i]=Number(a[i]);for(s.itemData=e.data.result,s.data.selectedOption={id:r[0]},i=0;i<r.length;i++)s.data.availableOptions[i+1]={name:t[i],id:r[i]}}else s.errorMsg=e.data.message})}]).controller("updateItemCtrl",["Admin","$stateParams","$scope","$http","$timeout","$state","$window","Menu",function(e,t,a,r,n,s,o,d){function l(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var c=this,u=t.item_id;c.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},c.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},d.readMainMenu().then(function(e){if(c.errorMsg=!1,e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)c.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else c.errorMsg=e.data.message}),this.readMenu=function(e){if(c.errorMsg=!1,c.readMenuStatus=!1,0===e.id)o.alert("카테고리를 선택해주세요.");else{var t=e.id;r.get("/api/menu/"+t).then(function(e){if(e.data.success)if(0===e.data.result.length)c.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},o.alert("등록된 상품이 없습니다.");else{c.readMenuStatus=!0,c.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}};var t=e.data.result;for(i=0;i<t.length;i++)c.data2.availableOptions[i+1]={name:t[i].type_description,id:t[i].item_type_id}}else c.errorMsg=e.data.message})}},e.readItem(u).then(function(e){console.log(e),e.data.success?(c.itemData=e.data.result,c.data.selectedOption={id:c.itemData.category_id}):c.errorMsg=e.data.message}),this.updateItem=function(e){if(c.errorMsg=!1,c.readMenuStatus)if(0===e.item_type||"0"===e.item_type)o.alert("상품 분류를 선택해주세요.!");else{var t={type:e.item_type,item_name:e.item_name};r.put("/api/item/"+u,t).then(function(e){e.data.success?(c.successMsg=e.data.message,s.reload()):c.errorMsg=e.data.message})}else updateData2={type:c.itemData.item_type_id,item_name:e.item_name},r.put("/api/item/"+u,updateData2).then(function(e){e.data.success?(c.successMsg=e.data.message,s.reload()):c.errorMsg=e.data.message})},this.file={},this.mainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){n(function(){a.$emit("UNLOAD"),c.mainThumbnail={},c.mainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),c.mainThumbnail={}},this.readPhoto=function(){a.$emit("LOAD"),c.mainPhoto=!1,c.disabled=!0;var e=new FormData;e.append("myfile",c.file.upload),r.post("/api/createPhotoImage/",e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){if(e.data.success){a.$emit("UNLOAD"),o.alert(e.data.message),c.mainPhoto=!0,c.disabled=!1;var t={image:e.data.item_path};r.put("/api/item/"+u,t).then(function(e){e.data.success,console.log(e.data.message)}),c.file={}}else a.$emit("UNLOAD"),o.alert(e.data.message),c.disabled=!1,c.file={}})},this.explainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){n(function(){a.$emit("UNLOAD"),c.explainThumbnail={},c.explainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),c.explainThumbnail={}},this.readPhotoExplain=function(){a.$emit("LOAD"),c.explainPhoto=!1,c.disabled=!0;var e=new FormData;e.append("myfile",c.file.upload),r.post("/api/createPhotoExplain/",e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){if(e.data.success){a.$emit("UNLOAD"),o.alert(e.data.message),c.explainPhoto=!0,c.disabled=!1;var t={explain:e.data.item_path};r.put("/api/item/"+u,t).then(function(e){e.data.success,console.log(e.data.message)}),c.file={}}else a.$emit("UNLOAD"),o.alert(e.data.message),c.disabled=!1,c.file={}})},c.myImage="",c.myCroppedImage="";var m=function(e){a.$emit("LOAD");var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){t.$emit("UNLOAD"),c.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",m),this.readCropImage=function(t){if(a.$emit("LOAD"),c.thumbnail=!1,c.disabled=!0,""===t.base64Url||null===t.base64Url||void 0===t.base64Url)c.disabled=!1;else{a.$emit("UNLOAD");var n=l(a.myCroppedImage);e.readAristCrop(n).then(function(e){if(e.data.success){a.$emit("UNLOAD"),o.alert(e.data.message),c.thumbnail=!0,c.disabled=!1;var t={thumbnail:e.data.filePath};r.put("/api/item/"+u,t).then(function(e){e.data.success,console.log(e.data.message)})}else a.$emit("UNLOAD"),c.disabled=!1})}}}]).controller("createItemCtrl",["$http","$timeout","$scope","Admin","$state","$window","Menu",function(e,t,a,r,n,s,o){function d(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var l=this;l.kindList=[],l.type_tiny=[],l.type_price=[],this.addLine=function(e){e?null===e.kindValue||void 0===e.kindValue||""===e.kindValue?s.alert("옵션명을 입력해주세요."):null===e.kindPrice||void 0===e.kindPrice||""===e.kindPrice?s.alert("옵션 가격을 입력해주세요."):(l.kindList.push({kind:e.kindValue,price:e.kindPrice}),l.type_tiny.push(e.kindValue),l.type_price.push(e.kindPrice)):s.alert("정확한 값을 입력해주세요.")},l.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},l.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},o.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)l.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else l.errorMsg=e.data.message}),this.readMenu=function(t){if(0===t.id)s.alert("카테고리를 선택해주세요.");else{var a=t.id;e.get("/api/menu/"+a).then(function(e){if(e.data.success)if(0===e.data.result.length)l.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},s.alert("등록된 상품이 없습니다.");else{l.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}};var t=e.data.result;for(i=0;i<t.length;i++)l.data2.availableOptions[i+1]={name:t[i].type_description,id:t[i].item_type_id}}})}},this.file={},this.mainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var r=e[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t(function(){a.$emit("UNLOAD"),l.mainThumbnail={},l.mainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),l.mainThumbnail={}},this.readPhoto=function(){a.$emit("LOAD"),l.mainPhoto=!1,l.disabled=!0;var t=new FormData;t.append("myfile",l.file.upload),e.post("/api/createPhotoImage/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),l.mainPhoto=!0,l.disabled=!1,l.mainImagePath=e.data.item_path,l.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),l.disabled=!1,l.file={})})},this.explainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var r=e[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t(function(){a.$emit("UNLOAD"),l.explainThumbnail={},l.explainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),l.explainThumbnail={}},this.readPhotoExplain=function(){a.$emit("LOAD"),l.explainPhoto=!1,l.disabled=!0;var t=new FormData;t.append("myfile",l.file.upload),e.post("/api/createPhotoExplain/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),l.explainPhoto=!0,l.disabled=!1,l.explainImagePath=e.data.item_path,l.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),l.disabled=!1,l.file={})})},l.myImage="",l.myCroppedImage="";var c=function(e){a.$emit("LOAD");var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){t.$emit("UNLOAD"),l.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",c),this.readCropImage=function(e){if(a.$emit("LOAD"),l.thumbnail=!1,l.disabled=!0,""===e.base64Url||null===e.base64Url||void 0===e.base64Url)l.disabled=!1;else{a.$emit("UNLOAD");var t=d(a.myCroppedImage);r.readAristCrop(t).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),l.thumbnail=!0,l.disabled=!1,l.thumbnailPath=e.data.filePath):(a.$emit("UNLOAD"),l.disabled=!1)})}},this.createPhoto=function(e){a.$emit("LOAD"),void 0===e||null===e||""===e?(s.alert("빈칸을 모두 입력해주세요."),l.disabled=!1,a.$emit("UNLOAD")):"0"===l.data2.selectedOption.id?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("상품 분류을 선택해주세요.")):void 0===e.title||null===e.title||""===e.title?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("상품 제목를 입력해주세요.")):(l.uploadData={
title:e.title,type:l.data2.selectedOption.id,kind:l.type_tiny.toString(),price:l.type_price.toString()},r.createItem(l.uploadData).then(function(e){e.data.success?(a.$emit("UNLOAD"),l.disabled=!0,s.alert(e.data.message),n.reload()):(a.$emit("UNLOAD"),l.disabled=!1,s.alert(e.data.message))}))}}]),angular.module("menuControllers",["menuServices"]).controller("mainMenuCtrl",["Menu","$state",function(e,t){var a=this;this.createMenu=function(r){if(a.errorMsg=!1,void 0===r)a.errorMsg="올바른 정보를 입력해주세요.";else{var n={name:r.name};e.createMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}},this.update=function(r){a.errorMsg=!1;var n={category_id:r.category_id,name:r.name};e.updateMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})},this.delete=function(r){a.errorMsg=!1;var n=r.category_id;e.deleteMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}}]).controller("subMenuCtrl",["Menu","$state","$stateParams","$http",function(e,t,a,r){var n=this,i=a.category_id;r.get("/api/category/"+i).then(function(e){e.data.success&&(n.subMenuDatas=e.data.result)})}]),angular.module("typeControllers",["adminServices","menuServices","orderServices"]).controller("updateItemTypeCtrl",["$stateParams","Menu","Admin","$state",function(e,t,a,r){var n=this,s=e.item_id;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readUpdateItemType(s).then(function(e){if(n.errorMsg=!1,e.data.success){t.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),n.updataData=e.data.result,n.data.selectedOption={id:n.updataData.category_id};var a={kind:n.updataData.kind.split(","),price:n.updataData.price.split(",")};for(n.optionDatas=[],i=0;i<a.kind.length;i++)n.optionDatas[i]={kind:a.kind[i],price:a.price[i]}}else n.errorMsg=e.data.message}),this.updateType=function(e){n.updateData=e,n.updateData.category_id=n.data.selectedOption.id,a.updateUpdateType(n.updateData).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,r.reload()):n.errorMsg=e.data.message})},this.updateitemType=function(e){var t=[],s=[];for(i=0;i<n.optionDatas.length;i++)t.push(n.optionDatas[i].kind),s.push(n.optionDatas[i].price);var o={item_id:e.item_id,item_name:e.item_name,price:s.toString(),kind:t.toString()};a.updateItemType(o).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,r.reload()):n.errorMsg=e.data.message})}}]).controller("readItemTypeCtrl",["Admin","$state","$window","Menu",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.copyItemType=function(a){var r={type:a.item_type_id,title:a.item_name,kind:a.kind.toString(),price:a.price.toString()};e.createItem(r).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},this.deleteType=function(a){n.errorMsg=!1;var r=a.item_id;e.deleteItem(r).then(function(e){e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},e.readItemType().then(function(e){if(e.data.success){r.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(a=0;a<t.length;a++)n.data.availableOptions[a+1]={name:t[a].name,id:t[a].category_id}}else n.errorMsg=e.data.message}),n.typeDatas=e.data.result;for(var t=[],a=0;a<e.data.result.length;a++)t[a]={kind:n.typeDatas[a].kind.split(","),price:n.typeDatas[a].price.split(",")},n.typeDatas[a].kind=t[a].kind,n.typeDatas[a].price=t[a].price}else n.errorMsg=e.data.message})}]).controller("updateTypeCtrl",["$stateParams","Menu","Admin","$state",function(e,t,a,r){var n=this,s=e.item_type;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readUpdateType(s).then(function(e){n.errorMsg=!1,e.data.success?(t.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),n.updataData=e.data.result,n.data.selectedOption={id:n.updataData.category_id}):n.errorMsg=e.data.message}),this.updateType=function(e){n.updateData=e,n.updateData.category_id=n.data.selectedOption.id,a.updateUpdateType(n.updateData).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,r.reload()):n.errorMsg=e.data.message})}}]).controller("readTypeCtrl",["Admin","$state","$window","Menu",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.copyType=function(a){var r={category:a.category_id,type_description:a.type_description,type_code:a.type_code};e.createType(r).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},this.deleteType=function(a){n.errorMsg=!1;var r=a.item_type;e.deleteType(r).then(function(e){e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},e.readType().then(function(e){e.data.success?(r.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),n.typeDatas=e.data.result):n.errorMsg=e.data.message})}]).controller("createTypeCtrl",["Admin","$state","Menu","$window",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),this.createType=function(a){n.errorMsg=!1,n.typeData={category:n.data.selectedOption.id,type_description:a.type_description,type_code:a.type_code},e.createType(n.typeData).then(function(e){e.data.success?(n.success=e.data.message,t.reload()):n.errorMsg=e.data.message})},n.kindList=[],n.type_tiny=[],n.type_price=[],this.addLine=function(e){e?null===e.kindValue||void 0===e.kindValue||""===e.kindValue?r.alert("옵션명을 입력해주세요."):null===e.kindPrice||void 0===e.kindPrice||""===e.kindPrice?r.alert("옵션 가격을 입력해주세요."):(n.kindList.push({kind:e.kindValue,price:e.kindPrice}),n.type_tiny.push(e.kindValue),n.type_price.push(e.kindPrice)):r.alert("정확한 값을 입력해주세요.")}}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var n=this;t.activeAccount(e.token).then(function(e){n.successMsg=!1,n.errorMsg=!1,e.data.success?(n.disabled=!0,n.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(n.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(n,i){r.errorMsg=!1,r.disabled=!0,i?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(n,i){r.errorMsg=!1,r.disabled=!0,i?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,n){var i=this;i.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(i.hide=!1,t.alert="alert alert-success",i.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",i.errorMsg=e.data.message)}),i.savePassword=function(e,s,o){i.errorMsg=!1,i.successMsg=!1,i.disabled=!0,i.loading=!0,s&&o?(i.regData.username=t.username,a.savePassword(i.regData).then(function(e){i.loading=!1,e.data.success?(t.alert="alert alert-success",i.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){n.go("app")},2e3)):(t.alert="alert alert-danger",i.disabled=!1,i.errorMsg=e.data.message)})):(t.alert="alert alert-danger",i.loading=!1,i.disabled=!1,i.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,n,i){var s=this;this.regStep1=function(e){s.errorMsg=!1,e?e.terms&&e.privacy?(s.successMsg="약관에 성공적으로 동의하셨습니다.",s.disabled=!0,i.go("app.registerStep2")):(s.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",s.disabled=!1):s.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,a){s.errorMsg=!1,s.disabled=!0,i.go("app.registerStep3")},this.regStep3=function(e,t,o){s.errorMsg=!1,s.disabled=!0,t&&o?r.create(s.regData).then(function(e){e.data.success?(s.disabled=!0,s.successMsg=e.data.message,n.login(s.regData).then(function(e){e.data.success?(s.disabled=!0,s.successMsg=e.data.message,a(function(){i.go("app")},1e3)):e.data.expired?(s.expired=!0,s.disabled=!0,s.errorMsg=e.data.message):(s.disabled=!1,s.errorMsg=e.data.message)})):(s.disabled=!1,s.errorMsg=e.data.message)}):(s.disabled=!1,s.loading=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiZGlyZWN0aXZlcy9hZG1pblVzZXJzLmpzIiwiZGlyZWN0aXZlcy9iYW5uZXIuanMiLCJkaXJlY3RpdmVzL2JvYXJkLmpzIiwiZGlyZWN0aXZlcy9nYWxsZXJ5LmpzIiwiZGlyZWN0aXZlcy9tZW51SXRlbS5qcyIsInNlcnZpY2VzL2FkbWluU2VydmljZXMuanMiLCJzZXJ2aWNlcy9hdXRoU2VydmljZXMuanMiLCJzZXJ2aWNlcy9nYWxsZXJ5U2VydmljZXMuanMiLCJzZXJ2aWNlcy9tZW51U2VydmljZXMuanMiLCJzZXJ2aWNlcy9vcmRlclNlcnZpY2VzLmpzIiwic2VydmljZXMvdXNlclNlcnZpY2VzLmpzIiwiY29udHJvbGxlcnMvYWRtaW4vYmFubmVyQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2FkbWluL2l0ZW1Db250cm9sbGVycy5qcyIsImNvbnRyb2xsZXJzL2FkbWluL21hbmFnZW1lbnRDb250cm9sbGVycy5qcyIsImNvbnRyb2xsZXJzL2FkbWluL21lbnVDb250cm9sbGVycy5qcyIsImNvbnRyb2xsZXJzL2FkbWluL3R5cGVDb250cm9sbGVycy5qcyIsImNvbnRyb2xsZXJzL21haW4vbWFpbkNvbnRyb2xsZXJzLmpzIiwiY29udHJvbGxlcnMvbWFpbi9vcmRlckNvbnRyb2xsZXJzLmpzIiwiY29udHJvbGxlcnMvdXNlci9lbWFpbEN0cmwuanMiLCJjb250cm9sbGVycy91c2VyL3VzZXJDdHJsLmpzIiwiZGlyZWN0aXZlcy9hZG1pbi9hZG1pbkhlYWRlci5qcyIsImRpcmVjdGl2ZXMvYWRtaW4vYWRtaW5MYWJvcmF0b3J5LmpzIiwiZGlyZWN0aXZlcy9hdHRyaWJ1dGUvZmlsZU1vZGVsLmpzIiwiZGlyZWN0aXZlcy9hdHRyaWJ1dGUvbWF0Y2hQYXNzd29yZC5qcyIsImRpcmVjdGl2ZXMvY29tcGFueUluZm9ybWF0aW9uL2NvbXBhbnlJbnRyb2R1Y2UuanMiLCJkaXJlY3RpdmVzL2NvbXBhbnlJbmZvcm1hdGlvbi9jb21wYW55UHJpdmFjeUluZm9ybWF0aW9uLmpzIiwiZGlyZWN0aXZlcy9jb21wYW55SW5mb3JtYXRpb24vcHJpdmFjeS5qcyIsImRpcmVjdGl2ZXMvY29tcGFueUluZm9ybWF0aW9uL3Rlcm1zLmpzIiwiZGlyZWN0aXZlcy9jb21wYW55SW5mb3JtYXRpb24vdXNlclF1aWNrTWVudS5qcyIsImRpcmVjdGl2ZXMvbWFpbi9jb250ZW50LmpzIiwiZGlyZWN0aXZlcy9tYWluL2Zvb3Rlci5qcyIsImRpcmVjdGl2ZXMvbWFpbi9oZWFkZXIuanMiLCJjb250b3JvbGxlcnMvbWFpbi9tYWluQ29udHJvbGxlcnMuanMiLCJjb250b3JvbGxlcnMvbWFpbi9vcmRlckNvbnRyb2xsZXJzLmpzIiwiY29udG9yb2xsZXJzL2FkbWluL2Jhbm5lckNvbnRyb2xsZXIuanMiLCJjb250b3JvbGxlcnMvYWRtaW4vYm9hcmRDb250cm9sbGVyLmpzIiwiY29udG9yb2xsZXJzL2FkbWluL2dhbGxlcnlDb250cm9sbGVyLmpzIiwiY29udG9yb2xsZXJzL2FkbWluL2l0ZW1Db250cm9sbGVycy5qcyIsImNvbnRvcm9sbGVycy9hZG1pbi9tYW5hZ2VtZW50Q29udHJvbGxlcnMuanMiLCJjb250b3JvbGxlcnMvYWRtaW4vbWVudUNvbnRyb2xsZXJzLmpzIiwiY29udG9yb2xsZXJzL2FkbWluL3R5cGVDb250cm9sbGVycy5qcyIsImNvbnRvcm9sbGVycy91c2VyL2VtYWlsQ3RybC5qcyIsImNvbnRvcm9sbGVycy91c2VyL3VzZXJDdHJsLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkaHR0cFByb3ZpZGVyIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsImFwcCIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJoYXNoUHJlZml4IiwiaHRtbDVNb2RlIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsImJvZHlDb250ZW50QCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsInN1Yk1lbnVAYXBwIiwiYXV0aGVudGljYXRlZCIsImFkbWluQ29udGVudEAiLCJhZG1pbkNvbnRlbnRAYXBwIiwibWVudUBhcHAubWFuYWdlbWVudCIsImNvbnRlbnRzQGFwcC5tYW5hZ2VtZW50IiwicnVuIiwiJHJvb3RTY29wZSIsIlVzZXIiLCIkc3RhdGUiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJvcHRpb25zIiwiZXJyb3IiLCJnbyIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiY3RybHMiLCIkaHR0cCIsImFwcEN0cmwiLCJnZXQiLCJ0aGVuIiwicmVzdWx0IiwiZGF0YSIsInN1Y2Nlc3MiLCJiYW5uZXJEYXRhIiwiY29uc29sZSIsImxvZyIsIiRzY29wZSIsImFzc2lnbk5ld0luZGV4ZXNUb1NsaWRlcyIsImluZGV4ZXMiLCJpIiwibCIsInNsaWRlcyIsImxlbmd0aCIsImlkIiwicG9wIiwiZ2VuZXJhdGVJbmRleGVzQXJyYXkiLCJjdXJySW5kZXgiLCJzaHVmZmxlIiwiYXJyYXkiLCJ0bXAiLCJjdXJyZW50IiwidG9wIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibXlJbnRlcnZhbCIsIm5vV3JhcFNsaWRlcyIsImFjdGl2ZSIsImFkZFNsaWRlIiwiaW1hZ2UiLCJyYW5kb21pemUiLCJib2FyZEN0cmwiLCJib2FyZERhdGEiLCJkYXRlIiwibW9tZW50IiwiY3JlYXRlZCIsImZvcm1hdCIsInRoaXMiLCJkb1dyaXRlIiwicG9zdCIsIm1lc3NhZ2UiLCIkc3RhdGVQYXJhbXMiLCJyZWFkQm9hcmRDdHJsIiwiYXJ0aWNsZV9pZCIsImFydGljbGVEYXRhIiwiZ2FsbGVyeSIsIkxpZ2h0Ym94IiwiZ2FsbGVyeUN0cmwiLCJnZXRDb250ZW50IiwiZ2FsbGVyeURhdGEiLCJlcnJvck1zZyIsIm9wZW5MaWdodGJveE1vZGFsIiwiaW5kZXgiLCJvcGVuTW9kYWwiLCIkdGltZW91dCIsIiR3aW5kb3ciLCJmaWxlIiwicmVhZEltYWdlIiwiZmlsZXMiLCIkZW1pdCIsIm5hbWUiLCJtYXRjaCIsImZpbGVSZWFkZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsIm9ubG9hZCIsImUiLCJleHBsYWluVGh1bWJuYWlsIiwiZGF0YVVybCIsInRhcmdldCIsInVwbG9hZEltYWdlIiwiaXRlbVRpdGxlIiwiZXhwbGFpblBob3RvIiwiZGlzYWJsZWQiLCJmZCIsIkZvcm1EYXRhIiwidGl0bGUiLCJhcHBlbmQiLCJ1cGxvYWQiLCJwYXRjaCIsInRyYW5zZm9ybVJlcXVlc3QiLCJpZGVudGl0eSIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJ1bmRlZmluZWQiLCJpbWFnZVBhdGgiLCJpbWFnZV9wYXRoIiwiYWxlcnQiLCJ1cGxvYWRHYWxsZXJ5IiwidGh1bWJVcmwiLCJjYXB0aW9uIiwicmVsb2FkIiwiTWVudSIsIm1lbnVJdGVtQ3RybCIsInJlYWRNYWluTWVudSIsIm1haW5NZW51ZXMiLCJmYWN0b3J5IiwiYWRtaW5GYWN0b3J5IiwiZGVsZXRlSXRlbSIsIml0ZW1faWQiLCJkZWxldGUiLCJyZWFkQXJpc3RDcm9wIiwiYmxvYiIsImNyZWF0ZUFyaXN0UGhvdG8iLCJwaG90b0RhdGEiLCJjcmVhdGVJdGVtIiwiaXRlbURhdGEiLCJyZWFkSXRlbXMiLCJyZWFkSXRlbSIsInVwZGF0ZUl0ZW1UeXBlIiwidXBkYXRlRGF0YSIsInB1dCIsInJlYWRVcGRhdGVJdGVtVHlwZSIsInJlYWRJdGVtVHlwZSIsImRlbGV0ZVR5cGUiLCJpdGVtX3R5cGVfaWQiLCJyZWFkVXBkYXRlVHlwZSIsIml0ZW1fdHlwZSIsInVwZGF0ZVVwZGF0ZVR5cGUiLCJjcmVhdGVUeXBlIiwidHlwZURhdGEiLCJyZWFkVHlwZSIsIkF1dGhUb2tlbiIsImF1dGhGYWN0b3J5IiwiZ2V0VXNlciIsImdldFRva2VuIiwiJHEiLCJyZWplY3QiLCJsb2dpbiIsImxvZ2luRGF0YSIsInNldFRva2VuIiwidG9rZW4iLCJpc0xvZ2dlZEluIiwibG9nb3V0IiwiYXV0aFRva2VuRmFjdG9yeSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZ2V0SXRlbSIsImF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5IiwicmVxdWVzdCIsImdhbGxlcnlGYWN0b3J5IiwibWVudUZhY3RvcnkiLCJkZWxldGVNZW51IiwiY2F0ZWdvcnlfaWQiLCJ1cGRhdGVNZW51IiwiY3JlYXRlTWVudSIsIm1lbnVEYXRhIiwicmVhZFN1Yk1lbnUiLCJtYWluTWVudVR5cGUiLCJvcmRlckZhY3RvcnkiLCJ1cGRhdGVEZWxpdmVyeSIsImRlbGlEYXRhIiwidXNlcl9pZCIsImNyZWF0ZURlbGl2ZXJ5IiwiZGVsZXRlQmFza2V0IiwiYmFza2V0X2lkIiwicmVhZEJhc2tldCIsImNyZWF0ZUJhc2tldCIsImJhc2tldERhdGEiLCJkZWxldGVPcmRlciIsInJlYWRPcmRlciIsInJlYWRPcmRlckFuZERlbGkiLCJjcmVhdGVPcmRlciIsIm9yZGVyRGF0YSIsInVzZXJGYWN0b3J5IiwiZ2V0UGVybWlzc2lvbiIsImNyZWF0ZSIsInJlZ0RhdGEiLCJhY3RpdmVBY2NvdW50IiwiY2hlY2tDcmVkZW50aWFscyIsInJlc2VuZExpbmsiLCJ1c2VybmFtZSIsInNlbmRVc2VybmFtZSIsInVzZXJEYXRhIiwic2VuZFBhc3N3b3JkIiwicmVzZXREYXRhIiwicmVzZXRQYXNzd29yZCIsInNhdmVQYXNzd29yZCIsInJlbmV3U2Vzc2lvbiIsInVwbG9hZEJhbm5lciIsImZpbHRlciIsImlucHV0IiwicHJvcGVydHkiLCJBcnJheSIsInRvdGFsIiwidHlwZV9jb2RlIiwicGFyYW1zIiwiaXRlbXNEYXRhIiwiQWRtaW4iLCJPcmRlciIsIm9wdGlvbkl0ZW0iLCJhdmFpbGFibGVPcHRpb25zIiwic2VsZWN0ZWRPcHRpb24iLCJhbW91bnQiLCJvcHRpb25MaXN0IiwiYWRkSXRlbSIsImtpbmQiLCJwcmljZSIsImtpbmRfb2YiLCJzdWNjZXNzTXNnIiwic3BsaXQiLCJ0ZW1wIiwiTnVtYmVyIiwiZGVjb2RlQmFzZTY0SW1hZ2UiLCJkYXRhU3RyaW5nIiwibWF0Y2hlcyIsIkVycm9yIiwidHlwZSIsImRhdGEyIiwicmVhZE1lbnUiLCJyZWFkTWVudVN0YXR1cyIsInR5cGVfZGVzY3JpcHRpb24iLCJ1cGRhdGVJdGVtIiwiaXRlbV9uYW1lIiwidXBkYXRlRGF0YTIiLCJtYWluUGhvdG9DaGFuZ2VkIiwibWFpblRodW1ibmFpbCIsInJlYWRQaG90byIsIm1haW5QaG90byIsIml0ZW1fcGF0aCIsImV4cGxhaW5QaG90b0NoYW5nZWQiLCJyZWFkUGhvdG9FeHBsYWluIiwiZXhwbGFpbiIsIm15SW1hZ2UiLCJteUNyb3BwZWRJbWFnZSIsImhhbmRsZUZpbGVTZWxlY3QiLCJldnQiLCJjdXJyZW50VGFyZ2V0IiwicmVhZGVyIiwiJGFwcGx5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib24iLCJyZWFkQ3JvcEltYWdlIiwidGh1bWJuYWlsIiwiYmFzZTY0VXJsIiwiZmlsZVBhdGgiLCJraW5kTGlzdCIsInR5cGVfdGlueSIsInR5cGVfcHJpY2UiLCJhZGRMaW5lIiwia2luZERhdGEiLCJraW5kVmFsdWUiLCJraW5kUHJpY2UiLCJtYWluSW1hZ2VQYXRoIiwiZXhwbGFpbkltYWdlUGF0aCIsInRodW1ibmFpbFBhdGgiLCJjcmVhdGVQaG90byIsInVwbG9hZERhdGEiLCJ0b1N0cmluZyIsInVwZGF0ZSIsImRlbGV0ZURhdGEiLCJzdWJNZW51RGF0YXMiLCJ1cGRhdGFEYXRhIiwic3BsaXRPcHRpb25EYXRhcyIsIm9wdGlvbkRhdGFzIiwidXBkYXRlVHlwZSIsInVwZGF0ZWl0ZW1UeXBlIiwia2luZEFycmF5IiwicHJpY2VBcnJheSIsImNvcHlJdGVtVHlwZSIsInR5cGVEYXRhcyIsImtpbmREYXRhcyIsImNvcHlUeXBlIiwiY2F0ZWdvcnkiLCJBdXRoIiwiJGxvY2F0aW9uIiwiJGludGVydmFsIiwibG9hZG1lIiwibG9hZGluZyIsImNoZWNrU2Vzc2lvbiIsInVzZXIiLCJwZXJtaXNzaW9uIiwiYXV0aG9yaXplZCIsImludGVydmFsIiwiY2FuY2VsIiwic2VsZiIsInBhcnNlSnd0IiwiYmFzZTY0IiwicmVwbGFjZSIsIkpTT04iLCJwYXJzZSIsImF0b2IiLCJleHBpcmVUaW1lIiwidGltZVN0YW1wIiwiRGF0ZSIsIm5vdyIsImV4cCIsInNob3dNb2RhbCIsImNob2ljZU1hZGUiLCJoaWRlTW9kYWwiLCJNb2RhbEJvZHkiLCJlbmRTZXNzaW9uIiwib3B0aW9uIiwibW9kYWxIZWFkZXIiLCJtb2RhbEJvZHkiLCJoaWRlQnV0dG9uIiwiJCIsIm1vZGFsIiwiYmFja2Ryb3AiLCJkb0xvZ2luIiwidmFsaWQiLCJleHBpcmVkIiwicmVzZW5kIiwicmVzZXR1c2VybmFtZSIsInJlc2V0cGFzc3dvcmQiLCJtYWluIiwiZ2V0SXRlbUZhaWwiLCJjYXNoUmVjZWlwdCIsImdldENhc2hSZWNlaXB0IiwicmVhZEFkZHJlc3MiLCJkYXVtIiwicG9zdGNvZGUiLCJsb2FkIiwiYWRkcmVzc0RldGFpbCIsIlBvc3Rjb2RlIiwib25jb21wbGV0ZSIsInNpZ3VuZ3VfY29kZSIsInNpZ3VuZ3VDb2RlIiwiamlidW5fYWRkcmVzcyIsImppYnVuQWRkcmVzcyIsInJvYWRfYWRkcmVzcyIsInJvYWRBZGRyZXNzIiwib3BlbiIsImRlbGl2ZXJ5IiwiaXRlbVByaWNlIiwiYWxsSXRlbVByaWNlIiwiY29uZmlybU9yZGVyIiwiZGFsaURhdGEiLCJyZWNlaXB0RGF0YSIsIm1ha2VCYXNrZXQiLCJqIiwiZW1haWwiLCJoaWRlIiwiY29uZmlybWVkIiwicmVnU3RlcDEiLCJyZWdTdGVwMiIsInJlZ1N0ZXAzIiwiJHBhcnNlIiwicGFyc2VkRmlsZSIsImZpbGVNb2RlbCIsInBhcnNlZGZpbGVTZXR0ZXIiLCJhc3NpZ24iLCJiaW5kIiwiZG9Db25maXJtIiwidmFsdWVzIiwiZm9yRWFjaCIsImVsZSIsImNvbmZpcm0iLCIkb2JzZXJ2ZSIsIiR3YXRjaCIsIndvcmQiLCJ2ZXJzaW9uIiwiYWdlbnQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsImFwcE5hbWUiLCJzZWFyY2giLCJSZWdFeHAiLCJleGVjIiwiJDEiLCIkMiIsImxvY2F0aW9uIiwiaHJlZiJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsT0FDQSxZQUNBLGVBQ0Esa0JBQ0Esa0JBQ0Esa0JBQ0EsbUJBQ0Esd0JBQ0Esa0JBQ0Esa0JBQ0EsbUJBQ0EsWUFDQSxtQkFDQSxrQkFDQSxvQkFDQSxvQkFDQUMsUUFBQSxnQkFBQSxTQUFBQyxHQUNBQSxFQUFBQyxhQUFBQyxLQUFBLHNCQ2pCQSxJQUFBQyxLQUFBTixRQUFBQyxPQUFBLE1BQ0FLLEtBQUFKLFFBQUEsaUJBQUEscUJBQUEsb0JBQUEsU0FBQUssRUFBQUMsRUFBQUMsR0FDQUQsRUFBQUUsVUFBQSxLQUNBRCxFQUFBRSxXQUFBLElBQ0FGLEVBQUFHLFdBQUEsR0FFQUwsRUFBQU0sTUFBQSxPQUNBQyxJQUFBLElBQ0FDLE9BQ0FDLGdCQUNBQyxZQUFBLHNCQUlBSixNQUFBLHFCQUVBQyxJQUFBLGlCQUNBQyxPQUNBQyxnQkFDQUMsWUFBQSxxQ0FDQUMsV0FBQSxVQUNBQyxhQUFBLGVBS0FOLE1BQUEscUJBRUFDLElBQUEsaUJBQ0FDLE9BQ0FDLGdCQUNBQyxZQUFBLHFDQUNBQyxXQUFBLFVBQ0FDLGFBQUEsZUFLQU4sTUFBQSxxQkFFQUMsSUFBQSxpQkFDQUMsT0FDQUMsZ0JBQ0FDLFlBQUEscUNBQ0FDLFdBQUEsVUFDQUMsYUFBQSxlQUtBTixNQUFBLGFBQ0FDLElBQUEsUUFDQUMsT0FDQUMsZ0JBQ0FDLFlBQUEsOEJBS0FKLE1BQUEsYUFDQUMsSUFBQSxRQUNBQyxPQUNBQyxnQkFDQUMsWUFBQSxrQ0FLQUosTUFBQSxvQkFDQUMsSUFBQSxxQkFDQUMsT0FDQUMsZ0JBQ0FDLFlBQUEsc0NBQ0FDLFdBQUEsd0JBQ0FDLGFBQUEsc0JBS0FOLE1BQUEsa0JBQ0FDLElBQUEsZUFDQUMsT0FD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SCxFQUFBOEYsU0FBQWpELEVBQUFBLEtBQUF1QyxVQUVBcEYsRUFBQXFILFVBQUEsRUFDQXJILEVBQUE4RixTQUFBakQsRUFBQUEsS0FBQXVDLGFBS0FwRixFQUFBcUgsVUFBQSxFQUNBckgsRUFBQThGLFNBQUFqRCxFQUFBQSxLQUFBdUMsWUFLQXBGLEVBQUFxSCxVQUFBLEVBQ0FySCxFQUFBMFQsU0FBQSxFQUNBMVQsRUFBQThGLFNBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsW1xyXG4gICAgJ3VpLnJvdXRlcicsXHJcbiAgICAndWkuYm9vdHN0cmFwJyxcclxuICAgICdtZW51Q29udHJvbGxlcnMnLFxyXG4gICAgJ3VzZXJDb250cm9sbGVycycsXHJcbiAgICAnbWFpbkNvbnRyb2xsZXJzJyxcclxuICAgICdlbWFpbENvbnRyb2xsZXJzJyxcclxuICAgICdtYW5hZ2VtZW50Q29udHJvbGxlcnMnLFxyXG4gICAgJ2l0ZW1Db250cm9sbGVycycsXHJcbiAgICAndHlwZUNvbnRyb2xsZXJzJyxcclxuICAgICdvcmRlckNvbnRyb2xsZXJzJyxcclxuICAgICd1aUNyb3BwZXInLFxyXG4gICAgJ2Jhbm5lckNvbnRyb2xsZXInLFxyXG4gICAgJ2dhbGxlcnlTZXJ2aWNlcycsXHJcbiAgICAnYm9vdHN0cmFwTGlnaHRib3gnLFxyXG4gICAgJ2JvYXJkQ29udHJvbGxlcidcclxuXSkuY29uZmlnKGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIpe1xyXG4gICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhJbnRlcmNlcHRvcnMnKTtcclxufSk7XHJcbiIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcbmFwcC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XHJcbiAgICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCcnKTtcclxuICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuXHJcbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnYXBwJywge1xyXG4gICAgICAgIHVybDogJy8nLFxyXG4gICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2hvbWUuaHRtbCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICAgICAgLnN0YXRlKCdhcHAucmVnaXN0ZXJTdGVwMScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ3JlZ2lzdGVyL3N0ZXAxJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVnaXN0ZXIvcmVnaXN0ZXJTdGVwMS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcidcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLnJlZ2lzdGVyU3RlcDInLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdyZWdpc3Rlci9zdGVwMicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3JlZ2lzdGVyL3JlZ2lzdGVyU3RlcDIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZWdDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVnaXN0ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5yZWdpc3RlclN0ZXAzJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAncmVnaXN0ZXIvc3RlcDMnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnYm9keUNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZWdpc3Rlci9yZWdpc3RlclN0ZXAzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVnQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAubG9naW4nLCB7XHJcbiAgICAgICAgICAgIHVybDogJ2xvZ2luJyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvbG9naW4vbG9naW4uaHRtbCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmJvYXJkJywge1xyXG4gICAgICAgICAgICB1cmw6ICdib2FyZCcsXHJcbiAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnYm9keUNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NhdGVnb3J5ZXMvYm9hcmQvaG9tZS5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAud3JpdGVBcnRpY2xlJywge1xyXG4gICAgICAgICAgICB1cmw6ICdib2FyZC93cml0ZUF0cmljbGUnLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2JvYXJkL3dyaXRlQXJ0aWNsZS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY3JlYXRlQm9hcmRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdjcmVhdGVCb2FyZEN0cmwnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZC5zaG93Jywge1xyXG4gICAgICAgICAgICB1cmw6ICcvOmFydGljbGVfaWQnLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2JvYXJkL2FydGljbGVDb250ZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZWFkQm9hcmRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWFkQm9hcmRDdHJsJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAuZ2FsbGVyeScsIHtcclxuICAgICAgICAgICAgdXJsOiAnZ2FsbGVyeScsXHJcbiAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnYm9keUNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NhdGVnb3J5ZXMvZ2FsbGVyeS9ob21lLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC51c2VyJywge1xyXG4gICAgICAgICAgICB1cmw6ICd1c2VyJyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcGFydGlhbC91c2VyLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmNvbW1lcmNlRGV0YWlsJywge1xyXG4gICAgICAgICAgICB1cmw6ICdjb21tZXJjZS1kZXRhaWwnLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9wYXJ0aWFsL2NvbW1lcmNlRGV0YWlsLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmJhc2tldCcsIHtcclxuICAgICAgICAgICAgdXJsOiAnYmFza2V0JyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcGFydGlhbC9iYXNrZXQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Jhc2tldEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2Jhc2tldCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmNhdGVnb3J5Jywge1xyXG4gICAgICAgICAgICB1cmw6ICdjYXRlZ29yeT06Y2F0ZWdvcnlfaWQnLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ3N1Yk1lbnVAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21lbnVlcy9zdWJNZW51Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzdWJNZW51Q3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnc3ViTWVudSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnYm9keUNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NhdGVnb3J5ZXMvaXRlbXMvaG9tZS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2V0VHlwZUl0ZW1zQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2V0VHlwZUl0ZW1zJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3RhdGUoJ2FwcC5jYXRlZ29yeS5pdGVtX3R5cGUnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9pdGVtX3R5cGU9OnR5cGVfY29kZScsXHJcbiAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnYm9keUNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NhdGVnb3J5ZXMvaXRlbXMvaG9tZS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2V0VHlwZUl0ZW1zQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2V0VHlwZUl0ZW1zJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3RhdGUoJ2FwcC5jYXRlZ29yeS5pdGVtX3R5cGUuc2hvdycsIHtcclxuICAgICAgICAgICAgdXJsOiAnL2l0ZW06aXRlbV9pZCcsXHJcbiAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnYm9keUNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NhdGVnb3J5ZXMvaXRlbXMvaXRlbS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2V0VHlwZUl0ZW1DdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnZXRUeXBlSXRlbSdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmNhdGVnb3J5LnNob3cnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9pdGVtOml0ZW1faWQnLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2l0ZW1zL2l0ZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dldFR5cGVJdGVtQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2V0VHlwZUl0ZW0nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5tYWtlT3JkZXInLCB7XHJcbiAgICAgICAgICAgIHVybDogJ21ha2VPcmRlcicsXHJcbiAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnYm9keUNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL29yZGVyL21ha2VPcmRlci5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVhZE9yZGVyQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVhZE9yZGVyJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAuY29uZmlybU9yZGVyJywge1xyXG4gICAgICAgICAgICB1cmw6ICdjb25maXJtT3JkZXInLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9vcmRlci9jb25maXJtT3JkZXIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlYWRPcmRlckN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlYWRPcmRlckN0cmwnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ3Jlc2V0dXNlcm5hbWUnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvcmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC91c2VybmFtZS5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VybmFtZUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndXNlcm5hbWUnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgncmVzZXRwYXNzd29yZCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9yZXNldHBhc3N3b3JkJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L3Bhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Bhc3N3b3JkQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwYXNzd29yZCdcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdyZXNldCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9yZXNldC86dG9rZW4nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvbmV3cGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZXRDdHJsJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Jlc2V0J1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgLnN0YXRlKCdhY3RpdmF0ZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9hY3RpdmF0ZS86dG9rZW4nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvYWN0aXZhdGlvbi9hY3RpdmF0ZS5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdlbWFpbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZW1haWwnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgncmVzZW5kJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3Jlc2VuZCcsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9hY3RpdmF0aW9uL3Jlc2VuZC5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZXNlbmRDdHJsJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Jlc2VuZCdcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmludHJvJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnaW50cm8nLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnYm9keUNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaXJlY3RpdmVzL2NvbXBhbnlJbmZvcm1hdGlvbi9jb21wYW55SW50cm9kdWNlLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLnRlcm1zJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAndGVybXMnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnYm9keUNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaXJlY3RpdmVzL2NvbXBhbnlJbmZvcm1hdGlvbi90ZXJtcy50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5wcml2YWN5JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAncHJpdmFjeScsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvY29tcGFueUluZm9ybWF0aW9uL3ByaXZhY3kudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8g6rSA66as7J6QIO2OmOydtOyngFxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5hZG1pbk9yZGVyU3RhdHVzJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnYWRtaW5PcmRlclN0YXR1cycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdhZG1pbkNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvb3JkZXJTdGF0dXMuaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmFkbWluTWVtYmVycycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ2FkbWluTWVtYmVycycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdhZG1pbkNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvbWVtYmVycy5odG1sJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAuYWRtaW5DYXRlZ29yeScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ2FkbWluQ2F0ZWdvcnknLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnYWRtaW5Db250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9wYXJ0aWFsL2NhdGVnb3J5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbk1lbnVDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnbWFpbk1lbnUnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5hZG1pblR5cGVBbmRJdGVtcycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ2FkbWluVHlwZUFuZEl0ZW1zJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2FkbWluQ29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC90eXBlQW5kSXRlbXMuaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmFkbWluR2FsbGVyeScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ2FkbWluR2FsbGVyeScsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdhZG1pbkNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvZ2FsbGVyeS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VwbG9hZGdhbGxlcnlDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndXBsb2FkR2FsbGVyeSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmFkbWluTGFib3JhdG9yeScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ2FkbWluTGFib3JhdG9yeScsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdhZG1pbkNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaXJlY3RpdmVzL2FkbWluL2FkbWluTGFib3JhdG9yeS50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAubWFuYWdlbWVudCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ21hbmFnZW1lbnQnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnYWRtaW5Db250ZW50QGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9ob21lLmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAnbWVudUBhcHAubWFuYWdlbWVudCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9tZW51Lmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAubWFuYWdlbWVudC50eXBlQW5kSXRlbXMudXBkYXRlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3VwZGF0ZVR5cGU6aXRlbV90eXBlJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5tYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvdXBkYXRlL3R5cGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1cGRhdGVUeXBlQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VwZGF0ZVR5cGUnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50LnR5cGVBbmRJdGVtcy51cGRhdGVJdGVtVHlwZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy91cGRhdGVJdGVtOml0ZW1faWQnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC91cGRhdGUvaXRlbVR5cGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1cGRhdGVJdGVtVHlwZUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd1cGRhdGVJdGVtVHlwZSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLm1hbmFnZW1lbnQudHlwZUFuZEl0ZW1zLnVwZGF0ZUl0ZW0nLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvdXBkYXRlL2l0ZW06aXRlbV9pZCcsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAubWFuYWdlbWVudCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9wYXJ0aWFsL3VwZGF0ZS9pdGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXBkYXRlSXRlbUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd1cGRhdGVJdGVtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAubWFuYWdlbWVudC50eXBlQW5kSXRlbXMucmVhZEl0ZW0nLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICc6aXRlbV9pZCcsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAubWFuYWdlbWVudCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9wYXJ0aWFsL3JlYWQvaXRlbS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlYWRJdGVtQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlYWRJdGVtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbn0pO1xyXG5cclxuYXBwLnJ1bihmdW5jdGlvbiAoJHJvb3RTY29wZSwgVXNlciwgJHN0YXRlKSB7XHJcbiAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgIH0pO1xyXG4gICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgZnVuY3Rpb24gKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uZGlyZWN0aXZlKCdhZG1pblVzZXJzJywgW2Z1bmN0aW9uICgpIHtcclxuICAgcmV0dXJuIHtcclxuICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIC8vICByZXF1aXJlOiBbJ2FkbWluVXNlcnMnXSxcclxuICAgICAgIGNvbnRyb2xsZXI6IFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgdmFyIE5hbWVDdHJsID0gdGhpcztcclxuICAgICAgIH1dLFxyXG4gICAgICAgY29udHJvbGxlckFzOiAnTmFtZUN0cmwnLFxyXG4gICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9hZG1pblVzZXJzLnRwbC5odG1sJyxcclxuICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XHJcbiAgICAgICAgICAgLy9cclxuICAgICAgIH1cclxuICAgfTtcclxufV0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2Jhbm5lcicsIFsnJGh0dHAnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYmFubmVyQ3RybCcsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvYmFubmVyLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHBDdHJsID0gY3RybHM7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS9iYW5uZXInKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcEN0cmwuYmFubmVyRGF0YSA9IHJlc3VsdC5kYXRhLmJhbm5lckRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLrtojrn6zsmKTsp4Ag66q77ZWY7JiA7Iq164uI64ukLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuXHJcbi5jb250cm9sbGVyKCdDYXJvdXNlbEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XHJcbiAgICAkc2NvcGUubXlJbnRlcnZhbCA9IDI1MDA7XHJcbiAgICAkc2NvcGUubm9XcmFwU2xpZGVzID0gZmFsc2U7XHJcbiAgICAkc2NvcGUuYWN0aXZlID0gMDtcclxuICAgIHZhciBzbGlkZXMgPSAkc2NvcGUuc2xpZGVzID0gW107XHJcbiAgICB2YXIgY3VyckluZGV4ID0gMDtcclxuXHJcbiAgICAkc2NvcGUuYWRkU2xpZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgbmV3V2lkdGggPSA2MDAgKyBzbGlkZXMubGVuZ3RoICsgMTtcclxuICAgICAgICBzbGlkZXMucHVzaCh7XHJcbiAgICAgICAgICAgIGltYWdlOiBbJy9pbWFnZXMvaXRlbXMvYmFubmVyLzEuanBnJywnL2ltYWdlcy9pdGVtcy9iYW5uZXIvMi5qcGcnLCAnL2ltYWdlcy9pdGVtcy9iYW5uZXIvMy5qcGcnXVtzbGlkZXMubGVuZ3RoICUgM10sXHJcbiAgICAgICAgICAgIGlkOiBjdXJySW5kZXgrK1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUucmFuZG9taXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ZXMgPSBnZW5lcmF0ZUluZGV4ZXNBcnJheSgpO1xyXG4gICAgICAgIGFzc2lnbk5ld0luZGV4ZXNUb1NsaWRlcyhpbmRleGVzKTtcclxuICAgIH07XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHtcclxuICAgICAgICAkc2NvcGUuYWRkU2xpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSYW5kb21pemUgbG9naWMgYmVsb3dcclxuXHJcbiAgICBmdW5jdGlvbiBhc3NpZ25OZXdJbmRleGVzVG9TbGlkZXMoaW5kZXhlcykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gc2xpZGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBzbGlkZXNbaV0uaWQgPSBpbmRleGVzLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUluZGV4ZXNBcnJheSgpIHtcclxuICAgICAgICB2YXIgaW5kZXhlcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VyckluZGV4OyArK2kpIHtcclxuICAgICAgICAgICAgaW5kZXhlc1tpXSA9IGk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzaHVmZmxlKGluZGV4ZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvOTYyODAyIzk2Mjg5MFxyXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkge1xyXG4gICAgICAgIHZhciB0bXAsIGN1cnJlbnQsIHRvcCA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKHRvcCkge1xyXG4gICAgICAgICAgICB3aGlsZSAoLS10b3ApIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodG9wICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgdG1wID0gYXJyYXlbY3VycmVudF07XHJcbiAgICAgICAgICAgICAgICBhcnJheVtjdXJyZW50XSA9IGFycmF5W3RvcF07XHJcbiAgICAgICAgICAgICAgICBhcnJheVt0b3BdID0gdG1wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICB9XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnYm9hcmQnLCBbJyRodHRwJywgZnVuY3Rpb24gKCRodHRwKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmRDdHJsJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9ib2FyZC50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm9hcmRDdHJsID0gY3RybHM7XHJcblxyXG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL2JvYXJkJykudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRDdHJsLmJvYXJkRGF0YSA9IHJlc3VsdC5kYXRhLmJvYXJkRGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBtb21lbnQoYm9hcmRDdHJsLmJvYXJkRGF0YVswXS5jcmVhdGVkLCAnWVlZWS1NTS1ERCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCcpKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG5cclxuICAgIC5jb250cm9sbGVyKCdjcmVhdGVCb2FyZENvbnRyb2xsZXInLCBmdW5jdGlvbiAoJGh0dHAsICRzdGF0ZSkge1xyXG4gICAgICAgIHZhciBjcmVhdGVCb2FyZEN0cmwgPSB0aGlzO1xyXG4gICAgICAgIGNyZWF0ZUJvYXJkQ3RybC5kb1dyaXRlID0gZnVuY3Rpb24gKGJvYXJkRGF0YSkge1xyXG4gICAgICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2JvYXJkJywgYm9hcmREYXRhKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYm9hcmQnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAuY29udHJvbGxlcigncmVhZEJvYXJkQ29udHJvbGxlcicsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsICRzdGF0ZSwgJGh0dHApIHtcclxuICAgICAgICB2YXIgcmVhZEJvYXJkQ3RybCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGFydGljbGVfaWQgPSAkc3RhdGVQYXJhbXMuYXJ0aWNsZV9pZDtcclxuXHJcbiAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS9ib2FyZC8nK2FydGljbGVfaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmVhZEJvYXJkQ3RybC5hcnRpY2xlRGF0YSA9IHJlc3VsdC5kYXRhLmFydGljbGVEYXRhO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdnYWxsZXJ5Q29udGVudCcsIFsnZ2FsbGVyeScsICdMaWdodGJveCcsIGZ1bmN0aW9uIChnYWxsZXJ5LCBMaWdodGJveCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgTmFtZUN0cmwgPSB0aGlzO1xyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2FsbGVyeUN0cmwnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaXJlY3RpdmVzL2dhbGxlcnkudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIHZhciBnYWxsZXJ5Q3RybCA9IGN0cmxzO1xyXG5cclxuICAgICAgICAgICAgICAgIGdhbGxlcnkuZ2V0Q29udGVudCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbGxlcnlDdHJsLmdhbGxlcnlEYXRhID0gcmVzdWx0LmRhdGEuZ2FsbGVyeURhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeUN0cmwuZXJyb3JNc2cgPSByZXN1bHQuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGdhbGxlcnlDdHJsLm9wZW5MaWdodGJveE1vZGFsID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTGlnaHRib3gub3Blbk1vZGFsKGdhbGxlcnlDdHJsLmdhbGxlcnlEYXRhLCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3VwbG9hZGdhbGxlcnlDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJHRpbWVvdXQsICRodHRwLCAkd2luZG93LCAkc3RhdGUpIHtcclxuICAgICAgICB2YXIgYXBwID0gdGhpcztcclxuICAgICAgICB0aGlzLmZpbGUgPSB7fTtcclxuXHJcbi8vIOyeke2SiCDshKTrqoUg7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbiAgICAgICAgdGhpcy5yZWFkSW1hZ2UgPSBmdW5jdGlvbiAoZmlsZXMpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4vLyDsnpHtkogg7ISk66qFICDsnbTrr7jsp4Ag7JeF66Gc65Oc7ZW07IScIOqyveuhnCDsoIDsnqVcclxuICAgICAgICB0aGlzLnVwbG9hZEltYWdlID0gZnVuY3Rpb24gKGl0ZW1UaXRsZSkge1xyXG4vLyDsnpHtkogg7ISk66qFICDsl4XroZzrk5wg7Jes67aAXHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZXhwbGFpblBob3RvID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICBmZC50aXRsZSA9IGl0ZW1UaXRsZTtcclxuICAgICAgICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICAgICAkaHR0cC5wYXRjaCgnL2FwaS9nYWxsZXJ5LycsIGZkLCB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5pbWFnZVBhdGggPSBkYXRhLmRhdGEuaW1hZ2VfcGF0aDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudXBsb2FkR2FsbGVyeSA9IGZ1bmN0aW9uICh0aXRsZSkge1xyXG4gICAgICAgICAgICBnYWxsZXJ5RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHRodW1iVXJsOiBhcHAuaW1hZ2VQYXRoLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBhcHAuaW1hZ2VQYXRoLFxyXG4gICAgICAgICAgICAgICAgY2FwdGlvbjogdGl0bGVcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRodHRwLnBvc3QoJy9hcGkvZ2FsbGVyeScsIGdhbGxlcnlEYXRhKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSByZXN1bHQuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnbWVudUl0ZW0nLCBbJ01lbnUnLCBmdW5jdGlvbiAoTWVudSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwID0gdGhpcztcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ21lbnVJdGVtQ3RybCcsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvbWVudUl0ZW0udHBsLmh0bWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lbnVJdGVtQ3RybCA9IGN0cmxzO1xyXG4gICAgICAgICAgICAgICAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVudUl0ZW1DdHJsLm1haW5NZW51ZXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtQ3RybC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSkiLCJhbmd1bGFyLm1vZHVsZSgnYWRtaW5TZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdBZG1pbicsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBhZG1pbkZhY3RvcnkgPSB7fTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LmRlbGV0ZUl0ZW0gPSBmdW5jdGlvbihpdGVtX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5kZWxldGUoJy9hcGkvaXRlbS8nK2l0ZW1faWQpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5yZWFkQXJpc3RDcm9wID0gZnVuY3Rpb24oYmxvYil7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jcmVhdGVDcm9wSW1hZ2UnLCBibG9iKTtcclxuICB9O1xyXG4gIC8vIEFydGlzdC5jcmVhdGVQaG90byhwaG90b0RhdGEpXHJcbiAgYWRtaW5GYWN0b3J5LmNyZWF0ZUFyaXN0UGhvdG8gPSBmdW5jdGlvbihwaG90b0RhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYXJ0aXN0UHJvZmlsZXMnLCBwaG90b0RhdGEpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5jcmVhdGVJdGVtID0gZnVuY3Rpb24oaXRlbURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvaXRlbScsIGl0ZW1EYXRhKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkucmVhZEl0ZW1zID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvaXRlbScpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5yZWFkSXRlbSA9IGZ1bmN0aW9uKGl0ZW1faWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9pdGVtLycraXRlbV9pZCk7XHJcbiAgfTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT0gdHlwZVNlcnZpY2VzIOyDneyEsSA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cclxuXHJcblxyXG4gIGFkbWluRmFjdG9yeS51cGRhdGVJdGVtVHlwZSA9IGZ1bmN0aW9uKHVwZGF0ZURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9pdGVtVHlwZScsIHVwZGF0ZURhdGEpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5yZWFkVXBkYXRlSXRlbVR5cGUgPSBmdW5jdGlvbihpdGVtX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvaXRlbVR5cGUvJytpdGVtX2lkKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkucmVhZEl0ZW1UeXBlID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvaXRlbVR5cGUnKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkuZGVsZXRlVHlwZSA9IGZ1bmN0aW9uKGl0ZW1fdHlwZV9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZGVsZXRlKCcvYXBpL3R5cGUvJytpdGVtX3R5cGVfaWQpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5yZWFkVXBkYXRlVHlwZSA9IGZ1bmN0aW9uKGl0ZW1fdHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3R5cGUvJytpdGVtX3R5cGUpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS51cGRhdGVVcGRhdGVUeXBlID0gZnVuY3Rpb24odXBkYXRlRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3R5cGUnLCB1cGRhdGVEYXRhKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkuY3JlYXRlVHlwZSA9IGZ1bmN0aW9uKHR5cGVEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3R5cGUnLCB0eXBlRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LnJlYWRUeXBlID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdHlwZScpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBhZG1pbkZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXV0aFNlcnZpY2VzJyxbXSlcclxuXHJcbi5mYWN0b3J5KCdBdXRoJywgZnVuY3Rpb24oJGh0dHAsIEF1dGhUb2tlbil7XHJcbiAgICB2YXIgYXV0aEZhY3RvcnkgPSB7fTtcclxuLy8gQXV0aC5nZXRVc2VyKCk7XHJcbiAgICBhdXRoRmFjdG9yeS5nZXRVc2VyID0gZnVuY3Rpb24oKXtcclxuICAgICAgaWYoQXV0aFRva2VuLmdldFRva2VuKCkpe1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL21lJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHEucmVqZWN0KHttZXNzYWdlOidVc2VyIGhhcyBubyB0b2tlbid9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8vIEF1dGgubG9naW4obG9naW5EYXRhKTtcclxuICAgIGF1dGhGYWN0b3J5LmxvZ2luID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYXV0aGVudGljYXRlJywgbG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIEF1dGhUb2tlbi5zZXRUb2tlbihkYXRhLmRhdGEudG9rZW4pO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmlzTG9nZ2VkSW4oKTtcclxuICAgIGF1dGhGYWN0b3J5LmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpe1xyXG4gICAgICBpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSl7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5sb2dvdXQoKTtcclxuICAgIGF1dGhGYWN0b3J5LmxvZ291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIEF1dGhUb2tlbi5zZXRUb2tlbigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBhdXRoRmFjdG9yeTtcclxufSlcclxuXHJcbi5mYWN0b3J5KCdBdXRoVG9rZW4nLCBmdW5jdGlvbigkd2luZG93KXtcclxuICB2YXIgYXV0aFRva2VuRmFjdG9yeSA9IHt9O1xyXG5cclxuICAvLyBBdXRoVG9rZW4uc2V0VG9rZW4odG9rZW4pO1xyXG4gIGF1dGhUb2tlbkZhY3Rvcnkuc2V0VG9rZW4gPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICBpZih0b2tlbil7XHJcbiAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuLy8gQXV0aFRva2VuLmdldFRva2VuKCk7XHJcbiAgYXV0aFRva2VuRmFjdG9yeS5nZXRUb2tlbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuICB9O1xyXG4gIHJldHVybiBhdXRoVG9rZW5GYWN0b3J5O1xyXG59KVxyXG5cclxuLmZhY3RvcnkoJ0F1dGhJbnRlcmNlcHRvcnMnLCBmdW5jdGlvbihBdXRoVG9rZW4pe1xyXG4gIHZhciBhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeSA9IHt9O1xyXG5cclxuICBhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeS5yZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKXtcclxuICAgIHZhciB0b2tlbiA9IEF1dGhUb2tlbi5nZXRUb2tlbigpO1xyXG5cclxuICAgIGlmKHRva2VuKSBjb25maWcuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSA9IHRva2VuO1xyXG5cclxuICAgIHJldHVybiBjb25maWc7XHJcbiAgfTtcclxuICByZXR1cm4gYXV0aEludGVyY2VwdG9yc0ZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ2FsbGVyeVNlcnZpY2VzJyxbXSlcclxuICAgIC5mYWN0b3J5KCdnYWxsZXJ5JywgZnVuY3Rpb24oJGh0dHApe1xyXG4gICAgICAgIGdhbGxlcnlGYWN0b3J5ID0ge307XHJcblxyXG4gICAgICAgIC8vZ2FsbGVyeS5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgZ2FsbGVyeUZhY3RvcnkuZ2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBnYWxsZXJ5RmFjdG9yeTtcclxuICAgIH0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWVudVNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ01lbnUnLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgbWVudUZhY3RvcnkgPSB7fTtcclxuXHJcbiAgbWVudUZhY3RvcnkuZGVsZXRlTWVudSA9IGZ1bmN0aW9uKGNhdGVnb3J5X2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5kZWxldGUoJy9hcGkvbWVudS8nK2NhdGVnb3J5X2lkKTtcclxuICB9O1xyXG5cclxuICBtZW51RmFjdG9yeS51cGRhdGVNZW51ID0gZnVuY3Rpb24odXBkYXRlRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL21lbnUvJywgdXBkYXRlRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgbWVudUZhY3RvcnkuY3JlYXRlTWVudSA9IGZ1bmN0aW9uKG1lbnVEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL21lbnUnLCBtZW51RGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgbWVudUZhY3RvcnkucmVhZE1haW5NZW51ID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWVudScpO1xyXG4gIH07XHJcbiAgbWVudUZhY3RvcnkucmVhZFN1Yk1lbnUgPSAgZnVuY3Rpb24obWFpbk1lbnVUeXBlKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWVudS8nK21haW5NZW51VHlwZSk7XHJcbiAgfTtcclxuICByZXR1cm4gbWVudUZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnb3JkZXJTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdPcmRlcicsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBvcmRlckZhY3RvcnkgPSB7fTtcclxuICBcclxuICBvcmRlckZhY3RvcnkudXBkYXRlRGVsaXZlcnkgPSBmdW5jdGlvbihkZWxpRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2RlbGl2ZXJ5LycrZGVsaURhdGEudXNlcl9pZCwgZGVsaURhdGEpO1xyXG4gIH07XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5jcmVhdGVEZWxpdmVyeSA9IGZ1bmN0aW9uKGRlbGlEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2RlbGl2ZXJ5JyxkZWxpRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgb3JkZXJGYWN0b3J5LmRlbGV0ZUJhc2tldCA9IGZ1bmN0aW9uKGJhc2tldF9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZGVsZXRlKCcvYXBpL2Jhc2tldC8nK2Jhc2tldF9pZCk7XHJcbiAgfTtcclxuXHJcbiAgb3JkZXJGYWN0b3J5LnJlYWRCYXNrZXQ9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2Jhc2tldCcpO1xyXG4gIH07XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5jcmVhdGVCYXNrZXQgPSBmdW5jdGlvbihiYXNrZXREYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2Jhc2tldCcsIGJhc2tldERhdGEpO1xyXG4gIH07XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5kZWxldGVPcmRlciA9IGZ1bmN0aW9uKGl0ZW1faWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS9tYWtlT3JkZXIvJytpdGVtX2lkKTtcclxuICB9O1xyXG5cclxuICBvcmRlckZhY3RvcnkucmVhZE9yZGVyID0gZnVuY3Rpb24odXNlcl9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21ha2VPcmRlci8nK3VzZXJfaWQpO1xyXG4gIH07XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5yZWFkT3JkZXJBbmREZWxpID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbWFrZU9yZGVyJyk7XHJcbiAgfTtcclxuXHJcbiAgb3JkZXJGYWN0b3J5LmNyZWF0ZU9yZGVyID0gZnVuY3Rpb24ob3JkZXJEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL21ha2VPcmRlcicsb3JkZXJEYXRhKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gb3JkZXJGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdVc2VyJywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIHVzZXJGYWN0b3J5ID0ge307XHJcblxyXG4gIHVzZXJGYWN0b3J5LmdldFBlcm1pc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wZXJtaXNzaW9uJyk7XHJcbiAgfTtcclxuLy8gVXNlci5jcmVhdGUocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuYWN0aXZlQWNjb3VudCh0b2tlbik7XHJcbiAgdXNlckZhY3RvcnkuYWN0aXZlQWNjb3VudCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYWN0aXZhdGUvJyt0b2tlbik7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuY2hlY2tDcmVkZW50aWFscyhsb2dpbkRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcmVzZW5kJywgbG9naW5EYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNlbmRMaW5rKHVzZXJuYW1lKVxyXG4gIHVzZXJGYWN0b3J5LnJlc2VuZExpbmsgPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Jlc2VuZCcsIHVzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kVXNlcm5hbWUodXNlckRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVzZXR1c2VybmFtZS8nK3VzZXJEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kUGFzc3dvcmQocmVzZXREYXRhKTtcclxuICB1c2VyRmFjdG9yeS5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9yZXNldHBhc3N3b3JkJywgcmVzZXREYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNldFBhc3N3b3JkKHRva2VuKTtcclxuICB1c2VyRmFjdG9yeS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZXNldHBhc3N3b3JkLycrdG9rZW4pO1xyXG4gIH07XHJcblxyXG5cclxuLy8gVXNlci5zYXZlUGFzc3dvcmQocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc2F2ZXBhc3N3b3JkJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vICBVc2VyLnJlbmV3U2Vzc2lvbih1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZW5ld1Nlc3Npb24gPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3JlbmV3VG9rZW4vJysgdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG5cclxuICByZXR1cm4gdXNlckZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYmFubmVyQ29udHJvbGxlcicsIFtdKVxyXG4uY29udHJvbGxlcigndXBsb2FkQmFubmVyQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwkdGltZW91dCwkaHR0cCwgJHdpbmRvdywgJHN0YXRlKXtcclxudmFyIGFwcCA9IHRoaXM7XHJcbnRoaXMuZmlsZSA9IHt9O1xyXG5cclxuLy8g7J6R7ZKIIOyEpOuqhSDsnbTrr7jsp4Ag7JeF66Gc65OcIOuQmOyXiOuKlOyngCDrs7Tsl6zso7zquLBcclxudGhpcy5yZWFkSW1hZ2UgPSBmdW5jdGlvbihmaWxlcykge1xyXG4kc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZXNbMF0ubmFtZS5tYXRjaCgvXFwuKHBuZ3xqcGVnfGpwZykkLykpIHtcclxuICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgfVxyXG4gIH07XHJcblxyXG4vLyDsnpHtkogg7ISk66qFICDsnbTrr7jsp4Ag7JeF66Gc65Oc7ZW07IScIOqyveuhnCDsoIDsnqVcclxudGhpcy51cGxvYWRCYW5uZXIgPSBmdW5jdGlvbigpe1xyXG4vLyDsnpHtkogg7ISk66qFICDsl4XroZzrk5wg7Jes67aAXHJcbiAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgYXBwLmV4cGxhaW5QaG90byA9IGZhbHNlO1xyXG4gIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgJGh0dHAucG9zdCgnL2FwaS9iYW5uZXIvJywgZmQse1xyXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIGFwcC5leHBsYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2dldEJhbm5lckN0cmwnLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICRodHRwLmdldCgnL2FwaS9iYW5uZXInKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XHJcbiAgICBpZihyZXN1bHQuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuYmFubmVyRGF0YSA9IHJlc3VsdC5kYXRhLmJhbm5lckRhdGE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIuu2iOufrOyYpOyngCDrqrvtlZjsmIDsirXri4jri6QuXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuIiwiICBhbmd1bGFyLm1vZHVsZSgnaXRlbUNvbnRyb2xsZXJzJyxbJ29yZGVyU2VydmljZXMnXSlcclxuICAuZmlsdGVyKCdzdW1CeUtleScsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCwgcHJvcGVydHkpIHtcclxuICAgIHZhciBpID0gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSA/IGlucHV0Lmxlbmd0aCA6IDA7XHJcbi8vIGlmIHByb3BlcnR5IGlzIG5vdCBkZWZpbmVkLCByZXR1cm5zIGxlbmd0aCBvZiBhcnJheVxyXG4vLyBpZiBhcnJheSBoYXMgemVybyBsZW5ndGggb3IgaWYgaXQgaXMgbm90IGFuIGFycmF5LCByZXR1cm4gemVyb1xyXG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ3VuZGVmaW5lZCcgfHwgaSA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBpO1xyXG4vLyB0ZXN0IGlmIHByb3BlcnR5IGlzIG51bWJlciBzbyBpdCBjYW4gYmUgY291bnRlZFxyXG4gICAgfVxyXG4gICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciB0b3RhbCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKGktLSlcclxuICAgICAgICAgICAgdG90YWwgKz0gKGlucHV0W2ldW3Byb3BlcnR5WzBdXSAqIGlucHV0W2ldW3Byb3BlcnR5WzFdXSk7XHJcbiAgICAgICAgcmV0dXJuIHRvdGFsO1xyXG4gICAgfVxyXG59O1xyXG59KVxyXG4uY29udHJvbGxlcignZ2V0VHlwZUl0ZW1zQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsICRodHRwKSB7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gIHZhciBjYXRlZ29yeV9pZCA9ICRzdGF0ZVBhcmFtcy5jYXRlZ29yeV9pZDtcclxuICBpZighJHN0YXRlUGFyYW1zLnR5cGVfY29kZSl7XHJcbiAgICAkaHR0cC5nZXQoJy9hcGkvaXRlbV90eXBlLycrY2F0ZWdvcnlfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aCA9PT0gMCApe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+uTseuhneuQnCDsg4HtkojsnbQg7JeG7Iq164uI64ukLic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5pdGVtc0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHZhciB0eXBlX2NvZGUgPSAgJHN0YXRlUGFyYW1zLnR5cGVfY29kZTtcclxuICAgICRodHRwLmdldCgnL2FwaS9pdGVtX3R5cGUvJytjYXRlZ29yeV9pZCxcclxuICAgIHsgIHBhcmFtczoge3R5cGVfY29kZSA6IHR5cGVfY29kZSB9fVxyXG4gICkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5yZXN1bHQubGVuZ3RoID09PSAwICl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn65Ox66Gd65CcIOyDge2SiOydtCDsl4bsirXri4jri6QuJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLml0ZW1zRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2dldFR5cGVJdGVtQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGVQYXJhbXMsICR3aW5kb3csICRzdGF0ZSwgT3JkZXIpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBpdGVtX2lkID0gJHN0YXRlUGFyYW1zLml0ZW1faWQ7XHJcbiAgYXBwLm9wdGlvbkl0ZW0gPSBmYWxzZTtcclxuXHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuICAgYXBwLmFtb3VudCA9IDE7XHJcblxyXG4gICBhcHAub3B0aW9uTGlzdCA9IFtdO1xyXG4gICB0aGlzLmFkZEl0ZW0gPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICBpZihkYXRhLmlkID09PSAwKXtcclxuICAgICAgICAkd2luZG93LmFsZXJ0KCfsmLXshZjsnYQg7ISg7YOd7ZW07KO87IS47JqULicpO1xyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICBhcHAub3B0aW9uSXRlbSA9IHRydWU7XHJcbiAgICAgICBhcHAub3B0aW9uTGlzdC5wdXNoKFxyXG4gICAgICAgICAgIHtcclxuICAgICAgICAgICAgIGtpbmQ6IGRhdGEubmFtZSxcclxuICAgICAgICAgICAgIHByaWNlOiBkYXRhLmlkLFxyXG4gICAgICAgICAgICAgYW1vdW50OiAxXHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICApO1xyXG5cclxuICAgICB9XHJcbiAgIH07XHJcblxyXG4gIHRoaXMuY3JlYXRlQmFza2V0ID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICB2YXIgYmFza2V0RGF0YSA9IHtcclxuICAgICAgaXRlbV9pZDogZGF0YS5pdGVtX2lkLFxyXG4gICAgfTtcclxuICAgIE9yZGVyLmNyZWF0ZUJhc2tldChiYXNrZXREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuY3JlYXRlT3JkZXIgPSBmdW5jdGlvbihkYXRhKXtcclxuXHJcbiAgICB2YXIgb3JkZXJEYXRhID0ge1xyXG4gICAgICBpdGVtX2lkOiBkYXRhLml0ZW1faWQsXHJcbiAgICAgIGFtb3VudDogZGF0YS5hbW91bnQsXHJcbiAgICAgIGtpbmRfb2Y6IGRhdGEua2luZF9vZixcclxuICAgICAgcHJpY2U6IGRhdGEucHJpY2VcclxuICAgIH07XHJcblxyXG4gICAgT3JkZXIuY3JlYXRlT3JkZXIob3JkZXJEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcC5tYWtlT3JkZXInKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gIH07XHJcblxyXG4gIEFkbWluLnJlYWRJdGVtKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIHZhciBraW5kID0gZGF0YS5kYXRhLnJlc3VsdC5raW5kLnNwbGl0KCcsJyk7XHJcbiAgICAgIHZhciB0ZW1wID0gZGF0YS5kYXRhLnJlc3VsdC5wcmljZS5zcGxpdCgnLCcpO1xyXG4gICAgICB2YXIgcHJpY2UgPSBbXTtcclxuICAgICAgZm9yKGk9MDtpPHRlbXAubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgcHJpY2VbaV0gPSBOdW1iZXIodGVtcFtpXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFwcC5pdGVtRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcblxyXG4gICAgICBmb3IoaT0wOyBpPHByaWNlLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICBuYW1lOiBraW5kW2ldLFxyXG4gICAgICAgICAgaWQ6IHByaWNlW2ldXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ21hbmFnZW1lbnRDb250cm9sbGVycycsIFsnYWRtaW5TZXJ2aWNlcycsICdtZW51U2VydmljZXMnLCAnb3JkZXJTZXJ2aWNlcyddKVxyXG5cclxuLmNvbnRyb2xsZXIoJ3JlYWRJdGVtc0N0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBBZG1pbi5yZWFkSXRlbXMoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5pdGVtc0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHRoaXMuZGVsZXRlSXRlbSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICB2YXIgaXRlbV9pZCA9IGRhdGEuaXRlbV9pZDtcclxuICAgIEFkbWluLmRlbGV0ZUl0ZW0oaXRlbV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3JlYWRJdGVtQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGVQYXJhbXMsICRzY29wZSwgT3JkZXIsICR3aW5kb3cpe1xyXG5cclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgdmFyIGl0ZW1faWQgPSAkc3RhdGVQYXJhbXMuaXRlbV9pZDtcclxuICAgIGFwcC5kYXRhID0ge1xyXG4gICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgIHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG4gICAgIGFwcC5hbW91bnQgPSAxO1xyXG5cclxuICAgIEFkbWluLnJlYWRJdGVtKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICB2YXIga2luZCA9IGRhdGEuZGF0YS5yZXN1bHQua2luZC5zcGxpdCgnLCcpO1xyXG4gICAgICAgIHZhciB0ZW1wID0gZGF0YS5kYXRhLnJlc3VsdC5wcmljZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgIHZhciBwcmljZSA9IFtdO1xyXG4gICAgICAgIGZvcihpPTA7aTx0ZW1wLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgcHJpY2VbaV0gPSBOdW1iZXIodGVtcFtpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFwcC5pdGVtRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24gPSB7XHJcbiAgICAgICAgICBpZCA6IHByaWNlWzBdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZm9yKGk9MDsgaTxwcmljZS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGtpbmRbaV0sXHJcbiAgICAgICAgICAgIGlkOiBwcmljZVtpXVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG59KVxyXG5cclxuXHJcblxyXG5cclxuLmNvbnRyb2xsZXIoJ3VwZGF0ZUl0ZW1DdHJsJywgZnVuY3Rpb24oQWRtaW4sICRzdGF0ZVBhcmFtcywgJHNjb3BlLCAkaHR0cCwgJHRpbWVvdXQsICAkc3RhdGUsICR3aW5kb3csIE1lbnUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBpdGVtX2lkID0gJHN0YXRlUGFyYW1zLml0ZW1faWQ7XHJcblxyXG4gICAgICAgICBhcHAuZGF0YSA9IHtcclxuICAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBhcHAuZGF0YTIgPSB7XHJcbiAgICAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBNZW51LnJlYWRNYWluTWVudSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICAgICAgbmFtZTogdHlwZVtpXS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICBpZDogdHlwZVtpXS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHRoaXMucmVhZE1lbnUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5yZWFkTWVudVN0YXR1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZihkYXRhLmlkID09PSAwKXtcclxuICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHZhciBjYXRlZ29yeV9pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL21lbnUvJytjYXRlZ29yeV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgIC8vIOy0iOq4sO2ZlCDsi5ztgrRcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnJlc3VsdC5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kYXRhMiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn65Ox66Gd65CcIOyDge2SiOydtCDsl4bsirXri4jri6QuJyk7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnJlYWRNZW51U3RhdHVzID0gdHJ1ZTtcclxuICAgIC8vIOy0iOq4sO2ZlCDsi5zsvJzslbztlZjripTrjbAg7Ja065a76rKMIO2VoOq5jOyalFxyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kYXRhMiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5kYXRhMi5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0udHlwZV9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHR5cGVbaV0uaXRlbV90eXBlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgQWRtaW4ucmVhZEl0ZW0oaXRlbV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAuaXRlbURhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbiA9IHtcclxuICAgICAgICBpZCA6IGFwcC5pdGVtRGF0YS5jYXRlZ29yeV9pZFxyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB0aGlzLnVwZGF0ZUl0ZW0gPSBmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgaWYoYXBwLnJlYWRNZW51U3RhdHVzKXtcclxuICAgICAgaWYoZGF0YS5pdGVtX3R5cGUgPT09IDAgfHwgZGF0YS5pdGVtX3R5cGUgPT09ICcwJyl7XHJcbiAgICAgICAgJHdpbmRvdy5hbGVydCgn7IOB7ZKIIOu2hOulmOulvCDshKDtg53tlbTso7zshLjsmpQuIScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgICAgdHlwZTogZGF0YS5pdGVtX3R5cGUsXHJcbiAgICAgICAgICBpdGVtX25hbWU6IGRhdGEuaXRlbV9uYW1lLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJGh0dHAucHV0KCcvYXBpL2l0ZW0vJytpdGVtX2lkLCB1cGRhdGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB1cGRhdGVEYXRhMiA9IHtcclxuICAgICAgICAgIHR5cGU6IGFwcC5pdGVtRGF0YS5pdGVtX3R5cGVfaWQsXHJcbiAgICAgICAgICBpdGVtX25hbWU6IGRhdGEuaXRlbV9uYW1lLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJGh0dHAucHV0KCcvYXBpL2l0ZW0vJytpdGVtX2lkLCB1cGRhdGVEYXRhMikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcblxyXG59O1xyXG5cclxuXHJcbiAgLy8g7YyM7J287J2YIOqyveuhnOunjCDsoIDsnqXtlZjquLAg66mU7J24IOydtOuvuOyngCDrp4zrk6TquLBcclxuICAgICAgdGhpcy5maWxlID0ge307XHJcbiAgLy8g66mU7J24IOyeke2SiOydtOuvuOyngCDsl4XroZzrk5wg65CY7JeI64qU7KeAIOuztOyXrOyjvOq4sFxyXG4gICAgICB0aGlzLm1haW5QaG90b0NoYW5nZWQgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZXNbMF0ubmFtZS5tYXRjaCgvXFwuKHBuZ3xqcGVnfGpwZykkLykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gIC8vIOuplOyduCDsnpHtkogg7J2066+47KeAIOyXheuhnOuTnO2VtOyEnCDqsr3roZwg7KCA7J6lXHJcbiAgICAgIHRoaXMucmVhZFBob3RvID0gZnVuY3Rpb24oKXtcclxuICAvLyDrqZTsnbgg7J2066+47KeAIOyXheuhnOuTnCDsl6zrtoBcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICBhcHAubWFpblBob3RvID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmZC5hcHBlbmQoJ215ZmlsZScsIGFwcC5maWxlLnVwbG9hZCk7XHJcbiAgICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2NyZWF0ZVBob3RvSW1hZ2UvJywgZmQse1xyXG4gICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBhcHAubWFpblBob3RvID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgICAgICAgIGltYWdlOiBkYXRhLmRhdGEuaXRlbV9wYXRoXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRodHRwLnB1dCgnL2FwaS9pdGVtLycraXRlbV9pZCwgdXBkYXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gIC8vIOyeke2SiCDshKTrqoUg7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbiAgICAgIHRoaXMuZXhwbGFpblBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgLy8g7J6R7ZKIIOyEpOuqhSAg7J2066+47KeAIOyXheuhnOuTnO2VtOyEnCDqsr3roZwg7KCA7J6lXHJcbiAgICAgIHRoaXMucmVhZFBob3RvRXhwbGFpbiA9IGZ1bmN0aW9uKCl7XHJcbiAgLy8g7J6R7ZKIIOyEpOuqhSAg7JeF66Gc65OcIOyXrOu2gFxyXG4gICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgIGFwcC5leHBsYWluUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAgICRodHRwLnBvc3QoJy9hcGkvY3JlYXRlUGhvdG9FeHBsYWluLycsIGZkLHtcclxuICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcbiAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgYXBwLmV4cGxhaW5QaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgICAgICAgICBleHBsYWluOiBkYXRhLmRhdGEuaXRlbV9wYXRoXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRodHRwLnB1dCgnL2FwaS9pdGVtLycraXRlbV9pZCwgdXBkYXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgLy8g7I2464Sk7J28IOydtOuvuOyngCDrp4zrk6TquLBcclxuICAgICAgICBhcHAubXlJbWFnZT0nJztcclxuICAgICAgICBhcHAubXlDcm9wcGVkSW1hZ2U9Jyc7XHJcblxyXG4gICAgICAgIHZhciBoYW5kbGVGaWxlU2VsZWN0PWZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICB2YXIgZmlsZT1ldnQuY3VycmVudFRhcmdldC5maWxlc1swXTtcclxuICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgYXBwLm15SW1hZ2U9ZXZ0LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVJbnB1dCcpKS5vbignY2hhbmdlJyxoYW5kbGVGaWxlU2VsZWN0KTtcclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiBkZWNvZGVCYXNlNjRJbWFnZShkYXRhU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gZGF0YVN0cmluZy5tYXRjaCgvXmRhdGE6KFtBLVphLXotK1xcL10rKTtiYXNlNjQsKC4rKSQvKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCAhPT0gMykge1xyXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgaW5wdXQgc3RyaW5nJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlIDogbWF0Y2hlc1sxXSxcclxuICAgICAgICAgICAgICAgIGRhdGEgOiBtYXRjaGVzWzJdXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICByZXR1cm4gZmlsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAvLyDsjbjrhKTsnbwg7J2066+47KeAIOuhnOy7rOuUlOyKpO2BrOyXkCDsoIDsnqUg7ZuEIOyggOyepSDsnITsuZgg6rCA7KC47Jik6riwXHJcbiAgICAgICAgICB0aGlzLnJlYWRDcm9wSW1hZ2UgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC50aHVtYm5haWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYoZGF0YS5iYXNlNjRVcmwgPT09ICcnIHx8IGRhdGEuYmFzZTY0VXJsID09PSBudWxsIHx8IGRhdGEuYmFzZTY0VXJsID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IGRlY29kZUJhc2U2NEltYWdlKCRzY29wZS5teUNyb3BwZWRJbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgIEFkbWluLnJlYWRBcmlzdENyb3AoYmxvYikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbDogZGF0YS5kYXRhLmZpbGVQYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgJGh0dHAucHV0KCcvYXBpL2l0ZW0vJytpdGVtX2lkLCB1cGRhdGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuXHJcbn0pXHJcblxyXG5cclxuXHJcbi5jb250cm9sbGVyKCdjcmVhdGVJdGVtQ3RybCcsIGZ1bmN0aW9uICgkaHR0cCwgJHRpbWVvdXQsICRzY29wZSwgQWRtaW4sICRzdGF0ZSwgJHdpbmRvdywgTWVudSkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG5cclxuICAgICAgYXBwLmtpbmRMaXN0ID0gW107XHJcbiAgICAgIGFwcC50eXBlX3RpbnkgPSBbXTtcclxuICAgICAgYXBwLnR5cGVfcHJpY2UgPSBbXTtcclxuXHJcbiAgICAgIHRoaXMuYWRkTGluZSA9IGZ1bmN0aW9uKGtpbmREYXRhKXtcclxuICAgICAgICBpZigha2luZERhdGEpe1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydCgn7KCV7ZmV7ZWcIOqwkuydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmKGtpbmREYXRhLmtpbmRWYWx1ZSA9PT0gbnVsbCB8fCBraW5kRGF0YS5raW5kVmFsdWUgPT09IHVuZGVmaW5lZCB8fCBraW5kRGF0YS5raW5kVmFsdWUgPT09ICcnKVxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsmLXshZjrqoXsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGtpbmREYXRhLmtpbmRQcmljZSA9PT0gbnVsbCB8fCBraW5kRGF0YS5raW5kUHJpY2UgPT09IHVuZGVmaW5lZCB8fCBraW5kRGF0YS5raW5kUHJpY2UgPT09ICcnKXtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7Ji17IWYIOqwgOqyqeydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHAua2luZExpc3QucHVzaChcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBraW5kOiBraW5kRGF0YS5raW5kVmFsdWUsXHJcbiAgICAgICAgICAgICAgICBwcmljZToga2luZERhdGEua2luZFByaWNlXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBhcHAudHlwZV90aW55LnB1c2goa2luZERhdGEua2luZFZhbHVlKTtcclxuICAgICAgICAgICAgYXBwLnR5cGVfcHJpY2UucHVzaChraW5kRGF0YS5raW5kUHJpY2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH07XHJcblxyXG4gICAgIGFwcC5kYXRhID0ge1xyXG4gICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICBdLFxyXG4gICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhcHAuZGF0YTIgPSB7XHJcbiAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0ubmFtZSxcclxuICAgICAgICAgICAgICBpZDogdHlwZVtpXS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5yZWFkTWVudSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuaWQgPT09IDApe1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydCgn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGNhdGVnb3J5X2lkID0gZGF0YS5pZDtcclxuICAgICAgICAgICRodHRwLmdldCgnL2FwaS9tZW51LycrY2F0ZWdvcnlfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuLy8g7LSI6riw7ZmUIOyLnO2CtFxyXG4gICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5yZXN1bHQubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgICAgIGFwcC5kYXRhMiA9IHtcclxuICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+uTseuhneuQnCDsg4HtkojsnbQg7JeG7Iq164uI64ukLicpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vIOy0iOq4sO2ZlCDsi5zsvJzslbztlZjripTrjbAg7Ja065a76rKMIO2VoOq5jOyalFxyXG4gICAgICAgICAgICAgICAgYXBwLmRhdGEyID0ge1xyXG4gICAgICAgICAgICAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZGF0YTIuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0udHlwZV9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBpZDogdHlwZVtpXS5pdGVtX3R5cGVfaWRcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuXHJcbi8vIO2MjOydvOydmCDqsr3roZzrp4wg7KCA7J6l7ZWY6riwIOuplOyduCDsnbTrr7jsp4Ag66eM65Ok6riwXHJcbiAgICB0aGlzLmZpbGUgPSB7fTtcclxuLy8g66mU7J24IOyeke2SiOydtOuvuOyngCDsl4XroZzrk5wg65CY7JeI64qU7KeAIOuztOyXrOyjvOq4sFxyXG4gICAgdGhpcy5tYWluUGhvdG9DaGFuZ2VkID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZXNbMF0ubmFtZS5tYXRjaCgvXFwuKHBuZ3xqcGVnfGpwZykkLykpIHtcclxuICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG5cclxuLy8g66mU7J24IOyeke2SiCDsnbTrr7jsp4Ag7JeF66Gc65Oc7ZW07IScIOqyveuhnCDsoIDsnqVcclxuICAgIHRoaXMucmVhZFBob3RvID0gZnVuY3Rpb24oKXtcclxuLy8g66mU7J24IOydtOuvuOyngCDsl4XroZzrk5wg7Jes67aAXHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICBhcHAubWFpblBob3RvID0gZmFsc2U7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICBmZC5hcHBlbmQoJ215ZmlsZScsIGFwcC5maWxlLnVwbG9hZCk7XHJcbiAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9jcmVhdGVQaG90b0ltYWdlLycsIGZkLHtcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGFwcC5tYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAubWFpbkltYWdlUGF0aCA9IGRhdGEuZGF0YS5pdGVtX3BhdGg7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuLy8g7J6R7ZKIIOyEpOuqhSDsnbTrr7jsp4Ag7JeF66Gc65OcIOuQmOyXiOuKlOyngCDrs7Tsl6zso7zquLBcclxuICAgIHRoaXMuZXhwbGFpblBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuXHJcbi8vIOyeke2SiCDshKTrqoUgIOydtOuvuOyngCDsl4XroZzrk5ztlbTshJwg6rK966GcIOyggOyepVxyXG4gICAgdGhpcy5yZWFkUGhvdG9FeHBsYWluID0gZnVuY3Rpb24oKXtcclxuLy8g7J6R7ZKIIOyEpOuqhSAg7JeF66Gc65OcIOyXrOu2gFxyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgYXBwLmV4cGxhaW5QaG90byA9IGZhbHNlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9hcGkvY3JlYXRlUGhvdG9FeHBsYWluLycsIGZkLHtcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGFwcC5leHBsYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXhwbGFpbkltYWdlUGF0aCA9IGRhdGEuZGF0YS5pdGVtX3BhdGg7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuXHJcbi8vIOyNuOuEpOydvCDsnbTrr7jsp4Ag66eM65Ok6riwXHJcbiAgICAgIGFwcC5teUltYWdlPScnO1xyXG4gICAgICBhcHAubXlDcm9wcGVkSW1hZ2U9Jyc7XHJcblxyXG4gICAgICB2YXIgaGFuZGxlRmlsZVNlbGVjdD1mdW5jdGlvbihldnQpIHtcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICB2YXIgZmlsZT1ldnQuY3VycmVudFRhcmdldC5maWxlc1swXTtcclxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAubXlJbWFnZT1ldnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgIH07XHJcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlSW5wdXQnKSkub24oJ2NoYW5nZScsaGFuZGxlRmlsZVNlbGVjdCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRlY29kZUJhc2U2NEltYWdlKGRhdGFTdHJpbmcpIHtcclxuICAgICAgICAgIHZhciBtYXRjaGVzID0gZGF0YVN0cmluZy5tYXRjaCgvXmRhdGE6KFtBLVphLXotK1xcL10rKTtiYXNlNjQsKC4rKSQvKTtcclxuXHJcbiAgICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggIT09IDMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCBpbnB1dCBzdHJpbmcnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxlID0ge1xyXG4gICAgICAgICAgICAgIHR5cGUgOiBtYXRjaGVzWzFdLFxyXG4gICAgICAgICAgICAgIGRhdGEgOiBtYXRjaGVzWzJdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiBmaWxlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbi8vIOyNuOuEpOydvCDsnbTrr7jsp4Ag66Gc7Lus65SU7Iqk7YGs7JeQIOyggOyepSDtm4Qg7KCA7J6lIOychOy5mCDqsIDsoLjsmKTquLBcclxuICAgICAgICB0aGlzLnJlYWRDcm9wSW1hZ2UgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgYXBwLnRodW1ibmFpbCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGlmKGRhdGEuYmFzZTY0VXJsID09PSAnJyB8fCBkYXRhLmJhc2U2NFVybCA9PT0gbnVsbCB8fCBkYXRhLmJhc2U2NFVybCA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBibG9iID0gZGVjb2RlQmFzZTY0SW1hZ2UoJHNjb3BlLm15Q3JvcHBlZEltYWdlKTtcclxuICAgICAgICAgICAgICAgIEFkbWluLnJlYWRBcmlzdENyb3AoYmxvYikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbFBhdGggPSBkYXRhLmRhdGEuZmlsZVBhdGg7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG5cclxuLy8g7J6R6rCAIOyeke2SiCDsl4XroZzrk5xcclxuICAgICAgdGhpcy5jcmVhdGVQaG90byA9IGZ1bmN0aW9uKHVwbG9hZERhdGEpe1xyXG4gICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgIGlmKHVwbG9hZERhdGEgPT09IHVuZGVmaW5lZCB8fCB1cGxvYWREYXRhID09PSBudWxsIHx8IHVwbG9hZERhdGEgPT09ICcnKXtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+u5iOy5uOydhCDrqqjrkZAg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmKGFwcC5kYXRhMi5zZWxlY3RlZE9wdGlvbi5pZCA9PT0gJzAnKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+yDge2SiCDrtoTrpZjsnYQg7ISg7YOd7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKHVwbG9hZERhdGEudGl0bGUgPT09IHVuZGVmaW5lZCB8fCB1cGxvYWREYXRhLnRpdGxlID09PSAgbnVsbCB8fCB1cGxvYWREYXRhLnRpdGxlPT09ICcnKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+yDge2SiCDsoJzrqqnrpbwg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gICBlbHNlIGlmKGFwcC5tYWluSW1hZ2VQYXRoID09PSB1bmRlZmluZWQgfHwgYXBwLm1haW5JbWFnZVBhdGggPT09ICBudWxsIHx8IGFwcC5tYWluSW1hZ2VQYXRoID09PSAnJyl7XHJcbiAgICAgICAgICAvLyAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAvLyAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgLy8gICAkd2luZG93LmFsZXJ0KCfsg4Htkogg7J2066+47KeA66W8IOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIC8vIH1cclxuICAgICAgICAgIC8vIGVsc2UgaWYoYXBwLmV4cGxhaW5JbWFnZVBhdGggPT09IHVuZGVmaW5lZCB8fCBhcHAuZXhwbGFpbkltYWdlUGF0aCA9PT0gbnVsbCB8fCBhcHAuZXhwbGFpbkltYWdlUGF0aCA9PT0gJycpIHtcclxuICAgICAgICAgIC8vICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgIC8vICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAvLyAgICR3aW5kb3cuYWxlcnQoJ+yDge2SiCDshKTrqoUg7J2066+47KeA66W8IOyXheuhnOuTnO2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIC8vIH0gZWxzZSBpZihhcHAudGh1bWJuYWlsUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC50aHVtYm5haWxQYXRoID09PSBudWxsIHx8IGFwcC50aHVtYm5haWxQYXRoID09PSAnJykge1xyXG4gICAgICAgICAgLy8gICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgLy8gICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIC8vICAgJHdpbmRvdy5hbGVydCgn7I2464Sk7J28IOydtOuvuOyngOulvCDsl4XroZzrk5ztlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAudXBsb2FkRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiB1cGxvYWREYXRhLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogYXBwLmRhdGEyLnNlbGVjdGVkT3B0aW9uLmlkLFxyXG4gICAgICAgICAgICAgICAgLy8gdGh1bWJuYWlsOiBhcHAudGh1bWJuYWlsUGF0aCxcclxuICAgICAgICAgICAgICAgIC8vIGV4cGxhaW46IGFwcC5leHBsYWluSW1hZ2VQYXRoLFxyXG4gICAgICAgICAgICAgICAgLy8gaW1hZ2U6IGFwcC5tYWluSW1hZ2VQYXRoLFxyXG4gICAgICAgICAgICAgICAga2luZDogYXBwLnR5cGVfdGlueS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgcHJpY2U6IGFwcC50eXBlX3ByaWNlLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIEFkbWluLmNyZWF0ZUl0ZW0oYXBwLnVwbG9hZERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWVudUNvbnRyb2xsZXJzJyxbJ21lbnVTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignbWFpbk1lbnVDdHJsJywgZnVuY3Rpb24gKE1lbnUsICRzdGF0ZSkge1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICB0aGlzLmNyZWF0ZU1lbnUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgaWYoZGF0YSA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgbWVudURhdGEgPSB7XHJcbiAgICAgICAgICBuYW1lOiBkYXRhLm5hbWVcclxuICAgICAgfTtcclxuICAgICAgTWVudS5jcmVhdGVNZW51KG1lbnVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgdmFyIHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgIGNhdGVnb3J5X2lkOiBkYXRhLmNhdGVnb3J5X2lkLFxyXG4gICAgICBuYW1lOiBkYXRhLm5hbWVcclxuICAgIH07XHJcbiAgICAgIE1lbnUudXBkYXRlTWVudSh1cGRhdGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5kZWxldGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgdmFyIGRlbGV0ZURhdGEgPSBkYXRhLmNhdGVnb3J5X2lkO1xyXG4gICAgTWVudS5kZWxldGVNZW51KGRlbGV0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignc3ViTWVudUN0cmwnLCBmdW5jdGlvbiAoTWVudSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsICRodHRwKSB7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIGNhdGVnb3J5X2lkID0gJHN0YXRlUGFyYW1zLmNhdGVnb3J5X2lkO1xyXG5cclxuICAkaHR0cC5nZXQoJy9hcGkvY2F0ZWdvcnkvJytjYXRlZ29yeV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLnN1Yk1lbnVEYXRhcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd0eXBlQ29udHJvbGxlcnMnLCBbJ2FkbWluU2VydmljZXMnLCAnbWVudVNlcnZpY2VzJywgJ29yZGVyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ3VwZGF0ZUl0ZW1UeXBlQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgTWVudSwgQWRtaW4sICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIGl0ZW1faWQgPSAkc3RhdGVQYXJhbXMuaXRlbV9pZDtcclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgXSxcclxuICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuXHJcblxyXG4gICBBZG1pbi5yZWFkVXBkYXRlSXRlbVR5cGUoaXRlbV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0ubmFtZSxcclxuICAgICAgICAgICAgICAgICBpZDogdHlwZVtpXS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICBhcHAudXBkYXRhRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24gPSB7XHJcbiAgICAgICAgICAgICBpZCA6IGFwcC51cGRhdGFEYXRhLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgdmFyIHNwbGl0T3B0aW9uRGF0YXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICBraW5kOiBhcHAudXBkYXRhRGF0YS5raW5kLnNwbGl0KCcsJyksXHJcbiAgICAgICAgICAgICAgICAgICBwcmljZTogYXBwLnVwZGF0YURhdGEucHJpY2Uuc3BsaXQoJywnKVxyXG4gICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICBhcHAub3B0aW9uRGF0YXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgZm9yKGk9MDsgaSA8IHNwbGl0T3B0aW9uRGF0YXMua2luZC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICBhcHAub3B0aW9uRGF0YXNbaV0gPSB7XHJcbiAgICAgICAgICAgICAgIGtpbmQ6IHNwbGl0T3B0aW9uRGF0YXMua2luZFtpXSxcclxuICAgICAgICAgICAgICAgcHJpY2U6ICBzcGxpdE9wdGlvbkRhdGFzLnByaWNlW2ldLFxyXG4gICAgICAgICAgICAgfTtcclxuICAgICAgICAgICB9XHJcblxyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcblxyXG4gICAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIHRoaXMudXBkYXRlVHlwZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC51cGRhdGVEYXRhID0gZGF0YTtcclxuICAgICBhcHAudXBkYXRlRGF0YS5jYXRlZ29yeV9pZCA9IGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xyXG4gICAgIEFkbWluLnVwZGF0ZVVwZGF0ZVR5cGUoYXBwLnVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgIH07XHJcblxyXG4gICB0aGlzLnVwZGF0ZWl0ZW1UeXBlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgdmFyIGtpbmRBcnJheSA9IFtdO1xyXG4gICAgIHZhciBwcmljZUFycmF5ID0gW107XHJcbiAgICAgZm9yKGk9MDtpPGFwcC5vcHRpb25EYXRhcy5sZW5ndGg7aSsrKXtcclxuICAgICAgIGtpbmRBcnJheS5wdXNoKGFwcC5vcHRpb25EYXRhc1tpXS5raW5kKTtcclxuICAgICAgIHByaWNlQXJyYXkucHVzaChhcHAub3B0aW9uRGF0YXNbaV0ucHJpY2UpO1xyXG4gICAgIH1cclxuICAgICB2YXIgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgIGl0ZW1faWQ6IGRhdGEuaXRlbV9pZCxcclxuICAgICAgIGl0ZW1fbmFtZTogZGF0YS5pdGVtX25hbWUsXHJcbiAgICAgICBwcmljZTogcHJpY2VBcnJheS50b1N0cmluZygpLFxyXG4gICAgICAga2luZDoga2luZEFycmF5LnRvU3RyaW5nKClcclxuICAgICB9O1xyXG5cclxuICAgICBBZG1pbi51cGRhdGVJdGVtVHlwZSh1cGRhdGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG5cclxuICAgICAgIH1cclxuICAgICB9KTtcclxuICAgfTtcclxuXHJcblxyXG5cclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdyZWFkSXRlbVR5cGVDdHJsJywgZnVuY3Rpb24oQWRtaW4sICRzdGF0ZSwgJHdpbmRvdywgTWVudSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcblxyXG4gICAgIHRoaXMuY29weUl0ZW1UeXBlID0gZnVuY3Rpb24oZGF0YSl7XHJcblxyXG4gICAgICAgdmFyIGl0ZW1EYXRhID0ge1xyXG4gICAgICAgICB0eXBlOiBkYXRhLml0ZW1fdHlwZV9pZCxcclxuICAgICAgICAgdGl0bGU6IGRhdGEuaXRlbV9uYW1lLFxyXG4gICAgICAgICBraW5kOiBkYXRhLmtpbmQudG9TdHJpbmcoKSxcclxuICAgICAgICAgcHJpY2U6IGRhdGEucHJpY2UudG9TdHJpbmcoKVxyXG5cclxuICAgICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAgQWRtaW4uY3JlYXRlSXRlbShpdGVtRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgIH1cclxuICAgICB9KTtcclxuICAgfTtcclxuXHJcbiAgIHRoaXMuZGVsZXRlVHlwZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgIHZhciBpdGVtX2lkID0gZGF0YS5pdGVtX2lkO1xyXG4gICAgIEFkbWluLmRlbGV0ZUl0ZW0oaXRlbV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgIH07XHJcblxyXG4vLyDsg4Htkogg67aE66WY7ZGcXHJcbiAgQWRtaW4ucmVhZEl0ZW1UeXBlKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0ubmFtZSxcclxuICAgICAgICAgICAgICBpZDogdHlwZVtpXS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBhcHAudHlwZURhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgdmFyIGtpbmREYXRhcyA9IFtdO1xyXG5cclxuICAgICAgZm9yKHZhciBpPTA7IGk8ZGF0YS5kYXRhLnJlc3VsdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICBraW5kRGF0YXNbaV0gPSB7XHJcbiAgICAgICAgICAgICAga2luZDogYXBwLnR5cGVEYXRhc1tpXS5raW5kLnNwbGl0KCcsJyksXHJcbiAgICAgICAgICAgICAgcHJpY2U6IGFwcC50eXBlRGF0YXNbaV0ucHJpY2Uuc3BsaXQoJywnKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGFwcC50eXBlRGF0YXNbaV0ua2luZCA9IGtpbmREYXRhc1tpXS5raW5kO1xyXG4gICAgICAgICAgYXBwLnR5cGVEYXRhc1tpXS5wcmljZSA9IGtpbmREYXRhc1tpXS5wcmljZTtcclxuICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KVxyXG5cclxuXHJcbi8vIOyDge2SiCDrtoTrpZjtkZxcclxuLmNvbnRyb2xsZXIoJ3VwZGF0ZVR5cGVDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBNZW51LCBBZG1pbiwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgaXRlbV90eXBlID0gJHN0YXRlUGFyYW1zLml0ZW1fdHlwZTtcclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgXSxcclxuICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuICAgQWRtaW4ucmVhZFVwZGF0ZVR5cGUoaXRlbV90eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICBNZW51LnJlYWRNYWluTWVudSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgbmFtZTogdHlwZVtpXS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgIGlkOiB0eXBlW2ldLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgYXBwLnVwZGF0YURhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgIGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uID0ge1xyXG4gICAgICAgICAgICAgaWQgOiBhcHAudXBkYXRhRGF0YS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgIH07XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuXHJcbiAgICAgICB9XHJcbiAgIH0pO1xyXG5cclxuICAgdGhpcy51cGRhdGVUeXBlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgYXBwLnVwZGF0ZURhdGEgPSBkYXRhO1xyXG4gICAgIGFwcC51cGRhdGVEYXRhLmNhdGVnb3J5X2lkID0gYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQ7XHJcbiAgICAgQWRtaW4udXBkYXRlVXBkYXRlVHlwZShhcHAudXBkYXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgIH1cclxuICAgICB9KTtcclxuICAgfTtcclxufSlcclxuXHJcbi8vIOyDge2SiCDrtoTrpZjtkZxcclxuLmNvbnRyb2xsZXIoJ3JlYWRUeXBlQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGUsICR3aW5kb3csIE1lbnUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG4gICAgdGhpcy5jb3B5VHlwZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICB2YXIgdHlwZURhdGEgPSB7XHJcbiAgICAgICAgY2F0ZWdvcnk6IGRhdGEuY2F0ZWdvcnlfaWQsXHJcbiAgICAgICAgdHlwZV9kZXNjcmlwdGlvbjogZGF0YS50eXBlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgIHR5cGVfY29kZTogZGF0YS50eXBlX2NvZGVcclxuICAgICAgfTtcclxuICAgICAgQWRtaW4uY3JlYXRlVHlwZSh0eXBlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgIHRoaXMuZGVsZXRlVHlwZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgIHZhciBpdGVtX3R5cGVfaWQgPSBkYXRhLml0ZW1fdHlwZTtcclxuICAgICBBZG1pbi5kZWxldGVUeXBlKGl0ZW1fdHlwZV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgIH07XHJcblxyXG4vLyDsg4Htkogg67aE66WY7ZGcXHJcbiAgQWRtaW4ucmVhZFR5cGUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBNZW51LnJlYWRNYWluTWVudSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgICAgbmFtZTogdHlwZVtpXS5uYW1lLFxyXG4gICAgICAgICAgICAgIGlkOiB0eXBlW2ldLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGFwcC50eXBlRGF0YXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KVxyXG5cclxuLy8g7IOB7ZKIIOu2hOulmO2RnFxyXG4uY29udHJvbGxlcignY3JlYXRlVHlwZUN0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlLCBNZW51LCAkd2luZG93KXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgXSxcclxuICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuICAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgIG5hbWU6IHR5cGVbaV0ubmFtZSxcclxuICAgICAgICAgICBpZDogdHlwZVtpXS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICB9O1xyXG4gICAgICAgfVxyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICB9XHJcbiAgIH0pO1xyXG5cclxuXHJcbiAgdGhpcy5jcmVhdGVUeXBlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC50eXBlRGF0YSA9IHtcclxuICAgICAgY2F0ZWdvcnk6IGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkLFxyXG4gICAgICB0eXBlX2Rlc2NyaXB0aW9uOiBkYXRhLnR5cGVfZGVzY3JpcHRpb24sXHJcbiAgICAgIHR5cGVfY29kZTogZGF0YS50eXBlX2NvZGVcclxuICAgIH07XHJcblxyXG4gICAgQWRtaW4uY3JlYXRlVHlwZShhcHAudHlwZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuc3VjY2VzcyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGFwcC5raW5kTGlzdCA9IFtdO1xyXG4gIGFwcC50eXBlX3RpbnkgPSBbXTtcclxuICBhcHAudHlwZV9wcmljZSA9IFtdO1xyXG5cclxuICB0aGlzLmFkZExpbmUgPSBmdW5jdGlvbihraW5kRGF0YSl7XHJcbiAgICBpZigha2luZERhdGEpe1xyXG4gICAgICAkd2luZG93LmFsZXJ0KCfsoJXtmZXtlZwg6rCS7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmKGtpbmREYXRhLmtpbmRWYWx1ZSA9PT0gbnVsbCB8fCBraW5kRGF0YS5raW5kVmFsdWUgPT09IHVuZGVmaW5lZCB8fCBraW5kRGF0YS5raW5kVmFsdWUgPT09ICcnKVxyXG4gICAgICB7XHJcbiAgICAgICAgJHdpbmRvdy5hbGVydCgn7Ji17IWY66qF7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgfSBlbHNlIGlmKGtpbmREYXRhLmtpbmRQcmljZSA9PT0gbnVsbCB8fCBraW5kRGF0YS5raW5kUHJpY2UgPT09IHVuZGVmaW5lZCB8fCBraW5kRGF0YS5raW5kUHJpY2UgPT09ICcnKXtcclxuICAgICAgICAkd2luZG93LmFsZXJ0KCfsmLXshZgg6rCA6rKp7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAua2luZExpc3QucHVzaChcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAga2luZDoga2luZERhdGEua2luZFZhbHVlLFxyXG4gICAgICAgICAgICBwcmljZToga2luZERhdGEua2luZFByaWNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICBhcHAudHlwZV90aW55LnB1c2goa2luZERhdGEua2luZFZhbHVlKTtcclxuICAgICAgICBhcHAudHlwZV9wcmljZS5wdXNoKGtpbmREYXRhLmtpbmRQcmljZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtYWluQ29udHJvbGxlcnMnLFsnYXV0aFNlcnZpY2VzJywgJ3VzZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignbWFpbkN0cmwnLCBmdW5jdGlvbihBdXRoLCAkdGltZW91dCwgJGxvY2F0aW9uLCAkc3RhdGUsICRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdywgJGludGVydmFsLCBVc2VyLCBBdXRoVG9rZW4pe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIGFwcC5sb2FkbWUgPSBmYWxzZTtcclxuICAkc2NvcGUuJG9uKCdMT0FEJywgZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgJHNjb3BlLiRvbignVU5MT0FEJywgZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgfSk7XHJcblxyXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCl7XHJcbiAgICBpZighY2hlY2tTZXNzaW9uKSB7XHJcbiAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYoQXV0aC5pc0xvZ2dlZEluKCkpe1xyXG4gICAgICAgIGFwcC5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICBBdXRoLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgYXBwLnVzZXIgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgIFVzZXIuZ2V0UGVybWlzc2lvbigpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEucGVybWlzc2lvbiA9PT0gJ2FkbWluJyl7XHJcbiAgICAgICAgICAgICAgICBhcHAuYXV0aG9yaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYoZGF0YS5kYXRhLnBlcm1pc3Npb24gPT09ICdhcnRpc3QnKXtcclxuICAgICAgICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC51c2VyID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB2YXIgY2hlY2tTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgIGlmKEF1dGguaXNMb2dnZWRJbigpKXtcclxuICAgICAgYXBwLmNoZWNrU2Vzc2lvbiA9IHRydWU7XHJcbiAgICAgIHZhciBpbnRlcnZhbCA9ICRpbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciB0b2tlbiA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgICAgICAgaWYodG9rZW4gPT09IG51bGwpe1xyXG4gICAgICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYucGFyc2VKd3QgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICAgICAgICAgIHZhciBiYXNlNjRVcmwgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xyXG4gICAgICAgICAgICB2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoJy0nLCcrJykucmVwbGFjZSgnXycsICcvJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKCR3aW5kb3cuYXRvYihiYXNlNjQpKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2YXIgZXhwaXJlVGltZSA9IHNlbGYucGFyc2VKd3QodG9rZW4pO1xyXG4gICAgICAgICAgdmFyIHRpbWVTdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xyXG4gICAgICAgICAgdmFyIHRpbWVDaGVjayA9IGV4cGlyZVRpbWUuZXhwIC0gdGltZVN0YW1wO1xyXG5cclxuICAgICAgICAgIGlmKHRpbWVDaGVjayA8PSA1KXtcclxuICAgICAgICAgICAgc2hvd01vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sIDIwMDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNoZWNrU2Vzc2lvbigpO1xyXG5cclxuXHJcbiAgICBhcHAucmVuZXdTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICBVc2VyLnJlbmV3U2Vzc2lvbihhcHAudXNlci51c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgYXBwLk1vZGFsQm9keSA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgYXBwLmVuZFNlc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIHNob3dNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgICAgIH0sNTAwKTtcclxuICAgIH07XHJcblxyXG5cclxuICB2YXIgc2hvd01vZGFsID0gZnVuY3Rpb24ob3B0aW9uKXtcclxuICAgIGFwcC5jaG9pY2VNYWRlID0gZmFsc2U7XHJcbiAgICBhcHAubW9kYWxIZWFkZXIgPSB1bmRlZmluZWQ7XHJcbiAgICBhcHAubW9kYWxCb2R5ID0gdW5kZWZpbmVkO1xyXG4gICAgYXBwLmhpZGVCdXR0b24gPSBmYWxzZTtcclxuLy8gY2hlY2sgdG9rZW4gZXhwaXJlZFxyXG4gICAgaWYob3B0aW9uID09PSAgJ2V4cGlyZWQnICl7XHJcbiAgICAgIGFwcC5tb2RhbEhlYWRlciA9ICdUaW1lb3V0IFdhcm5pbmcnO1xyXG4gICAgICBhcHAubW9kYWxCb2R5ID0gJ1lvdXIgc2Vzc2lvbiB3aWxsIGV4cGlyZWQgaW4gNSBtaW51dGVzLiBXb3VsZCB5b3UgbGlrZSB0byByZW5ldyB5b3VyIHNlc3Npb24/JztcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9nb3V0Jyl7XHJcbi8vIGxvZ291dFxyXG4gICAgICBhcHAuaGlkZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgIGFwcC5tb2RhbEhlYWRlciA9ICfroZzqt7jslYTsm4MnO1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSBmYWxzZTtcclxuICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGhpZGVNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dpbicpe1xyXG4vLyBMb2dpblxyXG4gICAgICAkKFwiI2xvZ2luXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoIWFwcC5jaG9pY2VNYWRlKXtcclxuICAgICAgICAgIGhpZGVNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAyMDAwKTtcclxuXHJcbiAgfTtcclxuXHJcbiAgdmFyIGhpZGVNb2RhbCA9IGZ1bmN0aW9uKG9wdGlvbil7XHJcblxyXG4gICAgaWYob3B0aW9uID09PSAnZXhwaXJlZCcpe1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dvdXQnKXtcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9naW4nKXtcclxuICAgICAgJChcIiNsb2dpblwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuLy8g66Gc6re47J24XHJcbiAgdGhpcy5kb0xvZ2luID0gZnVuY3Rpb24obG9naW5EYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5leHBpcmVkID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgQXV0aC5sb2dpbihhcHAubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBhcHAubG9naW5EYXRhID0gbnVsbDtcclxuICAgICAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG4gICAgICAgICAgICBjaGVja1Nlc3Npb24oKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgIH0sMTAwMCk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLmV4cGlyZWQpe1xyXG4gICAgICAgICAgICBhcHAuZXhwaXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gSWYgZXJyb3Igb2NjdXJzLCByZW1vdmUgZGlzYWJsZSBsb2NrIGZyb20gZm9ybVxyXG4gICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGJvb3RzdHJhcCBsb2FkaW5nIGljb25cclxuICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIERpc3BsYXkgZXJyb3IgaWYgdmFsaWQgcmV0dXJucyBmYWxzZVxyXG4gICAgfVxyXG5cclxuICB9O1xyXG5cclxuXHJcbiAgYXBwLmxvZ291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBzaG93TW9kYWwoJ2xvZ291dCcpO1xyXG4gIH07XHJcblxyXG4gIGFwcC5yZXNlbmQgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNlbmQnKTtcclxuICAgICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgIH0sNTAwKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZXR1c2VybmFtZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2V0dXNlcm5hbWUnKTtcclxuICAgIH0sNTAwKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZXRwYXNzd29yZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2V0cGFzc3dvcmQnKTtcclxuICAgIH0sNTAwKTtcclxuXHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnb3JkZXJDb250cm9sbGVycycsWydvcmRlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdyZWFkT3JkZXJDdHJsJywgZnVuY3Rpb24gKCRzdGF0ZVBhcmFtcywgJHN0YXRlLCAkd2luZG93LCBPcmRlciwgJHNjb3BlKSB7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcblxyXG4gIGFwcC5nZXRJdGVtRmFpbCA9IGZhbHNlO1xyXG5cclxuICBhcHAuY2FzaFJlY2VpcHQgPSB0cnVlO1xyXG4gIGlmKGFwcC5jYXNoUmVjZWlwdCl7XHJcbiAgICBhcHAuZ2V0Q2FzaFJlY2VpcHQgPSB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcHAuZ2V0Q2FzaFJlY2VpcHQgPSBmYWxzZTtcclxuICB9XHJcblxyXG5cclxuICB0aGlzLnJlYWRBZGRyZXNzID0gZnVuY3Rpb24oKXtcclxuICAgIC8vbG9hZO2VqOyImOulvCDsnbTsmqntlZjsl6wgY29yZeyKpO2BrOumve2KuOydmCDroZzrlKnsnbQg7JmE66OM65CcIO2bhCwg7Jqw7Y6467KI7Zi4IOyEnOu5hOyKpOulvCDsi6Ttlontlanri4jri6QuXHJcbiAgICBkYXVtLnBvc3Rjb2RlLmxvYWQoZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmFkZHJlc3NEZXRhaWwgPSAnJztcclxuICAgICAgICBuZXcgZGF1bS5Qb3N0Y29kZSh7XHJcbiAgICAgICAgICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICBhcHAuZGVsaURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBzaWd1bmd1X2NvZGU6IGRhdGEuc2lndW5ndUNvZGUsXHJcbiAgICAgICAgICAgICAgICBqaWJ1bl9hZGRyZXNzOiBkYXRhLmppYnVuQWRkcmVzcyxcclxuICAgICAgICAgICAgICAgIHJvYWRfYWRkcmVzczogZGF0YS5yb2FkQWRkcmVzc1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5vcGVuKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgfTtcclxuXHJcbiAgT3JkZXIucmVhZE9yZGVyQW5kRGVsaSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuLy8g65Ox66Gd65CcIOuwsOyGoeyngCDsoJXrs7TqsIAg7JeG7J2EIOuVjFxyXG4gICAgICBpZihkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aD09PTApe1xyXG4gICAgICAgIGFwcC5kZWxpdmVyeSA9IGZhbHNlO1xyXG4gICAgICAgIE9yZGVyLnJlYWRPcmRlcih1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgdmFyIGl0ZW1QcmljZSA9IFtdO1xyXG4gICAgICAgICAgYXBwLmFsbEl0ZW1QcmljZSA9IDA7XHJcbiAgICAgICAgICBhcHAub3JkZXJEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgIGZvcihpPTA7IGk8YXBwLm9yZGVyRGF0YS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGl0ZW1QcmljZVtpXSA9IGFwcC5vcmRlckRhdGFbaV0ucHJpY2UgKiBhcHAub3JkZXJEYXRhW2ldLmFtb3VudDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZvcihpPTA7aTxpdGVtUHJpY2UubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGFwcC5hbGxJdGVtUHJpY2UgPSBhcHAuYWxsSXRlbVByaWNlICsgaXRlbVByaWNlW2ldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbi8vIOuTseuhneuQnCDrsLDshqHsp4Ag7KCV67O06rCAIOyeiOydhCDrlYxcclxuICAgICAgZWxzZSB7XHJcbiAgICAgIHZhciBpdGVtUHJpY2UgPSBbXTtcclxuICAgICAgYXBwLmRlbGl2ZXJ5ID0gdHJ1ZTtcclxuICAgICAgYXBwLmFsbEl0ZW1QcmljZSA9IDA7XHJcbiAgICAgIGFwcC5vcmRlckRhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICBmb3IoaT0wOyBpPGFwcC5vcmRlckRhdGEubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGl0ZW1QcmljZVtpXSA9IGFwcC5vcmRlckRhdGFbaV0ucHJpY2UgKiBhcHAub3JkZXJEYXRhW2ldLmFtb3VudDtcclxuICAgICAgfVxyXG4gICAgICBmb3IoaT0wO2k8aXRlbVByaWNlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgIGFwcC5hbGxJdGVtUHJpY2UgPSBhcHAuYWxsSXRlbVByaWNlICsgaXRlbVByaWNlW2ldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuXHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHRoaXMuY29uZmlybU9yZGVyID0gZnVuY3Rpb24oZGF0YSl7XHJcbi8vIOuTseuhneuQnCDrsLDshqHsp4DqsIAg7J6I7J2EIOuVjCBwdXRcclxuICAgIHZhciBkZWxpRGF0YSA9ICcnO1xyXG4gICAgdmFyIHJlY2VpcHREYXRhID0gJyc7XHJcbiAgICBpZihhcHAuZGVsaXZlcnkpe1xyXG4vLyAgICDrs4Dqsr3sgqztla0g7JeG7J2MXHJcbiAgICAgIGlmKGRhdGEuZGFsaURhdGEgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+uzgOqyveyCrO2VrSDsl4bsnYwnKTtcclxuICAgICAgfVxyXG4vLyDrs4Dqsr3sgqztla0g7J6I7J2MXHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGRlbGlEYXRhID0gZGF0YS5kYWxpRGF0YTtcclxuICAgICAgICAvLyBkZWxpRGF0YS51c2VyX2lkID0gdXNlcl9pZDtcclxuICAgICAgICBPcmRlci51cGRhdGVEZWxpdmVyeShkZWxpRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbi8vIOuTseuhneuQnCDrsLDshqHsp4DqsIAg7JeG7J2EIOuVjCBwb3N0XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkZWxpRGF0YSA9IGRhdGEuZGFsaURhdGE7XHJcbiAgICAgIHJlY2VpcHREYXRhID0gZGF0YS5yZWNlaXB0RGF0YTtcclxuICAgICAgT3JkZXIuY3JlYXRlRGVsaXZlcnkoZGVsaURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMuZGVsZXRlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIHZhciBpdGVtX2lkID0gZGF0YS5pdGVtX2lkO1xyXG4gICAgT3JkZXIuZGVsZXRlT3JkZXIoaXRlbV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICB9ZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgfSlcclxuXHJcbi5jb250cm9sbGVyKCdiYXNrZXRDdHJsJywgZnVuY3Rpb24gKE9yZGVyLCAkd2luZG93LCAkc3RhdGUpIHtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBhcHAuYW1vdW50ID0gMTtcclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICB0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgIHZhciBiYXNrZXRfaWQgPSBkYXRhLmJhc2tldF9pZDtcclxuICAgICBPcmRlci5kZWxldGVCYXNrZXQoYmFza2V0X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcblxyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgIH07XHJcblxyXG4gIHRoaXMubWFrZUJhc2tldCA9IGZ1bmN0aW9uKCl7XHJcbiAgfTtcclxuXHJcbiAgT3JkZXIucmVhZEJhc2tldCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLmJhc2tldERhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICB2YXIgaTtcclxuICAgICAgdmFyIGtpbmQgPSBbXTtcclxuICAgICAgdmFyIHRlbXAgPSBbXTtcclxuICAgICAgdmFyIHNlbGVjdERhdGE7XHJcbiAgICAgIGZvcihpPTA7IGkgPCBhcHAuYmFza2V0RGF0YS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICBraW5kW2ldID0gYXBwLmJhc2tldERhdGFbaV0ua2luZC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgdGVtcFtpXSA9IGFwcC5iYXNrZXREYXRhW2ldLnByaWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvcihpPTA7IGk8a2luZC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgYXBwLmRhdGFbaV0gPSB7XHJcbiAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICBdLFxyXG4gICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICB9O1xyXG5cclxuICAgICAgICBmb3Ioaj0wO2o8a2luZFtpXS5sZW5ndGg7aisrKXtcclxuICAgICAgICAgIGFwcC5kYXRhW2ldLmF2YWlsYWJsZU9wdGlvbnNbaisxXSA9IHtcclxuICAgICAgICAgICAgbmFtZToga2luZFtpXVtqXSxcclxuICAgICAgICAgICAgaWQ6IE51bWJlcih0ZW1wW2ldW2pdKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2VtYWlsQ29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdlbWFpbEN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIFVzZXIuYWN0aXZlQWNjb3VudCgkc3RhdGVQYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICB9LDIwMDApO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgIH0sMjAwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVzZW5kQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIGFwcCA9IHRoaXM7XHJcbiAgdGhpcy5jaGVja0NyZWRlbnRpYWxzID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgVXNlci5jaGVja0NyZWRlbnRpYWxzKHRoaXMubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgVXNlci5yZXNlbmRMaW5rKGFwcC5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICB9LDIwMDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9ZWxzZSB7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigndXNlcm5hbWVDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdGhpcy5zZW5kVXNlcm5hbWUgPSBmdW5jdGlvbih1c2VyRGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBVc2VyLnNlbmRVc2VybmFtZShhcHAudXNlckRhdGEuZW1haWwpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOydtOuplOydvCDso7zshozqsIAg7JWE64uZ64uI64ukLic7XHJcbiAgICB9XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdwYXNzd29yZEN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBhcHAuc2VuZFBhc3N3b3JkID0gZnVuY3Rpb24ocmVzZXREYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIFVzZXIuc2VuZFBhc3N3b3JkKGFwcC5yZXNldERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOyVhOydtOuUlOqwgCDslYTri5nri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Jlc2V0Q3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgJHNjb3BlLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICBhcHAuaGlkZSA9IHRydWU7IC8vIEhpZGUgZm9ybSB1bnRpbCB0b2tlbiBjYW4gYmUgdmVyaWZpZWQgdG8gYmUgdmFsaWRcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBjaGVjayBpZiB0b2tlbiBpcyB2YWxpZCBhbmQgZ2V0IHRoZSB1c2VyJ3MgaW5mbyBmcm9tIGRhdGFiYXNlIChydW5zIG9uIHBhZ2UgbG9hZClcclxuICAgIFVzZXIucmVzZXRQYXNzd29yZCgkc3RhdGVQYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgd2FzIHJldHJpZXZlZFxyXG4gICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICBhcHAuaGlkZSA9IGZhbHNlOyAvLyBTaG93IGZvcm1cclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gJ+yDiOuhnOyatCDruYTrsIDrsojtmLjrpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIExldCB1c2VyIGtub3cgdGhleSBjYW4gZW50ZXIgbmV3IHBhc3N3b3JkXHJcbiAgICAgICAgICAgICRzY29wZS51c2VybmFtZSA9IGRhdGEuZGF0YS51c2VyWzBdLnVzZXJuYW1lOyAvLyBTYXZlIHVzZXJuYW1lIGluIHNjb3BlIGZvciB1c2UgaW4gc2F2ZVBhc3N3b3JkKCkgZnVuY3Rpb25cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTsgLy8gR3JhYiBlcnJvciBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3RcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBzYXZlIHVzZXIncyBuZXcgcGFzc3dvcmQgdG8gZGF0YWJhc2VcclxuICAgIGFwcC5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhLCB2YWxpZCwgY29uZmlybWVkKSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7IC8vIENsZWFyIGVycm9yTXNnIHdoZW4gdXNlciBzdWJtaXRzXHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlOyAvLyBEaXNhYmxlIGZvcm0gd2hpbGUgcHJvY2Vzc2luZ1xyXG4gICAgICAgIGFwcC5sb2FkaW5nID0gdHJ1ZTsgLy8gRW5hYmxlIGxvYWRpbmcgaWNvblxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBmb3JtIGlzIHZhbGlkIGFuZCBwYXNzd29yZHMgbWF0Y2hcclxuICAgICAgICBpZiAodmFsaWQgJiYgY29uZmlybWVkKSB7XHJcbiAgICAgICAgICAgIGFwcC5yZWdEYXRhLnVzZXJuYW1lID0gJHNjb3BlLnVzZXJuYW1lOyAvLyBHcmFiIHVzZXJuYW1lIGZyb20gJHNjb3BlXHJcblxyXG4gICAgICAgICAgICAvLyBSdW4gZnVuY3Rpb24gdG8gc2F2ZSB1c2VyJ3MgbmV3IHBhc3N3b3JkIHRvIGRhdGFiYXNlXHJcbiAgICAgICAgICAgIFVzZXIuc2F2ZVBhc3N3b3JkKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwYXNzd29yZCB3YXMgc2F2ZWQgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1zdWNjZXNzJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2ZlOuptOycvOuhnCDsnbTrj5ntlanri4jri6QuJzsgLy8gR3JhYiBzdWNjZXNzIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdCBhbmQgcmVkaXJlY3RcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBwYWdlIGFmdGVyIDIwMDAgbWlsbGlzZWNvbmRzICgyIHNlY29uZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgZm9ybSB0byBhbGxvdyB1c2VyIHRvIHJlc3VibWl0XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7IC8vIEdyYWIgZXJyb3IgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgZm9ybSB0byBhbGxvdyB1c2VyIHRvIHJlc3VibWl0XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBMZXQgdXNlciBrbm93IGZvcm0gaXMgbm90IHZhbGlkXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd1c2VyQ29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdyZWdDdHJsJywgZnVuY3Rpb24gKCAkaHR0cCwgJGxvY2F0aW9uLCAkdGltZW91dCwgVXNlciwgQXV0aCwgJHN0YXRlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICAgIHRoaXMucmVnU3RlcDEgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBpZighcmVnRGF0YSl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7JW96rSA7JeQIOuPmeydmO2VtOyVvOunjCDtmozsm5DqsIDsnoXsnYQg7KeE7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYoKHJlZ0RhdGEudGVybXMpICYmIChyZWdEYXRhLnByaXZhY3kpKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9ICfslb3qtIDsl5Ag7ISx6rO17KCB7Jy866GcIOuPmeydmO2VmOyFqOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLnJlZ2lzdGVyU3RlcDInKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7JW96rSA7JeQIOuPmeydmO2VtOyVvOunjCDtmozsm5DqsIDsnoXsnYQg7KeE7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuJztcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH07XHJcblxyXG4gICAgLy8g7ZqM7JuQ6rCA7J6FXHJcbiAgICAgIHRoaXMucmVnU3RlcDIgPSBmdW5jdGlvbihyZWdEYXRhLCB2YWxpZCwgY29uZmlybWVkKXtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwLnJlZ2lzdGVyU3RlcDMnKTtcclxuICAgICAgICAvLyBpZih2YWxpZCAmJiBjb25maXJtZWQpe1xyXG4gICAgICAgIC8vICAgVXNlci5jcmVhdGUoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgLy8gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAvLyAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgLy8gICAgICAgQXV0aC5sb2dpbihhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAvLyAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAvLyAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAvLyAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAvLyAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAvLyAgICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICAvLyAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgICAgaWYoZGF0YS5kYXRhLmV4cGlyZWQpe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGFwcC5leHBpcmVkID0gdHJ1ZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIC8vICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIC8vICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgIH1lbHNlIHtcclxuICAgICAgICAvLyAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIElmIGVycm9yIG9jY3VycywgcmVtb3ZlIGRpc2FibGUgbG9jayBmcm9tIGZvcm1cclxuICAgICAgICAvLyAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgYm9vdHN0cmFwIGxvYWRpbmcgaWNvblxyXG4gICAgICAgIC8vICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIERpc3BsYXkgZXJyb3IgaWYgdmFsaWQgcmV0dXJucyBmYWxzZVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIO2ajOybkOqwgOyehVxyXG4gICAgICAgIHRoaXMucmVnU3RlcDMgPSBmdW5jdGlvbihyZWdEYXRhLCB2YWxpZCwgY29uZmlybWVkKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGlmKHZhbGlkICYmIGNvbmZpcm1lZCl7XHJcbiAgICAgICAgICAgIFVzZXIuY3JlYXRlKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgQXV0aC5sb2dpbihhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5leHBpcmVkKXtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5leHBpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gSWYgZXJyb3Igb2NjdXJzLCByZW1vdmUgZGlzYWJsZSBsb2NrIGZyb20gZm9ybVxyXG4gICAgICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGJvb3RzdHJhcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIERpc3BsYXkgZXJyb3IgaWYgdmFsaWQgcmV0dXJucyBmYWxzZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2FkbWluSGVhZGVyJywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9hZG1pbi9hZG1pbkhlYWRlci50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwQ3RybCA9IGN0cmxzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2FkbWluTGFib3JhdG9yeScsIFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwID0gdGhpcztcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvYWRtaW4vYWRtaW5MYWJvcmF0b3J5LnRwbC5odG1sJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHBDdHJsID0gY3RybHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uZGlyZWN0aXZlKCdmaWxlTW9kZWwnLGZ1bmN0aW9uKCRwYXJzZSl7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG4gICAgICB2YXIgcGFyc2VkRmlsZSA9ICRwYXJzZShhdHRycy5maWxlTW9kZWwpO1xyXG4gICAgICB2YXIgcGFyc2VkZmlsZVNldHRlciA9IHBhcnNlZEZpbGUuYXNzaWduO1xyXG5cclxuICAgICAgZWxlbWVudC5iaW5kKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICBwYXJzZWRmaWxlU2V0dGVyKHNjb3BlLCBlbGVtZW50WzBdLmZpbGVzWzBdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uZGlyZWN0aXZlKCdtYXRjaCcsZnVuY3Rpb24oKXtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIGNvbnRyb2xsZXI6ZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgJHNjb3BlLmRvQ29uZmlybSA9IGZ1bmN0aW9uKHZhbHVlcyl7XHJcblxyXG4gICAgICAgICRzY29wZS5jb25maXJtZWQgPSBmYWxzZTtcclxuICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihlbGUpe1xyXG4gICAgICAgICAgaWYoJHNjb3BlLmNvbmZpcm0gPT0gZWxlKXtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IHRydWU7XHJcbiAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jb25maXJtZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgbGluazpmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG4gICAgICBhdHRycy4kb2JzZXJ2ZSgnbWF0Y2gnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBKU09OLnBhcnNlKGF0dHJzLm1hdGNoKTtcclxuICAgICAgICBzY29wZS5kb0NvbmZpcm0oc2NvcGUubWF0Y2hlcyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGUuJHdhdGNoKCdjb25maXJtJywgZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS5tYXRjaGVzID0gSlNPTi5wYXJzZShhdHRycy5tYXRjaCk7XHJcbiAgICAgICAgc2NvcGUuZG9Db25maXJtKHNjb3BlLm1hdGNoZXMpO1xyXG5cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnY29tcGFueUludHJvZHVjZScsIFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwID0gdGhpcztcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvbWFpbi9jb21wYW55SW50cm9kdWNlLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHBDdHJsID0gY3RybHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnY29tcGFueVByaXZhY3lJbmZvcm1hdGlvbicsIFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBOYW1lQ3RybCA9IHRoaXM7XHJcbiAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaXJlY3RpdmVzL2NvbXBhbnlJbmZvcm1hdGlvbi9jb21wYW55UHJpdmFjeUluZm9ybWF0aW9uLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgncHJpdmFjeScsIFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwID0gdGhpcztcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvbWFpbi9wcml2YWN5LnRwbC5odG1sJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHBDdHJsID0gY3RybHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgndGVybXMnLCBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaXJlY3RpdmVzL21haW4vdGVybXMudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcEN0cmwgPSBjdHJscztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCd1c2VyUXVpY2tNZW51JywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIE5hbWVDdHJsID0gdGhpcztcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvY29tcGFueUluZm9ybWF0aW9uL3VzZXJRdWlja01lbnUudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdjb250ZW50JywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFpbi9jb250ZW50LnRwbC5odG1sJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHBDdHJsID0gY3RybHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnZm9vdGVyJywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9tYWluL2Zvb3Rlci50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwQ3RybCA9IGN0cmxzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2hlYWRlcicsIFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwID0gdGhpcztcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvbWFpbi9oZWFkZXIudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcEN0cmwgPSBjdHJscztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ21haW5Db250cm9sbGVycycsIFsnYXV0aFNlcnZpY2VzJywgJ3VzZXJTZXJ2aWNlcyddKVxyXG4gICAgLmNvbnRyb2xsZXIoJ21haW5DdHJsJywgZnVuY3Rpb24gKEF1dGgsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzdGF0ZSwgJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93LCAkaW50ZXJ2YWwsIFVzZXIsIEF1dGhUb2tlbikge1xyXG4gICAgICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuXHJcbiAgICAgICAgLy8gSW50ZXJuZXQgRXhwbG9yZXIg67KE7KCEIOyytO2BrFxyXG4gICAgICAgIHZhciBJRVZlcnNpb25DaGVjayA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB3b3JkO1xyXG4gICAgICAgICAgICB2YXIgdmVyc2lvbiA9IFwiTi9BXCI7XHJcblxyXG4gICAgICAgICAgICB2YXIgYWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gbmF2aWdhdG9yLmFwcE5hbWU7XHJcblxyXG4gICAgICAgICAgICAvLyBJRSBvbGQgdmVyc2lvbiAoIElFIDEwIG9yIExvd2VyIClcclxuICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIikgd29yZCA9IFwibXNpZSBcIjtcclxuXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gSUUgMTFcclxuICAgICAgICAgICAgICAgIGlmIChhZ2VudC5zZWFyY2goXCJ0cmlkZW50XCIpID4gLTEpIHdvcmQgPSBcInRyaWRlbnQvLipydjpcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJRSAxMiAgKCBNaWNyb3NvZnQgRWRnZSApXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhZ2VudC5zZWFyY2goXCJlZGdlL1wiKSA+IC0xKSB3b3JkID0gXCJlZGdlL1wiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCh3b3JkICsgXCIoWzAtOV17MSx9KShcXFxcLnswLH1bMC05XXswLDF9KVwiKTtcclxuICAgICAgICAgICAgaWYgKHJlZy5leGVjKGFnZW50KSAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdmVyc2lvbiA9IFJlZ0V4cC4kMSArIFJlZ0V4cC4kMjtcclxuICAgICAgICAgICAgLy9yZXR1cm4gdmVyc2lvbjtcclxuXHJcbiAgICAgICAgICAgIGlmICh2ZXJzaW9uIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb25maXJtKFwi7J247YSw64S3IOydteyKpO2UjOuhnOufrCA5IOuyhOyghCDsnbTsg4Eg65iQ64qUIO2BrOuhrCDruIzrnbzsmrDsoIDsl5Ag7LWc7KCB7ZmU65CY7Ja0IOyeiOyKteuLiOuLpC4gXFxu64uk7Jq066Gc65Oc7ZuEIOyCrOyaqe2VmOyLnOqyoOyKteuLiOq5jD9cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gXCJodHRwczovL3d3dy5nb29nbGUuY28ua3IvY2hyb21lL2Jyb3dzZXIvZGVza3RvcC9pbmRleC5odG1sXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIElFVmVyc2lvbkNoZWNrKCk7XHJcblxyXG4gICAgICAgIGFwcC5sb2FkbWUgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUuJG9uKCdMT0FEJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUubG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRzY29wZS4kb24oJ1VOTE9BRCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWNoZWNrU2Vzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgQXV0aC5nZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAudXNlciA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVzZXIuZ2V0UGVybWlzc2lvbigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucGVybWlzc2lvbiA9PT0gJ2FkbWluJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHAuYXV0aG9yaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5kYXRhLnBlcm1pc3Npb24gPT09ICdhcnRpc3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAudXNlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGNoZWNrU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKEF1dGguaXNMb2dnZWRJbigpKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuY2hlY2tTZXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9ICRpbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYXJzZUp3dCA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2U2NFVybCA9IHRva2VuLnNwbGl0KCcuJylbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoJy0nLCAnKycpLnJlcGxhY2UoJ18nLCAnLycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoJHdpbmRvdy5hdG9iKGJhc2U2NCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwaXJlVGltZSA9IHNlbGYucGFyc2VKd3QodG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZVN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lQ2hlY2sgPSBleHBpcmVUaW1lLmV4cCAtIHRpbWVTdGFtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lQ2hlY2sgPD0gNSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd01vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcblxyXG5cclxuICAgICAgICBhcHAucmVuZXdTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgICAgICAgIFVzZXIucmVuZXdTZXNzaW9uKGFwcC51c2VyLnVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGVja1Nlc3Npb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLk1vZGFsQm9keSA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhcHAuZW5kU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2hvd01vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgdmFyIHNob3dNb2RhbCA9IGZ1bmN0aW9uIChvcHRpb24pIHtcclxuICAgICAgICAgICAgYXBwLmNob2ljZU1hZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLm1vZGFsSGVhZGVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBhcHAubW9kYWxCb2R5ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBhcHAuaGlkZUJ1dHRvbiA9IGZhbHNlO1xyXG4vLyBjaGVjayB0b2tlbiBleHBpcmVkXHJcbiAgICAgICAgICAgIGlmIChvcHRpb24gPT09ICdleHBpcmVkJykge1xyXG4gICAgICAgICAgICAgICAgYXBwLm1vZGFsSGVhZGVyID0gJ1RpbWVvdXQgV2FybmluZyc7XHJcbiAgICAgICAgICAgICAgICBhcHAubW9kYWxCb2R5ID0gJ1lvdXIgc2Vzc2lvbiB3aWxsIGV4cGlyZWQgaW4gNSBtaW51dGVzLiBXb3VsZCB5b3UgbGlrZSB0byByZW5ldyB5b3VyIHNlc3Npb24/JztcclxuICAgICAgICAgICAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCh7YmFja2Ryb3A6IFwic3RhdGljXCJ9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb24gPT09ICdsb2dvdXQnKSB7XHJcbi8vIGxvZ291dFxyXG4gICAgICAgICAgICAgICAgYXBwLmhpZGVCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYXBwLm1vZGFsSGVhZGVyID0gJ+uhnOq3uOyVhOybgyc7XHJcbiAgICAgICAgICAgICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoe2JhY2tkcm9wOiBcInN0YXRpY1wifSk7XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ291dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gJ2xvZ2luJykge1xyXG4vLyBMb2dpblxyXG4gICAgICAgICAgICAgICAgJChcIiNsb2dpblwiKS5tb2RhbCh7YmFja2Ryb3A6IFwic3RhdGljXCJ9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFwcC5jaG9pY2VNYWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZU1vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBoaWRlTW9kYWwgPSBmdW5jdGlvbiAob3B0aW9uKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9uID09PSAnZXhwaXJlZCcpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gJ2xvZ291dCcpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gJ2xvZ2luJykge1xyXG4gICAgICAgICAgICAgICAgJChcIiNsb2dpblwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4vLyDroZzqt7jsnbhcclxuICAgICAgICB0aGlzLmRvTG9naW4gPSBmdW5jdGlvbiAobG9naW5EYXRhLCB2YWxpZCkge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgQXV0aC5sb2dpbihhcHAubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5sb2dpbkRhdGEgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLmV4cGlyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5leHBpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGJvb3RzdHJhcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgYXBwLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2hvd01vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhcHAucmVzZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVzZW5kJyk7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXhwaXJlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFwcC5yZXNldHVzZXJuYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVzZXR1c2VybmFtZScpO1xyXG4gICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFwcC5yZXNldHBhc3N3b3JkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVzZXRwYXNzd29yZCcpO1xyXG4gICAgICAgICAgICB9LCA1MDApO1xyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgIH0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnb3JkZXJDb250cm9sbGVycycsWydvcmRlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdyZWFkT3JkZXJDdHJsJywgZnVuY3Rpb24gKCRzdGF0ZVBhcmFtcywgJHN0YXRlLCAkd2luZG93LCBPcmRlciwgJHNjb3BlKSB7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcblxyXG4gIGFwcC5nZXRJdGVtRmFpbCA9IGZhbHNlO1xyXG5cclxuICBhcHAuY2FzaFJlY2VpcHQgPSB0cnVlO1xyXG4gIGlmKGFwcC5jYXNoUmVjZWlwdCl7XHJcbiAgICBhcHAuZ2V0Q2FzaFJlY2VpcHQgPSB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcHAuZ2V0Q2FzaFJlY2VpcHQgPSBmYWxzZTtcclxuICB9XHJcblxyXG5cclxuICB0aGlzLnJlYWRBZGRyZXNzID0gZnVuY3Rpb24oKXtcclxuICAgIC8vbG9hZO2VqOyImOulvCDsnbTsmqntlZjsl6wgY29yZeyKpO2BrOumve2KuOydmCDroZzrlKnsnbQg7JmE66OM65CcIO2bhCwg7Jqw7Y6467KI7Zi4IOyEnOu5hOyKpOulvCDsi6Ttlontlanri4jri6QuXHJcbiAgICBkYXVtLnBvc3Rjb2RlLmxvYWQoZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmFkZHJlc3NEZXRhaWwgPSAnJztcclxuICAgICAgICBuZXcgZGF1bS5Qb3N0Y29kZSh7XHJcbiAgICAgICAgICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICBhcHAuZGVsaURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBzaWd1bmd1X2NvZGU6IGRhdGEuc2lndW5ndUNvZGUsXHJcbiAgICAgICAgICAgICAgICBqaWJ1bl9hZGRyZXNzOiBkYXRhLmppYnVuQWRkcmVzcyxcclxuICAgICAgICAgICAgICAgIHJvYWRfYWRkcmVzczogZGF0YS5yb2FkQWRkcmVzc1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5vcGVuKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgfTtcclxuXHJcbiAgT3JkZXIucmVhZE9yZGVyQW5kRGVsaSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuLy8g65Ox66Gd65CcIOuwsOyGoeyngCDsoJXrs7TqsIAg7JeG7J2EIOuVjFxyXG4gICAgICBpZihkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aD09PTApe1xyXG4gICAgICAgIGFwcC5kZWxpdmVyeSA9IGZhbHNlO1xyXG4gICAgICAgIE9yZGVyLnJlYWRPcmRlcih1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgdmFyIGl0ZW1QcmljZSA9IFtdO1xyXG4gICAgICAgICAgYXBwLmFsbEl0ZW1QcmljZSA9IDA7XHJcbiAgICAgICAgICBhcHAub3JkZXJEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgIGZvcihpPTA7IGk8YXBwLm9yZGVyRGF0YS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGl0ZW1QcmljZVtpXSA9IGFwcC5vcmRlckRhdGFbaV0ucHJpY2UgKiBhcHAub3JkZXJEYXRhW2ldLmFtb3VudDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZvcihpPTA7aTxpdGVtUHJpY2UubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGFwcC5hbGxJdGVtUHJpY2UgPSBhcHAuYWxsSXRlbVByaWNlICsgaXRlbVByaWNlW2ldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbi8vIOuTseuhneuQnCDrsLDshqHsp4Ag7KCV67O06rCAIOyeiOydhCDrlYxcclxuICAgICAgZWxzZSB7XHJcbiAgICAgIHZhciBpdGVtUHJpY2UgPSBbXTtcclxuICAgICAgYXBwLmRlbGl2ZXJ5ID0gdHJ1ZTtcclxuICAgICAgYXBwLmFsbEl0ZW1QcmljZSA9IDA7XHJcbiAgICAgIGFwcC5vcmRlckRhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICBmb3IoaT0wOyBpPGFwcC5vcmRlckRhdGEubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGl0ZW1QcmljZVtpXSA9IGFwcC5vcmRlckRhdGFbaV0ucHJpY2UgKiBhcHAub3JkZXJEYXRhW2ldLmFtb3VudDtcclxuICAgICAgfVxyXG4gICAgICBmb3IoaT0wO2k8aXRlbVByaWNlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgIGFwcC5hbGxJdGVtUHJpY2UgPSBhcHAuYWxsSXRlbVByaWNlICsgaXRlbVByaWNlW2ldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuXHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHRoaXMuY29uZmlybU9yZGVyID0gZnVuY3Rpb24oZGF0YSl7XHJcbi8vIOuTseuhneuQnCDrsLDshqHsp4DqsIAg7J6I7J2EIOuVjCBwdXRcclxuICAgIHZhciBkZWxpRGF0YSA9ICcnO1xyXG4gICAgdmFyIHJlY2VpcHREYXRhID0gJyc7XHJcbiAgICBpZihhcHAuZGVsaXZlcnkpe1xyXG4vLyAgICDrs4Dqsr3sgqztla0g7JeG7J2MXHJcbiAgICAgIGlmKGRhdGEuZGFsaURhdGEgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+uzgOqyveyCrO2VrSDsl4bsnYwnKTtcclxuICAgICAgfVxyXG4vLyDrs4Dqsr3sgqztla0g7J6I7J2MXHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGRlbGlEYXRhID0gZGF0YS5kYWxpRGF0YTtcclxuICAgICAgICAvLyBkZWxpRGF0YS51c2VyX2lkID0gdXNlcl9pZDtcclxuICAgICAgICBPcmRlci51cGRhdGVEZWxpdmVyeShkZWxpRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbi8vIOuTseuhneuQnCDrsLDshqHsp4DqsIAg7JeG7J2EIOuVjCBwb3N0XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkZWxpRGF0YSA9IGRhdGEuZGFsaURhdGE7XHJcbiAgICAgIHJlY2VpcHREYXRhID0gZGF0YS5yZWNlaXB0RGF0YTtcclxuICAgICAgT3JkZXIuY3JlYXRlRGVsaXZlcnkoZGVsaURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMuZGVsZXRlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIHZhciBpdGVtX2lkID0gZGF0YS5pdGVtX2lkO1xyXG4gICAgT3JkZXIuZGVsZXRlT3JkZXIoaXRlbV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICB9ZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgfSlcclxuXHJcbi5jb250cm9sbGVyKCdiYXNrZXRDdHJsJywgZnVuY3Rpb24gKE9yZGVyLCAkd2luZG93LCAkc3RhdGUpIHtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBhcHAuYW1vdW50ID0gMTtcclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICB0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgIHZhciBiYXNrZXRfaWQgPSBkYXRhLmJhc2tldF9pZDtcclxuICAgICBPcmRlci5kZWxldGVCYXNrZXQoYmFza2V0X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcblxyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgIH07XHJcblxyXG4gIHRoaXMubWFrZUJhc2tldCA9IGZ1bmN0aW9uKCl7XHJcbiAgfTtcclxuXHJcbiAgT3JkZXIucmVhZEJhc2tldCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLmJhc2tldERhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICB2YXIgaTtcclxuICAgICAgdmFyIGtpbmQgPSBbXTtcclxuICAgICAgdmFyIHRlbXAgPSBbXTtcclxuICAgICAgdmFyIHNlbGVjdERhdGE7XHJcbiAgICAgIGZvcihpPTA7IGkgPCBhcHAuYmFza2V0RGF0YS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICBraW5kW2ldID0gYXBwLmJhc2tldERhdGFbaV0ua2luZC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgdGVtcFtpXSA9IGFwcC5iYXNrZXREYXRhW2ldLnByaWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvcihpPTA7IGk8a2luZC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgYXBwLmRhdGFbaV0gPSB7XHJcbiAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICBdLFxyXG4gICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICB9O1xyXG5cclxuICAgICAgICBmb3Ioaj0wO2o8a2luZFtpXS5sZW5ndGg7aisrKXtcclxuICAgICAgICAgIGFwcC5kYXRhW2ldLmF2YWlsYWJsZU9wdGlvbnNbaisxXSA9IHtcclxuICAgICAgICAgICAgbmFtZToga2luZFtpXVtqXSxcclxuICAgICAgICAgICAgaWQ6IE51bWJlcih0ZW1wW2ldW2pdKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2Jhbm5lckNvbnRyb2xsZXInLCBbXSlcclxuLmNvbnRyb2xsZXIoJ3VwbG9hZEJhbm5lckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsJHRpbWVvdXQsJGh0dHAsICR3aW5kb3csICRzdGF0ZSl7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgIHRoaXMuZmlsZSA9IHt9O1xyXG5cclxuICAgIC8vIOyeke2SiCDshKTrqoUg7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbiAgICB0aGlzLnJlYWRJbWFnZSA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgIC8vIOyeke2SiCDshKTrqoUgIOydtOuvuOyngCDsl4XroZzrk5ztlbTshJwg6rK966GcIOyggOyepVxyXG4gICAgdGhpcy51cGxvYWRCYW5uZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgLy8g7J6R7ZKIIOyEpOuqhSAg7JeF66Gc65OcIOyXrOu2gFxyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgYXBwLmV4cGxhaW5QaG90byA9IGZhbHNlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9hcGkvYmFubmVyLycsIGZkLHtcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgIGFwcC5leHBsYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgfSlcclxuXHJcbiAgICAuY29udHJvbGxlcignZ2V0QmFubmVyQ3RybCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgICAkaHR0cC5nZXQoJy9hcGkvYmFubmVyJykudGhlbihmdW5jdGlvbihyZXN1bHQpe1xyXG4gICAgICAgIGlmKHJlc3VsdC5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICBhcHAuYmFubmVyRGF0YSA9IHJlc3VsdC5kYXRhLmJhbm5lckRhdGE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwi67aI65+s7Jik7KeAIOuqu+2VmOyYgOyKteuLiOuLpC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYm9hcmRDb250cm9sbGVyJywgW10pXHJcbiAgICAuY29udHJvbGxlcignY3JlYXRlQm9hcmRDb250cm9sbGVyJywgZnVuY3Rpb24gKCRodHRwLCAkc3RhdGUpIHtcclxuICAgICAgICB2YXIgY3JlYXRlQm9hcmRDdHJsID0gdGhpcztcclxuICAgICAgICBjcmVhdGVCb2FyZEN0cmwuZG9Xcml0ZSA9IGZ1bmN0aW9uIChib2FyZERhdGEpIHtcclxuICAgICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9ib2FyZCcsIGJvYXJkRGF0YSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmJvYXJkJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdnYWxsZXJ5Q29udHJvbGxlcicsIFtdKVxyXG4uY29udHJvbGxlcigndXBsb2FkZ2FsbGVyeUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsJHRpbWVvdXQsJGh0dHAsICR3aW5kb3csICRzdGF0ZSl7XHJcbnZhciBhcHAgPSB0aGlzO1xyXG50aGlzLmZpbGUgPSB7fTtcclxuXHJcbi8vIOyeke2SiCDshKTrqoUg7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbnRoaXMucmVhZEltYWdlID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgIH1cclxuICB9O1xyXG5cclxuLy8g7J6R7ZKIIOyEpOuqhSAg7J2066+47KeAIOyXheuhnOuTnO2VtOyEnCDqsr3roZwg7KCA7J6lXHJcbnRoaXMudXBsb2FkSW1hZ2UgPSBmdW5jdGlvbihpdGVtVGl0bGUpe1xyXG4vLyDsnpHtkogg7ISk66qFICDsl4XroZzrk5wg7Jes67aAXHJcbiAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgYXBwLmV4cGxhaW5QaG90byA9IGZhbHNlO1xyXG4gIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgZmQudGl0bGUgPSBpdGVtVGl0bGU7XHJcbiAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgJGh0dHAucGF0Y2goJy9hcGkvZ2FsbGVyeS8nLCBmZCwge1xyXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5pbWFnZVBhdGggPSBkYXRhLmRhdGEuaW1hZ2VfcGF0aDtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgIGFwcC5leHBsYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMudXBsb2FkR2FsbGVyeSA9IGZ1bmN0aW9uKHRpdGxlKXtcclxuICAgIGdhbGxlcnlEYXRhID0ge1xyXG4gICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgIGltYWdlUGF0aCA6IGFwcC5pbWFnZVBhdGhcclxuICAgIH07XHJcbiAgICAkaHR0cC5wb3N0KCcvYXBpL2dhbGxlcnknLCBnYWxsZXJ5RGF0YSkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xyXG4gICAgfSk7XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdnZXRHYWxsZXJ5Q3RybCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnknKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XHJcbiAgICBpZihyZXN1bHQuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuZ2FsbGVyeURhdGEgPSByZXN1bHQuZGF0YS5nYWxsZXJ5RGF0YTtcclxuICAgICAgICBjb25zb2xlLmxvZyhhcHAuZ2FsbGVyeURhdGEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coXCLrtojrn6zsmKTsp4Ag66q77ZWY7JiA7Iq164uI64ukLlwiKTtcclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdpdGVtQ29udHJvbGxlcnMnLCBbJ29yZGVyU2VydmljZXMnXSlcclxuICAgIC5maWx0ZXIoJ3N1bUJ5S2V5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSA/IGlucHV0Lmxlbmd0aCA6IDA7XHJcbi8vIGlmIHByb3BlcnR5IGlzIG5vdCBkZWZpbmVkLCByZXR1cm5zIGxlbmd0aCBvZiBhcnJheVxyXG4vLyBpZiBhcnJheSBoYXMgemVybyBsZW5ndGggb3IgaWYgaXQgaXMgbm90IGFuIGFycmF5LCByZXR1cm4gemVyb1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAndW5kZWZpbmVkJyB8fCBpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuLy8gdGVzdCBpZiBwcm9wZXJ0eSBpcyBudW1iZXIgc28gaXQgY2FuIGJlIGNvdW50ZWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKVxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IChpbnB1dFtpXVtwcm9wZXJ0eVswXV0gKiBpbnB1dFtpXVtwcm9wZXJ0eVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pXHJcbiAgICAuY29udHJvbGxlcignZ2V0VHlwZUl0ZW1zQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsICRodHRwKSB7XHJcbiAgICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHZhciBjYXRlZ29yeV9pZCA9ICRzdGF0ZVBhcmFtcy5jYXRlZ29yeV9pZDtcclxuICAgICAgICBpZiAoISRzdGF0ZVBhcmFtcy50eXBlX2NvZGUpIHtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL2l0ZW1fdHlwZS8nICsgY2F0ZWdvcnlfaWQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn65Ox66Gd65CcIOyDge2SiOydtCDsl4bsirXri4jri6QuJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuaXRlbXNEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgdHlwZV9jb2RlID0gJHN0YXRlUGFyYW1zLnR5cGVfY29kZTtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL2l0ZW1fdHlwZS8nICsgY2F0ZWdvcnlfaWQsXHJcbiAgICAgICAgICAgICAgICB7cGFyYW1zOiB7dHlwZV9jb2RlOiB0eXBlX2NvZGV9fVxyXG4gICAgICAgICAgICApLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn65Ox66Gd65CcIOyDge2SiOydtCDsl4bsirXri4jri6QuJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuaXRlbXNEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSlcclxuXHJcbiAgICAuY29udHJvbGxlcignZ2V0VHlwZUl0ZW1DdHJsJywgZnVuY3Rpb24gKEFkbWluLCAkc3RhdGVQYXJhbXMsICR3aW5kb3csICRzdGF0ZSwgT3JkZXIpIHtcclxuICAgICAgICB2YXIgYXBwID0gdGhpcztcclxuICAgICAgICB2YXIgaXRlbV9pZCA9ICRzdGF0ZVBhcmFtcy5pdGVtX2lkO1xyXG4gICAgICAgIGFwcC5vcHRpb25JdGVtID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGFwcC5kYXRhID0ge1xyXG4gICAgICAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFwcC5hbW91bnQgPSAxO1xyXG5cclxuICAgICAgICBhcHAub3B0aW9uTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmlkID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsmLXshZjsnYQg7ISg7YOd7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLm9wdGlvbkl0ZW0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYXBwLm9wdGlvbkxpc3QucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IGRhdGEubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IGRhdGEuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVCYXNrZXQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgYmFza2V0RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGl0ZW1faWQ6IGRhdGEuaXRlbV9pZCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT3JkZXIuY3JlYXRlQmFza2V0KGJhc2tldERhdGEpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVPcmRlciA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgb3JkZXJEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgaXRlbV9pZDogZGF0YS5pdGVtX2lkLFxyXG4gICAgICAgICAgICAgICAgYW1vdW50OiBkYXRhLmFtb3VudCxcclxuICAgICAgICAgICAgICAgIGtpbmRfb2Y6IGRhdGEua2luZF9vZixcclxuICAgICAgICAgICAgICAgIHByaWNlOiBkYXRhLnByaWNlXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBPcmRlci5jcmVhdGVPcmRlcihvcmRlckRhdGEpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAubWFrZU9yZGVyJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIEFkbWluLnJlYWRJdGVtKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIga2luZCA9IGRhdGEuZGF0YS5yZXN1bHQua2luZC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBkYXRhLmRhdGEucmVzdWx0LnByaWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJpY2UgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpY2VbaV0gPSBOdW1iZXIodGVtcFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYXBwLml0ZW1EYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcHJpY2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2kgKyAxXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToga2luZFtpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHByaWNlW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtYW5hZ2VtZW50Q29udHJvbGxlcnMnLCBbJ2FkbWluU2VydmljZXMnLCAnbWVudVNlcnZpY2VzJywgJ29yZGVyU2VydmljZXMnXSlcclxuXHJcbi5jb250cm9sbGVyKCdyZWFkSXRlbXNDdHJsJywgZnVuY3Rpb24oQWRtaW4sICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgQWRtaW4ucmVhZEl0ZW1zKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAuaXRlbXNEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB0aGlzLmRlbGV0ZUl0ZW0gPSBmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgdmFyIGl0ZW1faWQgPSBkYXRhLml0ZW1faWQ7XHJcbiAgICBBZG1pbi5kZWxldGVJdGVtKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdyZWFkSXRlbUN0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlUGFyYW1zLCAkc2NvcGUsIE9yZGVyLCAkd2luZG93KXtcclxuXHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgIHZhciBpdGVtX2lkID0gJHN0YXRlUGFyYW1zLml0ZW1faWQ7XHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG5cclxuICAgICBhcHAuYW1vdW50ID0gMTtcclxuXHJcbiAgICBBZG1pbi5yZWFkSXRlbShpdGVtX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgdmFyIGtpbmQgPSBkYXRhLmRhdGEucmVzdWx0LmtpbmQuc3BsaXQoJywnKTtcclxuICAgICAgICB2YXIgdGVtcCA9IGRhdGEuZGF0YS5yZXN1bHQucHJpY2Uuc3BsaXQoJywnKTtcclxuICAgICAgICB2YXIgcHJpY2UgPSBbXTtcclxuICAgICAgICBmb3IoaT0wO2k8dGVtcC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgIHByaWNlW2ldID0gTnVtYmVyKHRlbXBbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcHAuaXRlbURhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uID0ge1xyXG4gICAgICAgICAgaWQgOiBwcmljZVswXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZvcihpPTA7IGk8cHJpY2UubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBraW5kW2ldLFxyXG4gICAgICAgICAgICBpZDogcHJpY2VbaV1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxufSlcclxuXHJcblxyXG5cclxuXHJcbi5jb250cm9sbGVyKCd1cGRhdGVJdGVtQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGVQYXJhbXMsICRzY29wZSwgJGh0dHAsICR0aW1lb3V0LCAgJHN0YXRlLCAkd2luZG93LCBNZW51KXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgaXRlbV9pZCA9ICRzdGF0ZVBhcmFtcy5pdGVtX2lkO1xyXG5cclxuICAgICAgICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAgICAgIHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgYXBwLmRhdGEyID0ge1xyXG4gICAgICAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0ubmFtZSxcclxuICAgICAgICAgICAgICAgICAgaWQ6IHR5cGVbaV0uY2F0ZWdvcnlfaWRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB0aGlzLnJlYWRNZW51ID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAucmVhZE1lbnVTdGF0dXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYoZGF0YS5pZCA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnlfaWQgPSBkYXRhLmlkO1xyXG4gICAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS9tZW51LycrY2F0ZWdvcnlfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAvLyDstIjquLDtmZQg7Iuc7YK0XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5yZXN1bHQubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGF0YTIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+uTseuhneuQnCDsg4HtkojsnbQg7JeG7Iq164uI64ukLicpO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5yZWFkTWVudVN0YXR1cyA9IHRydWU7XHJcbiAgICAvLyDstIjquLDtmZQg7Iuc7Lyc7JW87ZWY64qU642wIOyWtOuWu+qyjCDtlaDquYzsmpRcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGF0YTIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZGF0YTIuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLnR5cGVfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0eXBlW2ldLml0ZW1fdHlwZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gIEFkbWluLnJlYWRJdGVtKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLml0ZW1EYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24gPSB7XHJcbiAgICAgICAgaWQgOiBhcHAuaXRlbURhdGEuY2F0ZWdvcnlfaWRcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG5cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdGhpcy51cGRhdGVJdGVtID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGFwcC5yZWFkTWVudVN0YXR1cyl7XHJcbiAgICAgIGlmKGRhdGEuaXRlbV90eXBlID09PSAwIHx8IGRhdGEuaXRlbV90eXBlID09PSAnMCcpe1xyXG4gICAgICAgICR3aW5kb3cuYWxlcnQoJ+yDge2SiCDrtoTrpZjrpbwg7ISg7YOd7ZW07KO87IS47JqULiEnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgICAgIHR5cGU6IGRhdGEuaXRlbV90eXBlLFxyXG4gICAgICAgICAgaXRlbV9uYW1lOiBkYXRhLml0ZW1fbmFtZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgICRodHRwLnB1dCgnL2FwaS9pdGVtLycraXRlbV9pZCwgdXBkYXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdXBkYXRlRGF0YTIgPSB7XHJcbiAgICAgICAgICB0eXBlOiBhcHAuaXRlbURhdGEuaXRlbV90eXBlX2lkLFxyXG4gICAgICAgICAgaXRlbV9uYW1lOiBkYXRhLml0ZW1fbmFtZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgICRodHRwLnB1dCgnL2FwaS9pdGVtLycraXRlbV9pZCwgdXBkYXRlRGF0YTIpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG5cclxufTtcclxuXHJcblxyXG4gIC8vIO2MjOydvOydmCDqsr3roZzrp4wg7KCA7J6l7ZWY6riwIOuplOyduCDsnbTrr7jsp4Ag66eM65Ok6riwXHJcbiAgICAgIHRoaXMuZmlsZSA9IHt9O1xyXG4gIC8vIOuplOyduCDsnpHtkojsnbTrr7jsp4Ag7JeF66Gc65OcIOuQmOyXiOuKlOyngCDrs7Tsl6zso7zquLBcclxuICAgICAgdGhpcy5tYWluUGhvdG9DaGFuZ2VkID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAvLyDrqZTsnbgg7J6R7ZKIIOydtOuvuOyngCDsl4XroZzrk5ztlbTshJwg6rK966GcIOyggOyepVxyXG4gICAgICB0aGlzLnJlYWRQaG90byA9IGZ1bmN0aW9uKCl7XHJcbiAgLy8g66mU7J24IOydtOuvuOyngCDsl4XroZzrk5wg7Jes67aAXHJcbiAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgYXBwLm1haW5QaG90byA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9jcmVhdGVQaG90b0ltYWdlLycsIGZkLHtcclxuICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcbiAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgYXBwLm1haW5QaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgICAgICAgICBpbWFnZTogZGF0YS5kYXRhLml0ZW1fcGF0aFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkaHR0cC5wdXQoJy9hcGkvaXRlbS8nK2l0ZW1faWQsIHVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAvLyDsnpHtkogg7ISk66qFIOydtOuvuOyngCDsl4XroZzrk5wg65CY7JeI64qU7KeAIOuztOyXrOyjvOq4sFxyXG4gICAgICB0aGlzLmV4cGxhaW5QaG90b0NoYW5nZWQgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZXNbMF0ubmFtZS5tYXRjaCgvXFwuKHBuZ3xqcGVnfGpwZykkLykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gIC8vIOyeke2SiCDshKTrqoUgIOydtOuvuOyngCDsl4XroZzrk5ztlbTshJwg6rK966GcIOyggOyepVxyXG4gICAgICB0aGlzLnJlYWRQaG90b0V4cGxhaW4gPSBmdW5jdGlvbigpe1xyXG4gIC8vIOyeke2SiCDshKTrqoUgIOyXheuhnOuTnCDsl6zrtoBcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICBhcHAuZXhwbGFpblBob3RvID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmZC5hcHBlbmQoJ215ZmlsZScsIGFwcC5maWxlLnVwbG9hZCk7XHJcbiAgICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2NyZWF0ZVBob3RvRXhwbGFpbi8nLCBmZCx7XHJcbiAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGFwcC5leHBsYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgZXhwbGFpbjogZGF0YS5kYXRhLml0ZW1fcGF0aFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkaHR0cC5wdXQoJy9hcGkvaXRlbS8nK2l0ZW1faWQsIHVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gIC8vIOyNuOuEpOydvCDsnbTrr7jsp4Ag66eM65Ok6riwXHJcbiAgICAgICAgYXBwLm15SW1hZ2U9Jyc7XHJcbiAgICAgICAgYXBwLm15Q3JvcHBlZEltYWdlPScnO1xyXG5cclxuICAgICAgICB2YXIgaGFuZGxlRmlsZVNlbGVjdD1mdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgdmFyIGZpbGU9ZXZ0LmN1cnJlbnRUYXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgIGFwcC5teUltYWdlPWV2dC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlSW5wdXQnKSkub24oJ2NoYW5nZScsaGFuZGxlRmlsZVNlbGVjdCk7XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gZGVjb2RlQmFzZTY0SW1hZ2UoZGF0YVN0cmluZykge1xyXG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGRhdGFTdHJpbmcubWF0Y2goL15kYXRhOihbQS1aYS16LStcXC9dKyk7YmFzZTY0LCguKykkLyk7XHJcblxyXG4gICAgICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggIT09IDMpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0IHN0cmluZycpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA6IG1hdGNoZXNbMV0sXHJcbiAgICAgICAgICAgICAgICBkYXRhIDogbWF0Y2hlc1syXVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZpbGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgLy8g7I2464Sk7J28IOydtOuvuOyngCDroZzsu6zrlJTsiqTtgazsl5Ag7KCA7J6lIO2bhCDsoIDsnqUg7JyE7LmYIOqwgOyguOyYpOq4sFxyXG4gICAgICAgICAgdGhpcy5yZWFkQ3JvcEltYWdlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAudGh1bWJuYWlsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuYmFzZTY0VXJsID09PSAnJyB8fCBkYXRhLmJhc2U2NFVybCA9PT0gbnVsbCB8fCBkYXRhLmJhc2U2NFVybCA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgdmFyIGJsb2IgPSBkZWNvZGVCYXNlNjRJbWFnZSgkc2NvcGUubXlDcm9wcGVkSW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICBBZG1pbi5yZWFkQXJpc3RDcm9wKGJsb2IpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWw6IGRhdGEuZGF0YS5maWxlUGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICRodHRwLnB1dCgnL2FwaS9pdGVtLycraXRlbV9pZCwgdXBkYXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcblxyXG59KVxyXG5cclxuXHJcblxyXG4uY29udHJvbGxlcignY3JlYXRlSXRlbUN0cmwnLCBmdW5jdGlvbiAoJGh0dHAsICR0aW1lb3V0LCAkc2NvcGUsIEFkbWluLCAkc3RhdGUsICR3aW5kb3csIE1lbnUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuXHJcbiAgICAgIGFwcC5raW5kTGlzdCA9IFtdO1xyXG4gICAgICBhcHAudHlwZV90aW55ID0gW107XHJcbiAgICAgIGFwcC50eXBlX3ByaWNlID0gW107XHJcblxyXG4gICAgICB0aGlzLmFkZExpbmUgPSBmdW5jdGlvbihraW5kRGF0YSl7XHJcbiAgICAgICAgaWYoIWtpbmREYXRhKXtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+ygle2Zle2VnCDqsJLsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZihraW5kRGF0YS5raW5kVmFsdWUgPT09IG51bGwgfHwga2luZERhdGEua2luZFZhbHVlID09PSB1bmRlZmluZWQgfHwga2luZERhdGEua2luZFZhbHVlID09PSAnJylcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7Ji17IWY66qF7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSBpZihraW5kRGF0YS5raW5kUHJpY2UgPT09IG51bGwgfHwga2luZERhdGEua2luZFByaWNlID09PSB1bmRlZmluZWQgfHwga2luZERhdGEua2luZFByaWNlID09PSAnJyl7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+yYteyFmCDqsIDqsqnsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBwLmtpbmRMaXN0LnB1c2goXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2luZDoga2luZERhdGEua2luZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgcHJpY2U6IGtpbmREYXRhLmtpbmRQcmljZVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYXBwLnR5cGVfdGlueS5wdXNoKGtpbmREYXRhLmtpbmRWYWx1ZSk7XHJcbiAgICAgICAgICAgIGFwcC50eXBlX3ByaWNlLnB1c2goa2luZERhdGEua2luZFByaWNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9O1xyXG5cclxuICAgICBhcHAuZGF0YSA9IHtcclxuICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgXSxcclxuICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXBwLmRhdGEyID0ge1xyXG4gICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgfTtcclxuXHJcbiAgICAgIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLm5hbWUsXHJcbiAgICAgICAgICAgICAgaWQ6IHR5cGVbaV0uY2F0ZWdvcnlfaWRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMucmVhZE1lbnUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmlkID09PSAwKXtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBjYXRlZ29yeV9pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvbWVudS8nK2NhdGVnb3J5X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbi8vIOy0iOq4sO2ZlCDsi5ztgrRcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGF0YTIgPSB7XHJcbiAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfrk7HroZ3rkJwg7IOB7ZKI7J20IOyXhuyKteuLiOuLpC4nKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4vLyDstIjquLDtmZQg7Iuc7Lyc7JW87ZWY64qU642wIOyWtOuWu+qyjCDtlaDquYzsmpRcclxuICAgICAgICAgICAgICAgIGFwcC5kYXRhMiA9IHtcclxuICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgICAgYXBwLmRhdGEyLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLnR5cGVfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHR5cGVbaV0uaXRlbV90eXBlX2lkXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcblxyXG4vLyDtjIzsnbzsnZgg6rK966Gc66eMIOyggOyepe2VmOq4sCDrqZTsnbgg7J2066+47KeAIOunjOuTpOq4sFxyXG4gICAgdGhpcy5maWxlID0ge307XHJcbi8vIOuplOyduCDsnpHtkojsnbTrr7jsp4Ag7JeF66Gc65OcIOuQmOyXiOuKlOyngCDrs7Tsl6zso7zquLBcclxuICAgIHRoaXMubWFpblBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuXHJcbi8vIOuplOyduCDsnpHtkogg7J2066+47KeAIOyXheuhnOuTnO2VtOyEnCDqsr3roZwg7KCA7J6lXHJcbiAgICB0aGlzLnJlYWRQaG90byA9IGZ1bmN0aW9uKCl7XHJcbi8vIOuplOyduCDsnbTrr7jsp4Ag7JeF66Gc65OcIOyXrOu2gFxyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgYXBwLm1haW5QaG90byA9IGZhbHNlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9hcGkvY3JlYXRlUGhvdG9JbWFnZS8nLCBmZCx7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICBhcHAubWFpblBob3RvID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLm1haW5JbWFnZVBhdGggPSBkYXRhLmRhdGEuaXRlbV9wYXRoO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbi8vIOyeke2SiCDshKTrqoUg7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbiAgICB0aGlzLmV4cGxhaW5QaG90b0NoYW5nZWQgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcblxyXG4vLyDsnpHtkogg7ISk66qFICDsnbTrr7jsp4Ag7JeF66Gc65Oc7ZW07IScIOqyveuhnCDsoIDsnqVcclxuICAgIHRoaXMucmVhZFBob3RvRXhwbGFpbiA9IGZ1bmN0aW9uKCl7XHJcbi8vIOyeke2SiCDshKTrqoUgIOyXheuhnOuTnCDsl6zrtoBcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIGFwcC5leHBsYWluUGhvdG8gPSBmYWxzZTtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2NyZWF0ZVBob3RvRXhwbGFpbi8nLCBmZCx7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICBhcHAuZXhwbGFpblBob3RvID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmV4cGxhaW5JbWFnZVBhdGggPSBkYXRhLmRhdGEuaXRlbV9wYXRoO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcblxyXG4vLyDsjbjrhKTsnbwg7J2066+47KeAIOunjOuTpOq4sFxyXG4gICAgICBhcHAubXlJbWFnZT0nJztcclxuICAgICAgYXBwLm15Q3JvcHBlZEltYWdlPScnO1xyXG5cclxuICAgICAgdmFyIGhhbmRsZUZpbGVTZWxlY3Q9ZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgdmFyIGZpbGU9ZXZ0LmN1cnJlbnRUYXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLm15SW1hZ2U9ZXZ0LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICB9O1xyXG4gICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZUlucHV0JykpLm9uKCdjaGFuZ2UnLGhhbmRsZUZpbGVTZWxlY3QpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZWNvZGVCYXNlNjRJbWFnZShkYXRhU3RyaW5nKSB7XHJcbiAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGRhdGFTdHJpbmcubWF0Y2goL15kYXRhOihbQS1aYS16LStcXC9dKyk7YmFzZTY0LCguKykkLyk7XHJcblxyXG4gICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoICE9PSAzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgaW5wdXQgc3RyaW5nJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9IHtcclxuICAgICAgICAgICAgICB0eXBlIDogbWF0Y2hlc1sxXSxcclxuICAgICAgICAgICAgICBkYXRhIDogbWF0Y2hlc1syXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gZmlsZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4vLyDsjbjrhKTsnbwg7J2066+47KeAIOuhnOy7rOuUlOyKpO2BrOyXkCDsoIDsnqUg7ZuEIOyggOyepSDsnITsuZgg6rCA7KC47Jik6riwXHJcbiAgICAgICAgdGhpcy5yZWFkQ3JvcEltYWdlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgIGFwcC50aHVtYm5haWwgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBpZihkYXRhLmJhc2U2NFVybCA9PT0gJycgfHwgZGF0YS5iYXNlNjRVcmwgPT09IG51bGwgfHwgZGF0YS5iYXNlNjRVcmwgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IGRlY29kZUJhc2U2NEltYWdlKCRzY29wZS5teUNyb3BwZWRJbWFnZSk7XHJcbiAgICAgICAgICAgICAgICBBZG1pbi5yZWFkQXJpc3RDcm9wKGJsb2IpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC50aHVtYm5haWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC50aHVtYm5haWxQYXRoID0gZGF0YS5kYXRhLmZpbGVQYXRoO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuXHJcbi8vIOyekeqwgCDsnpHtkogg7JeF66Gc65OcXHJcbiAgICAgIHRoaXMuY3JlYXRlUGhvdG8gPSBmdW5jdGlvbih1cGxvYWREYXRhKXtcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICBpZih1cGxvYWREYXRhID09PSB1bmRlZmluZWQgfHwgdXBsb2FkRGF0YSA9PT0gbnVsbCB8fCB1cGxvYWREYXRhID09PSAnJyl7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KCfruYjsubjsnYQg66qo65GQIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZihhcHAuZGF0YTIuc2VsZWN0ZWRPcHRpb24uaWQgPT09ICcwJyl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsg4Htkogg67aE66WY7J2EIOyEoO2Dne2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSBpZih1cGxvYWREYXRhLnRpdGxlID09PSB1bmRlZmluZWQgfHwgdXBsb2FkRGF0YS50aXRsZSA9PT0gIG51bGwgfHwgdXBsb2FkRGF0YS50aXRsZT09PSAnJyl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsg4Htkogg7KCc66qp66W8IOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vICAgZWxzZSBpZihhcHAubWFpbkltYWdlUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC5tYWluSW1hZ2VQYXRoID09PSAgbnVsbCB8fCBhcHAubWFpbkltYWdlUGF0aCA9PT0gJycpe1xyXG4gICAgICAgICAgLy8gICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgLy8gICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIC8vICAgJHdpbmRvdy5hbGVydCgn7IOB7ZKIIOydtOuvuOyngOulvCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAvLyBlbHNlIGlmKGFwcC5leHBsYWluSW1hZ2VQYXRoID09PSB1bmRlZmluZWQgfHwgYXBwLmV4cGxhaW5JbWFnZVBhdGggPT09IG51bGwgfHwgYXBwLmV4cGxhaW5JbWFnZVBhdGggPT09ICcnKSB7XHJcbiAgICAgICAgICAvLyAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAvLyAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgLy8gICAkd2luZG93LmFsZXJ0KCfsg4Htkogg7ISk66qFIOydtOuvuOyngOulvCDsl4XroZzrk5ztlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICAvLyB9IGVsc2UgaWYoYXBwLnRodW1ibmFpbFBhdGggPT09IHVuZGVmaW5lZCB8fCBhcHAudGh1bWJuYWlsUGF0aCA9PT0gbnVsbCB8fCBhcHAudGh1bWJuYWlsUGF0aCA9PT0gJycpIHtcclxuICAgICAgICAgIC8vICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgIC8vICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAvLyAgICR3aW5kb3cuYWxlcnQoJ+yNuOuEpOydvCDsnbTrr7jsp4Drpbwg7JeF66Gc65Oc7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogdXBsb2FkRGF0YS50aXRsZSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IGFwcC5kYXRhMi5zZWxlY3RlZE9wdGlvbi5pZCxcclxuICAgICAgICAgICAgICAgIC8vIHRodW1ibmFpbDogYXBwLnRodW1ibmFpbFBhdGgsXHJcbiAgICAgICAgICAgICAgICAvLyBleHBsYWluOiBhcHAuZXhwbGFpbkltYWdlUGF0aCxcclxuICAgICAgICAgICAgICAgIC8vIGltYWdlOiBhcHAubWFpbkltYWdlUGF0aCxcclxuICAgICAgICAgICAgICAgIGtpbmQ6IGFwcC50eXBlX3RpbnkudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIHByaWNlOiBhcHAudHlwZV9wcmljZS50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBBZG1pbi5jcmVhdGVJdGVtKGFwcC51cGxvYWREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ21lbnVDb250cm9sbGVycycsWydtZW51U2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ21haW5NZW51Q3RybCcsIGZ1bmN0aW9uIChNZW51LCAkc3RhdGUpIHtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgdGhpcy5jcmVhdGVNZW51ID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIG1lbnVEYXRhID0ge1xyXG4gICAgICAgICAgbmFtZTogZGF0YS5uYW1lXHJcbiAgICAgIH07XHJcbiAgICAgIE1lbnUuY3JlYXRlTWVudShtZW51RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRoaXMudXBkYXRlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIHZhciB1cGRhdGVEYXRhID0ge1xyXG4gICAgICBjYXRlZ29yeV9pZDogZGF0YS5jYXRlZ29yeV9pZCxcclxuICAgICAgbmFtZTogZGF0YS5uYW1lXHJcbiAgICB9O1xyXG4gICAgICBNZW51LnVwZGF0ZU1lbnUodXBkYXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuZGVsZXRlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIHZhciBkZWxldGVEYXRhID0gZGF0YS5jYXRlZ29yeV9pZDtcclxuICAgIE1lbnUuZGVsZXRlTWVudShkZWxldGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3N1Yk1lbnVDdHJsJywgZnVuY3Rpb24gKE1lbnUsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCAkaHR0cCkge1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBjYXRlZ29yeV9pZCA9ICRzdGF0ZVBhcmFtcy5jYXRlZ29yeV9pZDtcclxuXHJcbiAgJGh0dHAuZ2V0KCcvYXBpL2NhdGVnb3J5LycrY2F0ZWdvcnlfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5zdWJNZW51RGF0YXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndHlwZUNvbnRyb2xsZXJzJywgWydhZG1pblNlcnZpY2VzJywgJ21lbnVTZXJ2aWNlcycsICdvcmRlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCd1cGRhdGVJdGVtVHlwZUN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIE1lbnUsIEFkbWluLCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBpdGVtX2lkID0gJHN0YXRlUGFyYW1zLml0ZW1faWQ7XHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgfTtcclxuXHJcblxyXG5cclxuICAgQWRtaW4ucmVhZFVwZGF0ZUl0ZW1UeXBlKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgaWQ6IHR5cGVbaV0uY2F0ZWdvcnlfaWRcclxuICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgYXBwLnVwZGF0YURhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgIGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uID0ge1xyXG4gICAgICAgICAgICAgaWQgOiBhcHAudXBkYXRhRGF0YS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgIHZhciBzcGxpdE9wdGlvbkRhdGFzID0ge1xyXG4gICAgICAgICAgICAgICAgICAga2luZDogYXBwLnVwZGF0YURhdGEua2luZC5zcGxpdCgnLCcpLFxyXG4gICAgICAgICAgICAgICAgICAgcHJpY2U6IGFwcC51cGRhdGFEYXRhLnByaWNlLnNwbGl0KCcsJylcclxuICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgYXBwLm9wdGlvbkRhdGFzID0gW107XHJcblxyXG4gICAgICAgICAgIGZvcihpPTA7IGkgPCBzcGxpdE9wdGlvbkRhdGFzLmtpbmQubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgYXBwLm9wdGlvbkRhdGFzW2ldID0ge1xyXG4gICAgICAgICAgICAgICBraW5kOiBzcGxpdE9wdGlvbkRhdGFzLmtpbmRbaV0sXHJcbiAgICAgICAgICAgICAgIHByaWNlOiAgc3BsaXRPcHRpb25EYXRhcy5wcmljZVtpXSxcclxuICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgfVxyXG5cclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG5cclxuICAgICAgIH1cclxuICAgfSk7XHJcblxyXG4gICB0aGlzLnVwZGF0ZVR5cGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICBhcHAudXBkYXRlRGF0YSA9IGRhdGE7XHJcbiAgICAgYXBwLnVwZGF0ZURhdGEuY2F0ZWdvcnlfaWQgPSBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZDtcclxuICAgICBBZG1pbi51cGRhdGVVcGRhdGVUeXBlKGFwcC51cGRhdGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG4gICB9O1xyXG5cclxuICAgdGhpcy51cGRhdGVpdGVtVHlwZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIHZhciBraW5kQXJyYXkgPSBbXTtcclxuICAgICB2YXIgcHJpY2VBcnJheSA9IFtdO1xyXG4gICAgIGZvcihpPTA7aTxhcHAub3B0aW9uRGF0YXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICBraW5kQXJyYXkucHVzaChhcHAub3B0aW9uRGF0YXNbaV0ua2luZCk7XHJcbiAgICAgICBwcmljZUFycmF5LnB1c2goYXBwLm9wdGlvbkRhdGFzW2ldLnByaWNlKTtcclxuICAgICB9XHJcbiAgICAgdmFyIHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICBpdGVtX2lkOiBkYXRhLml0ZW1faWQsXHJcbiAgICAgICBpdGVtX25hbWU6IGRhdGEuaXRlbV9uYW1lLFxyXG4gICAgICAgcHJpY2U6IHByaWNlQXJyYXkudG9TdHJpbmcoKSxcclxuICAgICAgIGtpbmQ6IGtpbmRBcnJheS50b1N0cmluZygpXHJcbiAgICAgfTtcclxuXHJcbiAgICAgQWRtaW4udXBkYXRlSXRlbVR5cGUodXBkYXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuXHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgIH07XHJcblxyXG5cclxuXHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVhZEl0ZW1UeXBlQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGUsICR3aW5kb3csIE1lbnUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG5cclxuICAgICB0aGlzLmNvcHlJdGVtVHlwZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG5cclxuICAgICAgIHZhciBpdGVtRGF0YSA9IHtcclxuICAgICAgICAgdHlwZTogZGF0YS5pdGVtX3R5cGVfaWQsXHJcbiAgICAgICAgIHRpdGxlOiBkYXRhLml0ZW1fbmFtZSxcclxuICAgICAgICAga2luZDogZGF0YS5raW5kLnRvU3RyaW5nKCksXHJcbiAgICAgICAgIHByaWNlOiBkYXRhLnByaWNlLnRvU3RyaW5nKClcclxuXHJcbiAgICAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgIEFkbWluLmNyZWF0ZUl0ZW0oaXRlbURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgIH07XHJcblxyXG4gICB0aGlzLmRlbGV0ZVR5cGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICB2YXIgaXRlbV9pZCA9IGRhdGEuaXRlbV9pZDtcclxuICAgICBBZG1pbi5kZWxldGVJdGVtKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG4gICB9O1xyXG5cclxuLy8g7IOB7ZKIIOu2hOulmO2RnFxyXG4gIEFkbWluLnJlYWRJdGVtVHlwZSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLm5hbWUsXHJcbiAgICAgICAgICAgICAgaWQ6IHR5cGVbaV0uY2F0ZWdvcnlfaWRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgYXBwLnR5cGVEYXRhcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgIHZhciBraW5kRGF0YXMgPSBbXTtcclxuXHJcbiAgICAgIGZvcih2YXIgaT0wOyBpPGRhdGEuZGF0YS5yZXN1bHQubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAga2luZERhdGFzW2ldID0ge1xyXG4gICAgICAgICAgICAgIGtpbmQ6IGFwcC50eXBlRGF0YXNbaV0ua2luZC5zcGxpdCgnLCcpLFxyXG4gICAgICAgICAgICAgIHByaWNlOiBhcHAudHlwZURhdGFzW2ldLnByaWNlLnNwbGl0KCcsJylcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBhcHAudHlwZURhdGFzW2ldLmtpbmQgPSBraW5kRGF0YXNbaV0ua2luZDtcclxuICAgICAgICAgIGFwcC50eXBlRGF0YXNbaV0ucHJpY2UgPSBraW5kRGF0YXNbaV0ucHJpY2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcblxyXG4vLyDsg4Htkogg67aE66WY7ZGcXHJcbi5jb250cm9sbGVyKCd1cGRhdGVUeXBlQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgTWVudSwgQWRtaW4sICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIGl0ZW1fdHlwZSA9ICRzdGF0ZVBhcmFtcy5pdGVtX3R5cGU7XHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgfTtcclxuXHJcbiAgIEFkbWluLnJlYWRVcGRhdGVUeXBlKGl0ZW1fdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0ubmFtZSxcclxuICAgICAgICAgICAgICAgICBpZDogdHlwZVtpXS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgICAgIGFwcC51cGRhdGFEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbiA9IHtcclxuICAgICAgICAgICAgIGlkIDogYXBwLnVwZGF0YURhdGEuY2F0ZWdvcnlfaWRcclxuICAgICAgICAgICB9O1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcblxyXG4gICAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIHRoaXMudXBkYXRlVHlwZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC51cGRhdGVEYXRhID0gZGF0YTtcclxuICAgICBhcHAudXBkYXRlRGF0YS5jYXRlZ29yeV9pZCA9IGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xyXG4gICAgIEFkbWluLnVwZGF0ZVVwZGF0ZVR5cGUoYXBwLnVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgIH07XHJcbn0pXHJcblxyXG4vLyDsg4Htkogg67aE66WY7ZGcXHJcbi5jb250cm9sbGVyKCdyZWFkVHlwZUN0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlLCAkd2luZG93LCBNZW51KXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICAgIGFwcC5kYXRhID0ge1xyXG4gICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG5cclxuICAgIHRoaXMuY29weVR5cGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgdmFyIHR5cGVEYXRhID0ge1xyXG4gICAgICAgIGNhdGVnb3J5OiBkYXRhLmNhdGVnb3J5X2lkLFxyXG4gICAgICAgIHR5cGVfZGVzY3JpcHRpb246IGRhdGEudHlwZV9kZXNjcmlwdGlvbixcclxuICAgICAgICB0eXBlX2NvZGU6IGRhdGEudHlwZV9jb2RlXHJcbiAgICAgIH07XHJcbiAgICAgIEFkbWluLmNyZWF0ZVR5cGUodHlwZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICB0aGlzLmRlbGV0ZVR5cGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICB2YXIgaXRlbV90eXBlX2lkID0gZGF0YS5pdGVtX3R5cGU7XHJcbiAgICAgQWRtaW4uZGVsZXRlVHlwZShpdGVtX3R5cGVfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG4gICB9O1xyXG5cclxuLy8g7IOB7ZKIIOu2hOulmO2RnFxyXG4gIEFkbWluLnJlYWRUeXBlKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgTWVudS5yZWFkTWFpbk1lbnUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgIG5hbWU6IHR5cGVbaV0ubmFtZSxcclxuICAgICAgICAgICAgICBpZDogdHlwZVtpXS5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBhcHAudHlwZURhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi8vIOyDge2SiCDrtoTrpZjtkZxcclxuLmNvbnRyb2xsZXIoJ2NyZWF0ZVR5cGVDdHJsJywgZnVuY3Rpb24oQWRtaW4sICRzdGF0ZSwgTWVudSwgJHdpbmRvdyl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgfTtcclxuXHJcbiAgIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICBuYW1lOiB0eXBlW2ldLm5hbWUsXHJcbiAgICAgICAgICAgaWQ6IHR5cGVbaV0uY2F0ZWdvcnlfaWRcclxuICAgICAgICAgfTtcclxuICAgICAgIH1cclxuICAgICB9IGVsc2Uge1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgfVxyXG4gICB9KTtcclxuXHJcblxyXG4gIHRoaXMuY3JlYXRlVHlwZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAudHlwZURhdGEgPSB7XHJcbiAgICAgIGNhdGVnb3J5OiBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZCxcclxuICAgICAgdHlwZV9kZXNjcmlwdGlvbjogZGF0YS50eXBlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICB0eXBlX2NvZGU6IGRhdGEudHlwZV9jb2RlXHJcbiAgICB9O1xyXG5cclxuICAgIEFkbWluLmNyZWF0ZVR5cGUoYXBwLnR5cGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLnN1Y2Nlc3MgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBhcHAua2luZExpc3QgPSBbXTtcclxuICBhcHAudHlwZV90aW55ID0gW107XHJcbiAgYXBwLnR5cGVfcHJpY2UgPSBbXTtcclxuXHJcbiAgdGhpcy5hZGRMaW5lID0gZnVuY3Rpb24oa2luZERhdGEpe1xyXG4gICAgaWYoIWtpbmREYXRhKXtcclxuICAgICAgJHdpbmRvdy5hbGVydCgn7KCV7ZmV7ZWcIOqwkuydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZihraW5kRGF0YS5raW5kVmFsdWUgPT09IG51bGwgfHwga2luZERhdGEua2luZFZhbHVlID09PSB1bmRlZmluZWQgfHwga2luZERhdGEua2luZFZhbHVlID09PSAnJylcclxuICAgICAge1xyXG4gICAgICAgICR3aW5kb3cuYWxlcnQoJ+yYteyFmOuqheydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgIH0gZWxzZSBpZihraW5kRGF0YS5raW5kUHJpY2UgPT09IG51bGwgfHwga2luZERhdGEua2luZFByaWNlID09PSB1bmRlZmluZWQgfHwga2luZERhdGEua2luZFByaWNlID09PSAnJyl7XHJcbiAgICAgICAgJHdpbmRvdy5hbGVydCgn7Ji17IWYIOqwgOqyqeydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmtpbmRMaXN0LnB1c2goXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGtpbmQ6IGtpbmREYXRhLmtpbmRWYWx1ZSxcclxuICAgICAgICAgICAgcHJpY2U6IGtpbmREYXRhLmtpbmRQcmljZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYXBwLnR5cGVfdGlueS5wdXNoKGtpbmREYXRhLmtpbmRWYWx1ZSk7XHJcbiAgICAgICAgYXBwLnR5cGVfcHJpY2UucHVzaChraW5kRGF0YS5raW5kUHJpY2UpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZW1haWxDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2VtYWlsQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgVXNlci5hY3RpdmVBY2NvdW50KCRzdGF0ZVBhcmFtcy50b2tlbikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgIH0sMjAwMCk7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgfSwyMDAwKTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdyZXNlbmRDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgYXBwID0gdGhpcztcclxuICB0aGlzLmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBVc2VyLmNoZWNrQ3JlZGVudGlhbHModGhpcy5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBVc2VyLnJlc2VuZExpbmsoYXBwLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1lbHNlIHtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCd1c2VybmFtZUN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB0aGlzLnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIFVzZXIuc2VuZFVzZXJuYW1lKGFwcC51c2VyRGF0YS5lbWFpbCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7J2066mU7J28IOyjvOyGjOqwgCDslYTri5nri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Bhc3N3b3JkQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIGFwcC5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgVXNlci5zZW5kUGFzc3dvcmQoYXBwLnJlc2V0RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7JWE7J2065SU6rCAIOyVhOuLmeuLiOuLpC4nO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVzZXRDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCAkc2NvcGUsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgIGFwcC5oaWRlID0gdHJ1ZTsgLy8gSGlkZSBmb3JtIHVudGlsIHRva2VuIGNhbiBiZSB2ZXJpZmllZCB0byBiZSB2YWxpZFxyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRva2VuIGlzIHZhbGlkIGFuZCBnZXQgdGhlIHVzZXIncyBpbmZvIGZyb20gZGF0YWJhc2UgKHJ1bnMgb24gcGFnZSBsb2FkKVxyXG4gICAgVXNlci5yZXNldFBhc3N3b3JkKCRzdGF0ZVBhcmFtcy50b2tlbikudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciB3YXMgcmV0cmlldmVkXHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIGFwcC5oaWRlID0gZmFsc2U7IC8vIFNob3cgZm9ybVxyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtc3VjY2Vzcyc7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSAn7IOI66Gc7Jq0IOu5hOuwgOuyiO2YuOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gTGV0IHVzZXIga25vdyB0aGV5IGNhbiBlbnRlciBuZXcgcGFzc3dvcmRcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lID0gZGF0YS5kYXRhLnVzZXJbMF0udXNlcm5hbWU7IC8vIFNhdmUgdXNlcm5hbWUgaW4gc2NvcGUgZm9yIHVzZSBpbiBzYXZlUGFzc3dvcmQoKSBmdW5jdGlvblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlOyAvLyBHcmFiIGVycm9yIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIHNhdmUgdXNlcidzIG5ldyBwYXNzd29yZCB0byBkYXRhYmFzZVxyXG4gICAgYXBwLnNhdmVQYXNzd29yZCA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTsgLy8gQ2xlYXIgZXJyb3JNc2cgd2hlbiB1c2VyIHN1Ym1pdHNcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7IC8vIERpc2FibGUgZm9ybSB3aGlsZSBwcm9jZXNzaW5nXHJcbiAgICAgICAgYXBwLmxvYWRpbmcgPSB0cnVlOyAvLyBFbmFibGUgbG9hZGluZyBpY29uXHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGZvcm0gaXMgdmFsaWQgYW5kIHBhc3N3b3JkcyBtYXRjaFxyXG4gICAgICAgIGlmICh2YWxpZCAmJiBjb25maXJtZWQpIHtcclxuICAgICAgICAgICAgYXBwLnJlZ0RhdGEudXNlcm5hbWUgPSAkc2NvcGUudXNlcm5hbWU7IC8vIEdyYWIgdXNlcm5hbWUgZnJvbSAkc2NvcGVcclxuXHJcbiAgICAgICAgICAgIC8vIFJ1biBmdW5jdGlvbiB0byBzYXZlIHVzZXIncyBuZXcgcGFzc3dvcmQgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgVXNlci5zYXZlUGFzc3dvcmQoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHBhc3N3b3JkIHdhcyBzYXZlZCB0byBkYXRhYmFzZVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7ZmU66m07Jy866GcIOydtOuPme2VqeuLiOuLpC4nOyAvLyBHcmFiIHN1Y2Nlc3MgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0IGFuZCByZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UgYWZ0ZXIgMjAwMCBtaWxsaXNlY29uZHMgKDIgc2Vjb25kcylcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSBmb3JtIHRvIGFsbG93IHVzZXIgdG8gcmVzdWJtaXRcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTsgLy8gR3JhYiBlcnJvciBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3RcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LWRhbmdlcic7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSBmb3JtIHRvIGFsbG93IHVzZXIgdG8gcmVzdWJtaXRcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIExldCB1c2VyIGtub3cgZm9ybSBpcyBub3QgdmFsaWRcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ3JlZ0N0cmwnLCBmdW5jdGlvbiAoICRodHRwLCAkbG9jYXRpb24sICR0aW1lb3V0LCBVc2VyLCBBdXRoLCAkc3RhdGUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgICAgdGhpcy5yZWdTdGVwMSA9IGZ1bmN0aW9uKHJlZ0RhdGEpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmKCFyZWdEYXRhKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZigocmVnRGF0YS50ZXJtcykgJiYgKHJlZ0RhdGEucHJpdmFjeSkpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gJ+yVveq0gOyXkCDshLHqs7XsoIHsnLzroZwg64+Z7J2Y7ZWY7IWo7Iq164uI64ukLic7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAucmVnaXN0ZXJTdGVwMicpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAvLyDtmozsm5DqsIDsnoVcclxuICAgICAgdGhpcy5yZWdTdGVwMiA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAucmVnaXN0ZXJTdGVwMycpO1xyXG4gICAgICAgIC8vIGlmKHZhbGlkICYmIGNvbmZpcm1lZCl7XHJcbiAgICAgICAgLy8gICBVc2VyLmNyZWF0ZShhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAvLyAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIC8vICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAvLyAgICAgICBBdXRoLmxvZ2luKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIC8vICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIC8vICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgIC8vICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgIC8vICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICBpZihkYXRhLmRhdGEuZXhwaXJlZCl7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgLy8gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgLy8gICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAgfWVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gSWYgZXJyb3Igb2NjdXJzLCByZW1vdmUgZGlzYWJsZSBsb2NrIGZyb20gZm9ybVxyXG4gICAgICAgIC8vICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBib290c3RyYXAgbG9hZGluZyBpY29uXHJcbiAgICAgICAgLy8gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gRGlzcGxheSBlcnJvciBpZiB2YWxpZCByZXR1cm5zIGZhbHNlXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8g7ZqM7JuQ6rCA7J6FXHJcbiAgICAgICAgdGhpcy5yZWdTdGVwMyA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgaWYodmFsaWQgJiYgY29uZmlybWVkKXtcclxuICAgICAgICAgICAgVXNlci5jcmVhdGUoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmxvZ2luKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLmV4cGlyZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgYm9vdHN0cmFwIGxvYWRpbmcgaWNvblxyXG4gICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gRGlzcGxheSBlcnJvciBpZiB2YWxpZCByZXR1cm5zIGZhbHNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxufSk7XHJcbiJdfQ==
