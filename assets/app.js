angular.module("app",["ui.router","ui.bootstrap","menuControllers","userControllers","mainControllers","emailControllers","managementControllers","itemControllers","typeControllers","orderControllers","uiCropper","bannerController","galleryServices","bootstrapLightbox","boardController"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),a.hashPrefix(""),a.html5Mode(!0),e.state("app",{url:"/",views:{"bodyContent@":{templateUrl:"/main/home.html"}}}).state("app.registerStep1",{url:"register/step1",views:{"bodyContent@":{templateUrl:"/users/register/registerStep1.html",controller:"regCtrl",controllerAs:"register"}}}).state("app.registerStep2",{url:"register/step2",views:{"bodyContent@":{templateUrl:"/users/register/registerStep2.html",controller:"regCtrl",controllerAs:"register"}}}).state("app.registerStep3",{url:"register/step3",views:{"bodyContent@":{templateUrl:"/users/register/registerStep3.html",controller:"regCtrl",controllerAs:"register"}}}).state("app.login",{url:"login",views:{"bodyContent@":{templateUrl:"/users/login/login.html"}}}).state("app.payment",{url:"payment",views:{"bodyContent@":{templateUrl:"/payment/paymentStep.html"}}}).state("app.board",{url:"board",views:{"bodyContent@":{templateUrl:"/categoryes/board/home.html"}}}).state("app.writeArticle",{url:"board/writeAtricle",views:{"bodyContent@":{templateUrl:"/categoryes/board/writeArticle.html",controller:"createBoardController",controllerAs:"createBoardCtrl"}}}).state("app.board.show",{url:"/:article_id",views:{"bodyContent@":{templateUrl:"/categoryes/board/articleContent.html",controller:"readBoardController",controllerAs:"readBoardCtrl"}}}).state("app.gallery",{url:"gallery",views:{"bodyContent@":{templateUrl:"/categoryes/gallery/home.html"}}}).state("app.user",{url:"user",views:{"bodyContent@":{templateUrl:"/users/partial/user.html"}}}).state("app.commerceDetail",{url:"commerce-detail",views:{"bodyContent@":{templateUrl:"/users/partial/commerceDetail.html"}}}).state("app.basket",{url:"basket",views:{"bodyContent@":{templateUrl:"/users/partial/basket.html",controller:"basketCtrl",controllerAs:"basket"}}}).state("app.category",{url:"category=:category_id",views:{"subMenu@app":{templateUrl:"/menues/subMenu.html",controller:"subMenuCtrl",controllerAs:"subMenu"},"bodyContent@":{templateUrl:"/categoryes/items/home.html",controller:"getTypeItemsCtrl",controllerAs:"getTypeItems"}}}).state("app.category.item_type",{url:"/item_type=:type_code",views:{"bodyContent@":{templateUrl:"/categoryes/items/home.html",controller:"getTypeItemsCtrl",controllerAs:"getTypeItems"}}}).state("app.category.item_type.show",{url:"/item:item_id",views:{"bodyContent@":{templateUrl:"/categoryes/items/item.html",controller:"getTypeItemCtrl",controllerAs:"getTypeItem"}}}).state("app.category.show",{url:"/item:item_id",views:{"bodyContent@":{templateUrl:"/categoryes/items/item.html",controller:"getTypeItemCtrl",controllerAs:"getTypeItem"}}}).state("app.makeOrder",{url:"makeOrder",views:{"bodyContent@":{templateUrl:"/order/makeOrder.html",controller:"readOrderCtrl",controllerAs:"readOrder"}}}).state("app.confirmOrder",{url:"confirmOrder",views:{"bodyContent@":{templateUrl:"/order/confirmOrder.html",controller:"readOrderCtrl",controllerAs:"readOrderCtrl"}}}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.intro",{url:"intro",views:{"bodyContent@":{templateUrl:"/directives/companyInformation/companyIntroduce.tpl.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"bodyContent@":{templateUrl:"/directives/companyInformation/terms.tpl.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"bodyContent@":{templateUrl:"/directives/companyInformation/privacy.tpl.html",authenticated:!1}}}).state("app.adminOrderStatus",{url:"adminOrderStatus",views:{"adminContent@":{templateUrl:"/management/partial/orderStatus.html"}}}).state("app.adminMembers",{url:"adminMembers",views:{"adminContent@":{templateUrl:"/management/partial/members.html"}}}).state("app.adminCategory",{url:"adminCategory",views:{"adminContent@":{templateUrl:"/management/partial/category.html",controller:"mainMenuCtrl",controllerAs:"mainMenu"}}}).state("app.adminTypeAndItems",{url:"adminTypeAndItems",views:{"adminContent@":{templateUrl:"/management/partial/typeAndItems.html"}}}).state("app.adminGallery",{url:"adminGallery",views:{"adminContent@":{templateUrl:"/management/partial/gallery.html",controller:"uploadgalleryCtrl",controllerAs:"uploadGallery"}}}).state("app.adminLaboratory",{url:"adminLaboratory",views:{"adminContent@":{templateUrl:"/directives/admin/adminLaboratory.tpl.html"}}}).state("app.management",{url:"management",views:{"adminContent@app":{templateUrl:"/management/home.html"},"menu@app.management":{templateUrl:"/management/menu.html"}}}).state("app.management.typeAndItems.update",{url:"/updateType:item_type",views:{"contents@app.management":{templateUrl:"/management/partial/update/type.html",controller:"updateTypeCtrl",controllerAs:"updateType"}}}).state("app.management.typeAndItems.updateItemType",{url:"/updateItem:item_id",views:{"contents@app.management":{templateUrl:"/management/partial/update/itemType.html",controller:"updateItemTypeCtrl",controllerAs:"updateItemType"}}}).state("app.management.typeAndItems.updateItem",{url:"/update/item:item_id",views:{"contents@app.management":{templateUrl:"/management/partial/update/item.html",controller:"updateItemCtrl",controllerAs:"updateItem"}}}).state("app.management.typeAndItems.readItem",{url:":item_id",views:{"contents@app.management":{templateUrl:"/management/partial/read/item.html",controller:"readItemCtrl",controllerAs:"readItem"}}})}]),app.run(["$rootScope","User","$state",function(e,t,a){e.$on("$stateChangeStart",function(e,t,a,r,n,i){}),e.$on("$stateChangeError",function(e,t,r,n,i,o){a.go("app")})}]),angular.module("app").directive("adminUsers",[function(){return{restrict:"E",controller:[function(){}],controllerAs:"NameCtrl",templateUrl:"/directives/adminUsers.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("banner",["$http",function(e){return{restrict:"E",controller:[function(){}],controllerAs:"bannerCtrl",templateUrl:"/directives/banner.tpl.html",link:function(t,a,r,n){var i=n;e.get("/api/banner").then(function(e){e.data.success?i.bannerData=e.data.bannerData:console.log("불러오지 못하였습니다.")})}}}]).controller("CarouselCtrl",["$scope",function(e){function t(e){for(var t=0,a=n.length;t<a;t++)n[t].id=e.pop()}function a(){for(var e=[],t=0;t<i;++t)e[t]=t;return r(e)}function r(e){var t,a,r=e.length;if(r)for(;--r;)a=Math.floor(Math.random()*(r+1)),t=e[a],e[a]=e[r],e[r]=t;return e}e.myInterval=2500,e.noWrapSlides=!1,e.active=0;var n=e.slides=[],i=0;e.addSlide=function(){n.length;n.push({image:["/images/items/banner/1.jpg","/images/items/banner/2.jpg","/images/items/banner/3.jpg"][n.length%3],id:i++})},e.randomize=function(){t(a())};for(var o=0;o<3;o++)e.addSlide()}]),angular.module("app").directive("board",["$http",function(e){return{restrict:"E",controller:[function(){}],controllerAs:"boardCtrl",templateUrl:"/directives/board.tpl.html",link:function(t,a,r,n){var i=n;e.get("/api/board").then(function(e){if(e.data.success){i.boardData=e.data.boardData;moment(i.boardData[0].created,"YYYY-MM-DD");i.totalItems=i.boardData.length}}),i.currentPage=1,i.itemsPerPage=7,i.setPage=function(e){i.currentPage=e},i.pageChanged=function(){console.log("Page changed to: "+i.currentPage)}}}}]).controller("createBoardController",["$http","$state",function(e,t){this.doWrite=function(a){e.post("/api/board",a).then(function(e){e.data.success?t.go("app.board"):console.log(e.data.message)})}}]).controller("readBoardController",["$stateParams","$state","$http",function(e,t,a){var r=this,n=e.article_id;a.get("/api/board/"+n).then(function(e){r.articleData=e.data.articleData})}]),angular.module("app").directive("comment",["$http","$state","$stateParams",function(e,t,a){return{restrict:"E",controller:[function(){}],controllerAs:"commentCtrl",templateUrl:"/directives/comment.tpl.html",link:function(r,n,i,o){var s=o;console.log(a),s.writeCommet=function(r){commentData={boardId:a.article_id,comment:r},e.post("/api/comment",commentData).then(function(e){t.reload(),console.log(e)})},e.get("/api/comment/"+a.article_id).then(function(e){console.log(e),s.commentData=e.data.commentData})}}}]),angular.module("app").directive("galleryContent",["gallery","Lightbox",function(e,t){return{restrict:"E",controller:[function(){}],controllerAs:"galleryCtrl",templateUrl:"/directives/gallery.tpl.html",link:function(a,r,n,i){var o=i;e.getContent().then(function(e){e.data.success?o.galleryData=e.data.galleryData:o.errorMsg=e.data.message}),o.openLightboxModal=function(e){t.openModal(o.galleryData,e)}}}}]).controller("uploadgalleryCtrl",["$scope","$timeout","$http","$window","$state",function(e,t,a,r,n){var i=this;this.file={},this.readImage=function(a){if(e.$emit("LOAD"),a.length>0&&a[0].name.match(/\.(png|jpeg|jpg)$/)){var r=a[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(a){t(function(){e.$emit("UNLOAD"),i.explainThumbnail={},i.explainThumbnail.dataUrl=a.target.result})}}else e.$emit("UNLOAD"),i.explainThumbnail={}},this.uploadImage=function(t){e.$emit("LOAD"),i.explainPhoto=!1,i.disabled=!0;var n=new FormData;n.title=t,n.append("myfile",i.file.upload),a.patch("/api/gallery/",n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(i.imagePath=t.data.image_path,e.$emit("UNLOAD"),r.alert(t.data.message),i.explainPhoto=!0,i.disabled=!1):(e.$emit("UNLOAD"),r.alert(t.data.message),i.disabled=!1,i.file={})})},this.uploadGallery=function(e){galleryData={thumbUrl:i.imagePath,url:i.imagePath,caption:e},a.post("/api/gallery",galleryData).then(function(e){e.data.success?n.reload():i.errorMsg=e.data.message})}}]),angular.module("app").directive("menuItem",["Menu",function(e){return{restrict:"E",controller:[function(){}],controllerAs:"menuItemCtrl",templateUrl:"/directives/menuItem.tpl.html",link:function(t,a,r,n){var i=n;e.readMainMenu().then(function(e){e.data.success?i.mainMenues=e.data.result:i.errorMsg=e.data.message})}}}]),angular.module("adminServices",[]).factory("Admin",["$http",function(e){return adminFactory={},adminFactory.deleteItem=function(t){return e.delete("/api/item/"+t)},adminFactory.readAristCrop=function(t){return e.post("/api/createCropImage",t)},adminFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},adminFactory.createItem=function(t){return e.post("/api/item",t)},adminFactory.readItems=function(){return e.get("/api/item")},adminFactory.readItem=function(t){return e.get("/api/item/"+t)},adminFactory.updateItemType=function(t){return e.put("/api/itemType",t)},adminFactory.readUpdateItemType=function(t){return e.get("/api/itemType/"+t)},adminFactory.readItemType=function(){return e.get("/api/itemType")},adminFactory.deleteType=function(t){return e.delete("/api/type/"+t)},adminFactory.readUpdateType=function(t){return e.get("/api/type/"+t)},adminFactory.updateUpdateType=function(t){return e.put("/api/type",t)},adminFactory.createType=function(t){return e.post("/api/type",t)},adminFactory.readType=function(){return e.get("/api/type")},adminFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("galleryServices",[]).factory("gallery",["$http",function(e){return galleryFactory={},galleryFactory.getContent=function(){return e.get("/api/gallery")},galleryFactory}]),angular.module("menuServices",[]).factory("Menu",["$http",function(e){return menuFactory={},menuFactory.deleteMenu=function(t){return e.delete("/api/menu/"+t)},menuFactory.updateMenu=function(t){return e.put("/api/menu/",t)},menuFactory.createMenu=function(t){return e.post("/api/menu",t)},menuFactory.readMainMenu=function(){return e.get("/api/menu")},menuFactory.readSubMenu=function(t){return e.get("/api/menu/"+t)},menuFactory}]),angular.module("orderServices",[]).factory("Order",["$http",function(e){return orderFactory={},orderFactory.updateDelivery=function(t){return e.put("/api/delivery/"+t.user_id,t)},orderFactory.createDelivery=function(t){return e.post("/api/delivery",t)},orderFactory.deleteBasket=function(t){return e.delete("/api/basket/"+t)},orderFactory.readBasket=function(){return e.get("/api/basket")},orderFactory.createBasket=function(t){return e.post("/api/basket",t)},orderFactory.deleteOrder=function(t){return e.delete("/api/makeOrder/"+t)},orderFactory.readOrder=function(t){return e.get("/api/makeOrder/"+t)},orderFactory.readOrderAndDeli=function(){return e.get("/api/makeOrder")},orderFactory.createOrder=function(t){return e.post("/api/makeOrder",t)},orderFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.getPermission=function(){return e.get("/api/permission")},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory}]),angular.module("bannerController",[]).controller("uploadBannerCtrl",["$scope","$timeout","$http","$window","$state",function(e,t,a,r,n){var i=this;this.file={},this.readImage=function(a){if(e.$emit("LOAD"),a.length>0&&a[0].name.match(/\.(png|jpeg|jpg)$/)){var r=a[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(a){t(function(){e.$emit("UNLOAD"),i.explainThumbnail={},i.explainThumbnail.dataUrl=a.target.result})}}else e.$emit("UNLOAD"),i.explainThumbnail={}},this.uploadBanner=function(){e.$emit("LOAD"),i.explainPhoto=!1,i.disabled=!0;var t=new FormData;t.append("myfile",i.file.upload),a.post("/api/banner/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(e.$emit("UNLOAD"),r.alert(t.data.message),n.reload(),i.explainPhoto=!0,i.disabled=!1):(e.$emit("UNLOAD"),r.alert(t.data.message),i.disabled=!1,i.file={})})}}]).controller("getBannerCtrl",["$http",function(e){var t=this;e.get("/api/banner").then(function(e){e.data.success?t.bannerData=e.data.bannerData:console.log("불러오지 못하였습니다.")})}]),angular.module("boardController",[]).controller("createBoardController",["$http","$state",function(e,t){this.doWrite=function(a){e.post("/api/board",a).then(function(e){e.data.success?t.go("app.board"):console.log(e.data.message)})}}]),angular.module("galleryController",[]).controller("uploadgalleryCtrl",["$scope","$timeout","$http","$window","$state",function(e,t,a,r,n){var i=this;this.file={},this.readImage=function(a){if(e.$emit("LOAD"),a.length>0&&a[0].name.match(/\.(png|jpeg|jpg)$/)){var r=a[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(a){t(function(){e.$emit("UNLOAD"),i.explainThumbnail={},i.explainThumbnail.dataUrl=a.target.result})}}else e.$emit("UNLOAD"),i.explainThumbnail={}},this.uploadImage=function(t){e.$emit("LOAD"),i.explainPhoto=!1,i.disabled=!0;var n=new FormData;n.title=t,n.append("myfile",i.file.upload),a.patch("/api/gallery/",n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(i.imagePath=t.data.image_path,e.$emit("UNLOAD"),r.alert(t.data.message),i.explainPhoto=!0,i.disabled=!1):(e.$emit("UNLOAD"),r.alert(t.data.message),i.disabled=!1,i.file={})})},this.uploadGallery=function(e){galleryData={title:e,imagePath:i.imagePath},a.post("/api/gallery",galleryData).then(function(e){})}}]).controller("getGalleryCtrl",["$http",function(e){var t=this;e.get("/api/gallery").then(function(e){e.data.success?(t.galleryData=e.data.galleryData,console.log(t.galleryData)):console.log("불러오지 못하였습니다.")})}]),angular.module("itemControllers",["orderServices"]).filter("sumByKey",function(){return function(e,t){var a=e instanceof Array?e.length:0;if(void 0===t||0===a)return a;for(var r=0;a--;)r+=e[a][t[0]]*e[a][t[1]];return r}}).controller("getTypeItemsCtrl",["$stateParams","$http",function(e,t){var a=this,r=e.category_id;if(e.type_code){var n=e.type_code;t.get("/api/item_type/"+r,{params:{type_code:n}}).then(function(e){e.data.success?0===e.data.result.length?a.errorMsg="등록된 상품이 없습니다.":a.itemsData=e.data.result:a.errorMsg=e.data.message})}else t.get("/api/item_type/"+r).then(function(e){e.data.success?0===e.data.result.length?a.errorMsg="등록된 상품이 없습니다.":a.itemsData=e.data.result:a.errorMsg=e.data.message})}]).controller("getTypeItemCtrl",["Admin","$stateParams","$window","$state","Order",function(e,t,a,r,n){var o=this,s=t.item_id;o.optionItem=!1,o.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},o.amount=1,o.optionList=[],this.addItem=function(e){0===e.id?a.alert("옵션을 선택해주세요."):(o.optionItem=!0,o.optionList.push({kind:e.name,price:e.id,amount:1}))},this.createBasket=function(e){var t={item_id:e.item_id};n.createBasket(t).then(function(e){e.data.success,a.alert(e.data.message)})},this.createOrder=function(e){var t={item_id:e.item_id,amount:e.amount,kind_of:e.kind_of,price:e.price};n.createOrder(t).then(function(e){e.data.success?(o.successMsg=e.data.message,r.go("app.payment")):o.errorMsg=e.data})},e.readItem(s).then(function(e){if(e.data.success){var t=e.data.result.kind.split(","),a=e.data.result.price.split(","),r=[];for(i=0;i<a.length;i++)r[i]=Number(a[i]);for(o.itemData=e.data.result,i=0;i<r.length;i++)o.data.availableOptions[i+1]={name:t[i],id:r[i]}}else o.errorMsg=e.data.message})}]),angular.module("managementControllers",["adminServices","menuServices","orderServices"]).controller("readItemsCtrl",["Admin","$state",function(e,t){var a=this;e.readItems().then(function(e){a.errorMsg=!1,e.data.success?a.itemsData=e.data.result:a.errorMsg=e.data.message}),this.deleteItem=function(r){a.errorMsg=!1;var n=r.item_id;e.deleteItem(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}}]).controller("readItemCtrl",["Admin","$stateParams","$scope","Order","$window",function(e,t,a,r,n){var o=this,s=t.item_id;o.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},o.amount=1,e.readItem(s).then(function(e){if(e.data.success){var t=e.data.result.kind.split(","),a=e.data.result.price.split(","),r=[];for(i=0;i<a.length;i++)r[i]=Number(a[i]);for(o.itemData=e.data.result,o.data.selectedOption={id:r[0]},i=0;i<r.length;i++)o.data.availableOptions[i+1]={name:t[i],id:r[i]}}else o.errorMsg=e.data.message})}]).controller("updateItemCtrl",["Admin","$stateParams","$scope","$http","$timeout","$state","$window","Menu",function(e,t,a,r,n,o,s,l){function d(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var c=this,u=t.item_id;c.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},c.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},l.readMainMenu().then(function(e){if(c.errorMsg=!1,e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)c.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else c.errorMsg=e.data.message}),this.readMenu=function(e){if(c.errorMsg=!1,c.readMenuStatus=!1,0===e.id)s.alert("카테고리를 선택해주세요.");else{var t=e.id;r.get("/api/menu/"+t).then(function(e){if(e.data.success)if(0===e.data.result.length)c.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},s.alert("등록된 상품이 없습니다.");else{c.readMenuStatus=!0,c.data2={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}};var t=e.data.result;for(i=0;i<t.length;i++)c.data2.availableOptions[i+1]={name:t[i].type_description,id:t[i].item_type_id}}else c.errorMsg=e.data.message})}},e.readItem(u).then(function(e){console.log(e),e.data.success?(c.itemData=e.data.result,c.data.selectedOption={id:c.itemData.category_id}):c.errorMsg=e.data.message}),this.updateItem=function(e){if(c.errorMsg=!1,c.readMenuStatus)if(0===e.item_type||"0"===e.item_type)s.alert("상품 분류를 선택해주세요.!");else{var t={type:e.item_type,item_name:e.item_name};r.put("/api/item/"+u,t).then(function(e){e.data.success?(c.successMsg=e.data.message,o.reload()):c.errorMsg=e.data.message})}else updateData2={type:c.itemData.item_type_id,item_name:e.item_name},r.put("/api/item/"+u,updateData2).then(function(e){e.data.success?(c.successMsg=e.data.message,o.reload()):c.errorMsg=e.data.message})},this.file={},this.mainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){n(function(){a.$emit("UNLOAD"),c.mainThumbnail={},c.mainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),c.mainThumbnail={}},this.readPhoto=function(){a.$emit("LOAD"),c.mainPhoto=!1,c.disabled=!0;var e=new FormData;e.append("myfile",c.file.upload),r.post("/api/createPhotoImage/",e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){if(e.data.success){a.$emit("UNLOAD"),s.alert(e.data.message),c.mainPhoto=!0,c.disabled=!1;var t={image:e.data.item_path};r.put("/api/item/"+u,t).then(function(e){e.data.success,console.log(e.data.message)}),c.file={}}else a.$emit("UNLOAD"),s.alert(e.data.message),c.disabled=!1,c.file={}})},this.explainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){n(function(){a.$emit("UNLOAD"),c.explainThumbnail={},c.explainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),c.explainThumbnail={}},this.readPhotoExplain=function(){a.$emit("LOAD"),c.explainPhoto=!1,c.disabled=!0;var e=new FormData;e.append("myfile",c.file.upload),r.post("/api/createPhotoExplain/",e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){if(e.data.success){a.$emit("UNLOAD"),s.alert(e.data.message),c.explainPhoto=!0,c.disabled=!1;var t={explain:e.data.item_path};r.put("/api/item/"+u,t).then(function(e){e.data.success,console.log(e.data.message)}),c.file={}}else a.$emit("UNLOAD"),s.alert(e.data.message),c.disabled=!1,c.file={}})},c.myImage="",c.myCroppedImage="";var m=function(e){a.$emit("LOAD");var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){t.$emit("UNLOAD"),c.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",m),this.readCropImage=function(t){if(a.$emit("LOAD"),c.thumbnail=!1,c.disabled=!0,""===t.base64Url||null===t.base64Url||void 0===t.base64Url)c.disabled=!1;else{a.$emit("UNLOAD");var n=d(a.myCroppedImage);e.readAristCrop(n).then(function(e){if(e.data.success){a.$emit("UNLOAD"),s.alert(e.data.message),c.thumbnail=!0,c.disabled=!1;var t={thumbnail:e.data.filePath};r.put("/api/item/"+u,t).then(function(e){e.data.success,console.log(e.data.message)})}else a.$emit("UNLOAD"),c.disabled=!1})}}}]).controller("createItemCtrl",["$http","$timeout","$scope","Admin","$state","$window","Menu",function(e,t,a,r,n,o,s){function l(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var d=this;d.kindList=[],d.type_tiny=[],d.type_price=[],this.addLine=function(e){e?null===e.kindValue||void 0===e.kindValue||""===e.kindValue?o.alert("옵션명을 입력해주세요."):null===e.kindPrice||void 0===e.kindPrice||""===e.kindPrice?o.alert("옵션 가격을 입력해주세요."):(d.kindList.push({kind:e.kindValue,price:e.kindPrice}),d.type_tiny.push(e.kindValue),d.type_price.push(e.kindPrice)):o.alert("정확한 값을 입력해주세요.")},d.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},d.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},s.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)d.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else d.errorMsg=e.data.message}),this.readMenu=function(t){if(0===t.id)o.alert("카테고리를 선택해주세요.");else{var a=t.id;e.get("/api/menu/"+a).then(function(e){if(e.data.success)if(0===e.data.result.length)d.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},o.alert("등록된 상품이 없습니다.");else{d.data2={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}};var t=e.data.result;for(i=0;i<t.length;i++)d.data2.availableOptions[i+1]={name:t[i].type_description,id:t[i].item_type_id}}})}},this.file={},this.mainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var r=e[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t(function(){a.$emit("UNLOAD"),d.mainThumbnail={},d.mainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),d.mainThumbnail={}},this.readPhoto=function(){a.$emit("LOAD"),d.mainPhoto=!1,d.disabled=!0;var t=new FormData;t.append("myfile",d.file.upload),e.post("/api/createPhotoImage/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),o.alert(e.data.message),d.mainPhoto=!0,d.disabled=!1,d.mainImagePath=e.data.item_path,d.file={}):(a.$emit("UNLOAD"),o.alert(e.data.message),d.disabled=!1,d.file={})})},this.explainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var r=e[0],n=new FileReader;n.readAsDataURL(r),n.onload=function(e){t(function(){a.$emit("UNLOAD"),d.explainThumbnail={},d.explainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),d.explainThumbnail={}},this.readPhotoExplain=function(){a.$emit("LOAD"),d.explainPhoto=!1,d.disabled=!0;var t=new FormData;t.append("myfile",d.file.upload),e.post("/api/createPhotoExplain/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),o.alert(e.data.message),d.explainPhoto=!0,d.disabled=!1,d.explainImagePath=e.data.item_path,d.file={}):(a.$emit("UNLOAD"),o.alert(e.data.message),d.disabled=!1,d.file={})})},d.myImage="",d.myCroppedImage="";var c=function(e){a.$emit("LOAD");var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){t.$emit("UNLOAD"),d.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",c),this.readCropImage=function(e){if(a.$emit("LOAD"),d.thumbnail=!1,d.disabled=!0,""===e.base64Url||null===e.base64Url||void 0===e.base64Url)d.disabled=!1;else{a.$emit("UNLOAD");var t=l(a.myCroppedImage);r.readAristCrop(t).then(function(e){e.data.success?(a.$emit("UNLOAD"),o.alert(e.data.message),d.thumbnail=!0,d.disabled=!1,d.thumbnailPath=e.data.filePath):(a.$emit("UNLOAD"),d.disabled=!1)})}},this.createPhoto=function(e){a.$emit("LOAD"),void 0===e||null===e||""===e?(o.alert("빈칸을 모두 입력해주세요."),d.disabled=!1,a.$emit("UNLOAD")):"0"===d.data2.selectedOption.id?(a.$emit("UNLOAD"),d.disabled=!1,o.alert("상품 분류을 선택해주세요.")):void 0===e.title||null===e.title||""===e.title?(a.$emit("UNLOAD"),d.disabled=!1,o.alert("상품 제목를 입력해주세요.")):(d.uploadData={title:e.title,type:d.data2.selectedOption.id,kind:d.type_tiny.toString(),price:d.type_price.toString()},r.createItem(d.uploadData).then(function(e){e.data.success?(a.$emit("UNLOAD"),d.disabled=!0,o.alert(e.data.message),n.reload()):(a.$emit("UNLOAD"),d.disabled=!1,o.alert(e.data.message))}))}}]),angular.module("menuControllers",["menuServices"]).controller("mainMenuCtrl",["Menu","$state",function(e,t){var a=this;this.createMenu=function(r){if(a.errorMsg=!1,void 0===r)a.errorMsg="올바른 정보를 입력해주세요.";else{var n={name:r.name};e.createMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}},this.update=function(r){a.errorMsg=!1;var n={category_id:r.category_id,name:r.name};e.updateMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})},this.delete=function(r){a.errorMsg=!1;var n=r.category_id;e.deleteMenu(n).then(function(e){e.data.success?(a.successMsg=e.data.message,t.reload()):a.errorMsg=e.data.message})}}]).controller("subMenuCtrl",["Menu","$state","$stateParams","$http",function(e,t,a,r){var n=this,i=a.category_id;r.get("/api/category/"+i).then(function(e){e.data.success&&(n.subMenuDatas=e.data.result)})}]),angular.module("typeControllers",["adminServices","menuServices","orderServices"]).controller("updateItemTypeCtrl",["$stateParams","Menu","Admin","$state",function(e,t,a,r){var n=this,o=e.item_id;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readUpdateItemType(o).then(function(e){if(n.errorMsg=!1,e.data.success){t.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),n.updataData=e.data.result,n.data.selectedOption={id:n.updataData.category_id};var a={kind:n.updataData.kind.split(","),price:n.updataData.price.split(",")};for(n.optionDatas=[],i=0;i<a.kind.length;i++)n.optionDatas[i]={kind:a.kind[i],price:a.price[i]}}else n.errorMsg=e.data.message}),this.updateType=function(e){n.updateData=e,n.updateData.category_id=n.data.selectedOption.id,a.updateUpdateType(n.updateData).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,r.reload()):n.errorMsg=e.data.message})},this.updateitemType=function(e){var t=[],o=[];for(i=0;i<n.optionDatas.length;i++)t.push(n.optionDatas[i].kind),o.push(n.optionDatas[i].price);var s={item_id:e.item_id,item_name:e.item_name,price:o.toString(),kind:t.toString()};a.updateItemType(s).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,r.reload()):n.errorMsg=e.data.message})}}]).controller("readItemTypeCtrl",["Admin","$state","$window","Menu",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.copyItemType=function(a){var r={type:a.item_type_id,title:a.item_name,kind:a.kind.toString(),price:a.price.toString()}
;e.createItem(r).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},this.deleteType=function(a){n.errorMsg=!1;var r=a.item_id;e.deleteItem(r).then(function(e){e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},e.readItemType().then(function(e){if(e.data.success){r.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(a=0;a<t.length;a++)n.data.availableOptions[a+1]={name:t[a].name,id:t[a].category_id}}else n.errorMsg=e.data.message}),n.typeDatas=e.data.result;for(var t=[],a=0;a<e.data.result.length;a++)t[a]={kind:n.typeDatas[a].kind.split(","),price:n.typeDatas[a].price.split(",")},n.typeDatas[a].kind=t[a].kind,n.typeDatas[a].price=t[a].price}else n.errorMsg=e.data.message})}]).controller("updateTypeCtrl",["$stateParams","Menu","Admin","$state",function(e,t,a,r){var n=this,o=e.item_type;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readUpdateType(o).then(function(e){n.errorMsg=!1,e.data.success?(t.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),n.updataData=e.data.result,n.data.selectedOption={id:n.updataData.category_id}):n.errorMsg=e.data.message}),this.updateType=function(e){n.updateData=e,n.updateData.category_id=n.data.selectedOption.id,a.updateUpdateType(n.updateData).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,r.reload()):n.errorMsg=e.data.message})}}]).controller("readTypeCtrl",["Admin","$state","$window","Menu",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.copyType=function(a){var r={category:a.category_id,type_description:a.type_description,type_code:a.type_code};e.createType(r).then(function(e){n.errorMsg=!1,e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},this.deleteType=function(a){n.errorMsg=!1;var r=a.item_type;e.deleteType(r).then(function(e){e.data.success?(n.successMsg=e.data.message,t.reload()):n.errorMsg=e.data.message})},e.readType().then(function(e){e.data.success?(r.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),n.typeDatas=e.data.result):n.errorMsg=e.data.message})}]).controller("createTypeCtrl",["Admin","$state","Menu","$window",function(e,t,a,r){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},a.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else n.errorMsg=e.data.message}),this.createType=function(a){n.errorMsg=!1,n.typeData={category:n.data.selectedOption.id,type_description:a.type_description,type_code:a.type_code},e.createType(n.typeData).then(function(e){e.data.success?(n.success=e.data.message,t.reload()):n.errorMsg=e.data.message})},n.kindList=[],n.type_tiny=[],n.type_price=[],this.addLine=function(e){e?null===e.kindValue||void 0===e.kindValue||""===e.kindValue?r.alert("옵션명을 입력해주세요."):null===e.kindPrice||void 0===e.kindPrice||""===e.kindPrice?r.alert("옵션 가격을 입력해주세요."):(n.kindList.push({kind:e.kindValue,price:e.kindPrice}),n.type_tiny.push(e.kindValue),n.type_price.push(e.kindPrice)):r.alert("정확한 값을 입력해주세요.")}}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,n,i,o,s,l,d){var c=this;!function(){var e,t="N/A",a=navigator.userAgent.toLowerCase();"Microsoft Internet Explorer"==navigator.appName?e="msie ":a.search("trident")>-1?e="trident/.*rv:":a.search("edge/")>-1&&(e="edge/"),null!=new RegExp(e+"([0-9]{1,})(\\.{0,}[0-9]{0,1})").exec(a)&&(t=RegExp.$1+RegExp.$2),t<10&&confirm("인터넷 익스플로러 9 버전 이상 또는 크롬 브라우저에 최적화되어 있습니다. \n다운로드후 사용하시겠습니까?")&&(location.href="https://www.google.co.kr/chrome/browser/desktop/index.html")}(),c.loadme=!1,i.$on("LOAD",function(){i.loading=!0}),i.$on("UNLOAD",function(){i.loading=!1}),n.$on("$stateChangeStart",function(){u?e.isLoggedIn()?(c.isLoggedIn=!0,c.loadme=!0,e.getUser().then(function(e){c.user=e.data,c.loadme=!0,l.getPermission().then(function(e){e.data.success?"admin"===e.data.permission?(c.authorized=!0,c.loadme=!0):"artist"===e.data.permission?(c.permission=!0,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0)})})):(c.user=!1,c.isLoggedIn=!1,c.loadme=!0):u()});var u=function(){if(e.isLoggedIn()){c.checkSession=!0;var t=s(function(){var e=o.localStorage.getItem("token");if(null===e)s.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(o.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(m("expired"),s.cancel(t))}},2e3)}};u(),c.renewSession=function(){c.choiceMade=!0,l.renewSession(c.user.username).then(function(e){e.data.success?(d.setToken(e.data.token),u(),p("expired")):(c.ModalBody=e.data.message,p("expired"))})},c.endSession=function(){c.choiceMade=!0,p("expired"),t(function(){m("logout")},500)};var m=function(a){c.choiceMade=!1,c.modalHeader=void 0,c.modalBody=void 0,c.hideButton=!1,"expired"===a?(c.modalHeader="Timeout Warning",c.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(c.hideButton=!0,c.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),c.isLoggedIn=!1,c.authorized=!1,c.permission=!1,c.disabled=!1,c.successMsg=!1,p("logout"),r.reload()},1e3)):"login"===a&&$("#login").modal({backdrop:"static"}),t(function(){c.choiceMade||p("logout")},2e3)},p=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e&&$("#login").modal("hide")};this.doLogin=function(a,n){c.errorMsg=!1,c.expired=!1,c.disabled=!0,n?e.login(c.loginData).then(function(e){e.data.success?(c.successMsg=e.data.message,t(function(){c.loginData=null,c.isLoggedIn=!0,u(),r.go("app")},1e3)):e.data.expired?(c.expired=!0,c.disabled=!0,c.errorMsg=e.data.message):(c.disabled=!1,c.errorMsg=e.data.message)}):(c.disabled=!1,c.loading=!1,c.errorMsg="올바른 정보를 입력해주세요.")},c.logout=function(){m("logout")},c.resend=function(){p("login"),t(function(){r.go("resend"),c.expired=!1},500)},c.resetusername=function(){p("login"),t(function(){r.go("resetusername")},500)},c.resetpassword=function(){p("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("orderControllers",["orderServices"]).controller("readOrderCtrl",["$stateParams","$state","$window","Order","$scope",function(e,t,a,r,n){var o=this,s=n.main.user.user_id;o.getItemFail=!1,o.cashReceipt=!0,o.cashReceipt?o.getCashReceipt=!0:o.getCashReceipt=!1,this.readAddress=function(){daum.postcode.load(function(){o.addressDetail="",new daum.Postcode({oncomplete:function(e){o.deliData={sigungu_code:e.sigunguCode,jibun_address:e.jibunAddress,road_address:e.roadAddress}}}).open()})},r.readOrderAndDeli().then(function(e){if(o.errorMsg=!1,e.data.success)if(0===e.data.result.length)o.delivery=!1,r.readOrder(s).then(function(e){var t=[];for(o.allItemPrice=0,o.orderData=e.data.result,i=0;i<o.orderData.length;i++)t[i]=o.orderData[i].price*o.orderData[i].amount;for(i=0;i<t.length;i++)o.allItemPrice=o.allItemPrice+t[i]});else{var t=[];for(o.delivery=!0,o.allItemPrice=0,o.orderData=e.data.result,i=0;i<o.orderData.length;i++)t[i]=o.orderData[i].price*o.orderData[i].amount;for(i=0;i<t.length;i++)o.allItemPrice=o.allItemPrice+t[i]}else o.errorMsg=e.data.message}),this.confirmOrder=function(e){var t="";o.delivery?void 0===e.daliData?console.log("변경사항 없음"):(t=e.daliData,r.updateDelivery(t).then(function(e){})):(t=e.daliData,e.receiptData,r.createDelivery(t).then(function(e){}))},this.delete=function(e){o.errorMsg=!1;var a=e.item_id;r.deleteOrder(a).then(function(e){e.data.success?(o.successMsg=e.data.message,t.reload()):o.errorMsg=e.data.message})}}]).controller("basketCtrl",["Order","$window","$state",function(e,t,a){var r=this;r.data={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},this.delete=function(t){r.errorMsg=!1;var n=t.basket_id;e.deleteBasket(n).then(function(e){e.data.success?(r.successMsg=e.data.message,a.reload()):r.errorMsg=e.data.message})},this.makeBasket=function(){},e.readBasket().then(function(e){if(console.log(e),r.errorMsg=!1,e.data.success){r.basketData=e.data.result;for(var t=0;t<r.basketData.length;t++)r.basketData[t].count=1;var t,a=[],n=[];for(t=0;t<r.basketData.length;t++)a[t]=r.basketData[t].kind.split(","),n[t]=r.basketData[t].price.split(",");for(t=0;t<a.length;t++)for(r.data[t]={availableOptions:[{id:0,name:"카테고리를 선택해주세요."}],selectedOption:{id:0,name:"카테고리를 선택해주세요."}},j=0;j<a[t].length;j++)r.data[t].availableOptions[j+1]={name:a[t][j],id:Number(n[t][j])}}else r.errorMsg=e.data.message})}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var n=this;t.activeAccount(e.token).then(function(e){n.successMsg=!1,n.errorMsg=!1,e.data.success?(n.disabled=!0,n.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(n.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(n,i){r.errorMsg=!1,r.disabled=!0,i?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(n,i){r.errorMsg=!1,r.disabled=!0,i?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,n){var i=this;i.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(i.hide=!1,t.alert="alert alert-success",i.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",i.errorMsg=e.data.message)}),i.savePassword=function(e,o,s){i.errorMsg=!1,i.successMsg=!1,i.disabled=!0,i.loading=!0,o&&s?(i.regData.username=t.username,a.savePassword(i.regData).then(function(e){i.loading=!1,e.data.success?(t.alert="alert alert-success",i.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){n.go("app")},2e3)):(t.alert="alert alert-danger",i.disabled=!1,i.errorMsg=e.data.message)})):(t.alert="alert alert-danger",i.loading=!1,i.disabled=!1,i.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,n,i){var o=this;this.regStep1=function(e){o.errorMsg=!1,e?e.terms&&e.privacy?(o.successMsg="약관에 성공적으로 동의하셨습니다.",o.disabled=!0,i.go("app.registerStep2")):(o.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",o.disabled=!1):o.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,a){o.errorMsg=!1,o.disabled=!0,i.go("app.registerStep3")},this.regStep3=function(e,t,s){o.errorMsg=!1,o.disabled=!0,t&&s?r.create(o.regData).then(function(e){e.data.success?(o.disabled=!0,o.successMsg=e.data.message,n.login(o.regData).then(function(e){e.data.success?(o.disabled=!0,o.successMsg=e.data.message,a(function(){i.go("app")},1e3)):e.data.expired?(o.expired=!0,o.disabled=!0,o.errorMsg=e.data.message):(o.disabled=!1,o.errorMsg=e.data.message)})):(o.disabled=!1,o.errorMsg=e.data.message)}):(o.disabled=!1,o.loading=!1,o.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("app").directive("adminHeader",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/admin/adminHeader.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("adminLaboratory",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/admin/adminLaboratory.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var n=e(r.fileModel),i=n.assign;a.bind("change",function(){t.$apply(function(){i(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("app").directive("companyIntroduce",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/main/companyIntroduce.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("companyPrivacyInformation",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/companyInformation/companyPrivacyInformation.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("privacy",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/main/privacy.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("terms",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/main/terms.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("userQuickMenu",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/companyInformation/userQuickMenu.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("content",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/main/content.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("footer",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/main/footer.tpl.html",link:function(e,t,a,r){}}}]),angular.module("app").directive("header",[function(){return{restrict:"E",controller:[function(){}],templateUrl:"/directives/main/header.tpl.html",link:function(e,t,a,r){}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiZGlyZWN0aXZlcy9hZG1pblVzZXJzLmpzIiwiZGlyZWN0aXZlcy9iYW5uZXIuanMiLCJkaXJlY3RpdmVzL2JvYXJkLmpzIiwiZGlyZWN0aXZlcy9jb21tZW50LmpzIiwiZGlyZWN0aXZlcy9nYWxsZXJ5LmpzIiwiZGlyZWN0aXZlcy9tZW51SXRlbS5qcyIsInNlcnZpY2VzL2FkbWluU2VydmljZXMuanMiLCJzZXJ2aWNlcy9hdXRoU2VydmljZXMuanMiLCJzZXJ2aWNlcy9nYWxsZXJ5U2VydmljZXMuanMiLCJzZXJ2aWNlcy9tZW51U2VydmljZXMuanMiLCJzZXJ2aWNlcy9vcmRlclNlcnZpY2VzLmpzIiwic2VydmljZXMvdXNlclNlcnZpY2VzLmpzIiwiY29udHJvbGxlcnMvYWRtaW4vYmFubmVyQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2FkbWluL2JvYXJkQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2FkbWluL2dhbGxlcnlDb250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvYWRtaW4vaXRlbUNvbnRyb2xsZXJzLmpzIiwiY29udHJvbGxlcnMvYWRtaW4vbWFuYWdlbWVudENvbnRyb2xsZXJzLmpzIiwiY29udHJvbGxlcnMvYWRtaW4vbWVudUNvbnRyb2xsZXJzLmpzIiwiY29udHJvbGxlcnMvYWRtaW4vdHlwZUNvbnRyb2xsZXJzLmpzIiwiY29udHJvbGxlcnMvbWFpbi9tYWluQ29udHJvbGxlcnMuanMiLCJjb250cm9sbGVycy9tYWluL29yZGVyQ29udHJvbGxlcnMuanMiLCJjb250cm9sbGVycy91c2VyL2VtYWlsQ3RybC5qcyIsImNvbnRyb2xsZXJzL3VzZXIvdXNlckN0cmwuanMiLCJkaXJlY3RpdmVzL2FkbWluL2FkbWluSGVhZGVyLmpzIiwiZGlyZWN0aXZlcy9hZG1pbi9hZG1pbkxhYm9yYXRvcnkuanMiLCJkaXJlY3RpdmVzL2F0dHJpYnV0ZS9maWxlTW9kZWwuanMiLCJkaXJlY3RpdmVzL2F0dHJpYnV0ZS9tYXRjaFBhc3N3b3JkLmpzIiwiZGlyZWN0aXZlcy9jb21wYW55SW5mb3JtYXRpb24vY29tcGFueUludHJvZHVjZS5qcyIsImRpcmVjdGl2ZXMvY29tcGFueUluZm9ybWF0aW9uL2NvbXBhbnlQcml2YWN5SW5mb3JtYXRpb24uanMiLCJkaXJlY3RpdmVzL2NvbXBhbnlJbmZvcm1hdGlvbi9wcml2YWN5LmpzIiwiZGlyZWN0aXZlcy9jb21wYW55SW5mb3JtYXRpb24vdGVybXMuanMiLCJkaXJlY3RpdmVzL2NvbXBhbnlJbmZvcm1hdGlvbi91c2VyUXVpY2tNZW51LmpzIiwiZGlyZWN0aXZlcy9tYWluL2NvbnRlbnQuanMiLCJkaXJlY3RpdmVzL21haW4vZm9vdGVyLmpzIiwiZGlyZWN0aXZlcy9tYWluL2hlYWRlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCJhcHAiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwiaGFzaFByZWZpeCIsImh0bWw1TW9kZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJib2R5Q29udGVudEAiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJzdWJNZW51QGFwcCIsImF1dGhlbnRpY2F0ZWQiLCJhZG1pbkNvbnRlbnRAIiwiYWRtaW5Db250ZW50QGFwcCIsIm1lbnVAYXBwLm1hbmFnZW1lbnQiLCJjb250ZW50c0BhcHAubWFuYWdlbWVudCIsInJ1biIsIiRyb290U2NvcGUiLCJVc2VyIiwiJHN0YXRlIiwiJG9uIiwiZXZlbnQiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwib3B0aW9ucyIsImVycm9yIiwiZ28iLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsImN0cmxzIiwiJGh0dHAiLCJhcHBDdHJsIiwiZ2V0IiwidGhlbiIsInJlc3VsdCIsImRhdGEiLCJzdWNjZXNzIiwiYmFubmVyRGF0YSIsImNvbnNvbGUiLCJsb2ciLCIkc2NvcGUiLCJhc3NpZ25OZXdJbmRleGVzVG9TbGlkZXMiLCJpbmRleGVzIiwiaSIsImwiLCJzbGlkZXMiLCJsZW5ndGgiLCJpZCIsInBvcCIsImdlbmVyYXRlSW5kZXhlc0FycmF5IiwiY3VyckluZGV4Iiwic2h1ZmZsZSIsImFycmF5IiwidG1wIiwiY3VycmVudCIsInRvcCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIm15SW50ZXJ2YWwiLCJub1dyYXBTbGlkZXMiLCJhY3RpdmUiLCJhZGRTbGlkZSIsImltYWdlIiwicmFuZG9taXplIiwiYm9hcmRDdHJsIiwiYm9hcmREYXRhIiwibW9tZW50IiwiY3JlYXRlZCIsInRvdGFsSXRlbXMiLCJjdXJyZW50UGFnZSIsIml0ZW1zUGVyUGFnZSIsInNldFBhZ2UiLCJwYWdlTm8iLCJwYWdlQ2hhbmdlZCIsInRoaXMiLCJkb1dyaXRlIiwicG9zdCIsIm1lc3NhZ2UiLCIkc3RhdGVQYXJhbXMiLCJyZWFkQm9hcmRDdHJsIiwiYXJ0aWNsZV9pZCIsImFydGljbGVEYXRhIiwiY29tbWVudEN0cmwiLCJ3cml0ZUNvbW1ldCIsImNvbW1lbnQiLCJjb21tZW50RGF0YSIsImJvYXJkSWQiLCJyZWxvYWQiLCJnYWxsZXJ5IiwiTGlnaHRib3giLCJnYWxsZXJ5Q3RybCIsImdldENvbnRlbnQiLCJnYWxsZXJ5RGF0YSIsImVycm9yTXNnIiwib3BlbkxpZ2h0Ym94TW9kYWwiLCJpbmRleCIsIm9wZW5Nb2RhbCIsIiR0aW1lb3V0IiwiJHdpbmRvdyIsImZpbGUiLCJyZWFkSW1hZ2UiLCJmaWxlcyIsIiRlbWl0IiwibmFtZSIsIm1hdGNoIiwiZmlsZVJlYWRlciIsIkZpbGVSZWFkZXIiLCJyZWFkQXNEYXRhVVJMIiwib25sb2FkIiwiZSIsImV4cGxhaW5UaHVtYm5haWwiLCJkYXRhVXJsIiwidGFyZ2V0IiwidXBsb2FkSW1hZ2UiLCJpdGVtVGl0bGUiLCJleHBsYWluUGhvdG8iLCJkaXNhYmxlZCIsImZkIiwiRm9ybURhdGEiLCJ0aXRsZSIsImFwcGVuZCIsInVwbG9hZCIsInBhdGNoIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInVuZGVmaW5lZCIsImltYWdlUGF0aCIsImltYWdlX3BhdGgiLCJhbGVydCIsInVwbG9hZEdhbGxlcnkiLCJ0aHVtYlVybCIsImNhcHRpb24iLCJNZW51IiwibWVudUl0ZW1DdHJsIiwicmVhZE1haW5NZW51IiwibWFpbk1lbnVlcyIsImZhY3RvcnkiLCJhZG1pbkZhY3RvcnkiLCJkZWxldGVJdGVtIiwiaXRlbV9pZCIsImRlbGV0ZSIsInJlYWRBcmlzdENyb3AiLCJibG9iIiwiY3JlYXRlQXJpc3RQaG90byIsInBob3RvRGF0YSIsImNyZWF0ZUl0ZW0iLCJpdGVtRGF0YSIsInJlYWRJdGVtcyIsInJlYWRJdGVtIiwidXBkYXRlSXRlbVR5cGUiLCJ1cGRhdGVEYXRhIiwicHV0IiwicmVhZFVwZGF0ZUl0ZW1UeXBlIiwicmVhZEl0ZW1UeXBlIiwiZGVsZXRlVHlwZSIsIml0ZW1fdHlwZV9pZCIsInJlYWRVcGRhdGVUeXBlIiwiaXRlbV90eXBlIiwidXBkYXRlVXBkYXRlVHlwZSIsImNyZWF0ZVR5cGUiLCJ0eXBlRGF0YSIsInJlYWRUeXBlIiwiQXV0aFRva2VuIiwiYXV0aEZhY3RvcnkiLCJnZXRVc2VyIiwiZ2V0VG9rZW4iLCIkcSIsInJlamVjdCIsImxvZ2luIiwibG9naW5EYXRhIiwic2V0VG9rZW4iLCJ0b2tlbiIsImlzTG9nZ2VkSW4iLCJsb2dvdXQiLCJhdXRoVG9rZW5GYWN0b3J5IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJnZXRJdGVtIiwiYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkiLCJyZXF1ZXN0IiwiZ2FsbGVyeUZhY3RvcnkiLCJtZW51RmFjdG9yeSIsImRlbGV0ZU1lbnUiLCJjYXRlZ29yeV9pZCIsInVwZGF0ZU1lbnUiLCJjcmVhdGVNZW51IiwibWVudURhdGEiLCJyZWFkU3ViTWVudSIsIm1haW5NZW51VHlwZSIsIm9yZGVyRmFjdG9yeSIsInVwZGF0ZURlbGl2ZXJ5IiwiZGVsaURhdGEiLCJ1c2VyX2lkIiwiY3JlYXRlRGVsaXZlcnkiLCJkZWxldGVCYXNrZXQiLCJiYXNrZXRfaWQiLCJyZWFkQmFza2V0IiwiY3JlYXRlQmFza2V0IiwiYmFza2V0RGF0YSIsImRlbGV0ZU9yZGVyIiwicmVhZE9yZGVyIiwicmVhZE9yZGVyQW5kRGVsaSIsImNyZWF0ZU9yZGVyIiwib3JkZXJEYXRhIiwidXNlckZhY3RvcnkiLCJnZXRQZXJtaXNzaW9uIiwiY3JlYXRlIiwicmVnRGF0YSIsImFjdGl2ZUFjY291bnQiLCJjaGVja0NyZWRlbnRpYWxzIiwicmVzZW5kTGluayIsInVzZXJuYW1lIiwic2VuZFVzZXJuYW1lIiwidXNlckRhdGEiLCJzZW5kUGFzc3dvcmQiLCJyZXNldERhdGEiLCJyZXNldFBhc3N3b3JkIiwic2F2ZVBhc3N3b3JkIiwicmVuZXdTZXNzaW9uIiwidXBsb2FkQmFubmVyIiwiZmlsdGVyIiwiaW5wdXQiLCJwcm9wZXJ0eSIsIkFycmF5IiwidG90YWwiLCJ0eXBlX2NvZGUiLCJwYXJhbXMiLCJpdGVtc0RhdGEiLCJBZG1pbiIsIk9yZGVyIiwib3B0aW9uSXRlbSIsImF2YWlsYWJsZU9wdGlvbnMiLCJzZWxlY3RlZE9wdGlvbiIsImFtb3VudCIsIm9wdGlvbkxpc3QiLCJhZGRJdGVtIiwia2luZCIsInByaWNlIiwia2luZF9vZiIsInN1Y2Nlc3NNc2ciLCJzcGxpdCIsInRlbXAiLCJOdW1iZXIiLCJkZWNvZGVCYXNlNjRJbWFnZSIsImRhdGFTdHJpbmciLCJtYXRjaGVzIiwiRXJyb3IiLCJ0eXBlIiwiZGF0YTIiLCJyZWFkTWVudSIsInJlYWRNZW51U3RhdHVzIiwidHlwZV9kZXNjcmlwdGlvbiIsInVwZGF0ZUl0ZW0iLCJpdGVtX25hbWUiLCJ1cGRhdGVEYXRhMiIsIm1haW5QaG90b0NoYW5nZWQiLCJtYWluVGh1bWJuYWlsIiwicmVhZFBob3RvIiwibWFpblBob3RvIiwiaXRlbV9wYXRoIiwiZXhwbGFpblBob3RvQ2hhbmdlZCIsInJlYWRQaG90b0V4cGxhaW4iLCJleHBsYWluIiwibXlJbWFnZSIsIm15Q3JvcHBlZEltYWdlIiwiaGFuZGxlRmlsZVNlbGVjdCIsImV2dCIsImN1cnJlbnRUYXJnZXQiLCJyZWFkZXIiLCIkYXBwbHkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvbiIsInJlYWRDcm9wSW1hZ2UiLCJ0aHVtYm5haWwiLCJiYXNlNjRVcmwiLCJmaWxlUGF0aCIsImtpbmRMaXN0IiwidHlwZV90aW55IiwidHlwZV9wcmljZSIsImFkZExpbmUiLCJraW5kRGF0YSIsImtpbmRWYWx1ZSIsImtpbmRQcmljZSIsIm1haW5JbWFnZVBhdGgiLCJleHBsYWluSW1hZ2VQYXRoIiwidGh1bWJuYWlsUGF0aCIsImNyZWF0ZVBob3RvIiwidXBsb2FkRGF0YSIsInRvU3RyaW5nIiwidXBkYXRlIiwiZGVsZXRlRGF0YSIsInN1Yk1lbnVEYXRhcyIsInVwZGF0YURhdGEiLCJzcGxpdE9wdGlvbkRhdGFzIiwib3B0aW9uRGF0YXMiLCJ1cGRhdGVUeXBlIiwidXBkYXRlaXRlbVR5cGUiLCJraW5kQXJyYXkiLCJwcmljZUFycmF5IiwiY29weUl0ZW1UeXBlIiwidHlwZURhdGFzIiwia2luZERhdGFzIiwiY29weVR5cGUiLCJjYXRlZ29yeSIsIkF1dGgiLCIkbG9jYXRpb24iLCIkaW50ZXJ2YWwiLCJ3b3JkIiwidmVyc2lvbiIsImFnZW50IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJhcHBOYW1lIiwic2VhcmNoIiwiUmVnRXhwIiwiZXhlYyIsIiQxIiwiJDIiLCJjb25maXJtIiwibG9jYXRpb24iLCJocmVmIiwibG9hZG1lIiwibG9hZGluZyIsImNoZWNrU2Vzc2lvbiIsInVzZXIiLCJwZXJtaXNzaW9uIiwiYXV0aG9yaXplZCIsImludGVydmFsIiwiY2FuY2VsIiwic2VsZiIsInBhcnNlSnd0IiwiYmFzZTY0IiwicmVwbGFjZSIsIkpTT04iLCJwYXJzZSIsImF0b2IiLCJleHBpcmVUaW1lIiwidGltZVN0YW1wIiwiRGF0ZSIsIm5vdyIsImV4cCIsInNob3dNb2RhbCIsImNob2ljZU1hZGUiLCJoaWRlTW9kYWwiLCJNb2RhbEJvZHkiLCJlbmRTZXNzaW9uIiwib3B0aW9uIiwibW9kYWxIZWFkZXIiLCJtb2RhbEJvZHkiLCJoaWRlQnV0dG9uIiwiJCIsIm1vZGFsIiwiYmFja2Ryb3AiLCJkb0xvZ2luIiwidmFsaWQiLCJleHBpcmVkIiwicmVzZW5kIiwicmVzZXR1c2VybmFtZSIsInJlc2V0cGFzc3dvcmQiLCJtYWluIiwiZ2V0SXRlbUZhaWwiLCJjYXNoUmVjZWlwdCIsImdldENhc2hSZWNlaXB0IiwicmVhZEFkZHJlc3MiLCJkYXVtIiwicG9zdGNvZGUiLCJsb2FkIiwiYWRkcmVzc0RldGFpbCIsIlBvc3Rjb2RlIiwib25jb21wbGV0ZSIsInNpZ3VuZ3VfY29kZSIsInNpZ3VuZ3VDb2RlIiwiamlidW5fYWRkcmVzcyIsImppYnVuQWRkcmVzcyIsInJvYWRfYWRkcmVzcyIsInJvYWRBZGRyZXNzIiwib3BlbiIsImRlbGl2ZXJ5IiwiaXRlbVByaWNlIiwiYWxsSXRlbVByaWNlIiwiY29uZmlybU9yZGVyIiwiZGFsaURhdGEiLCJyZWNlaXB0RGF0YSIsIm1ha2VCYXNrZXQiLCJjb3VudCIsImoiLCJlbWFpbCIsImhpZGUiLCJjb25maXJtZWQiLCJyZWdTdGVwMSIsInJlZ1N0ZXAyIiwicmVnU3RlcDMiLCIkcGFyc2UiLCJwYXJzZWRGaWxlIiwiZmlsZU1vZGVsIiwicGFyc2VkZmlsZVNldHRlciIsImFzc2lnbiIsImJpbmQiLCJkb0NvbmZpcm0iLCJ2YWx1ZXMiLCJmb3JFYWNoIiwiZWxlIiwiJG9ic2VydmUiLCIkd2F0Y2giXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE9BQ0EsWUFDQSxlQUNBLGtCQUNBLGtCQUNBLGtCQUNB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R0FELFlBQUEseUJBQ0F3QixLQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLFNDUkE3QyxRQUFBQyxPQUFBLE9BQ0FzQyxVQUFBLFVBQUEsV0FDQSxPQUNBQyxTQUFBLElBQ0F0QixZQUFBLGNBR0FELFlBQUEsbUNBQ0F3QixLQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLFNDUkE3QyxRQUFBQyxPQUFBLE9BQ0FzQyxVQUFBLFVBQUEsV0FDQSxPQUNBQyxTQUFBLElBQ0F0QixZQUFBLGNBR0FELFlBQUEsbUNBQ0F3QixLQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXHJcbiAgICAndWkucm91dGVyJyxcclxuICAgICd1aS5ib290c3RyYXAnLFxyXG4gICAgJ21lbnVDb250cm9sbGVycycsXHJcbiAgICAndXNlckNvbnRyb2xsZXJzJyxcclxuICAgICdtYWluQ29udHJvbGxlcnMnLFxyXG4gICAgJ2VtYWlsQ29udHJvbGxlcnMnLFxyXG4gICAgJ21hbmFnZW1lbnRDb250cm9sbGVycycsXHJcbiAgICAnaXRlbUNvbnRyb2xsZXJzJyxcclxuICAgICd0eXBlQ29udHJvbGxlcnMnLFxyXG4gICAgJ29yZGVyQ29udHJvbGxlcnMnLFxyXG4gICAgJ3VpQ3JvcHBlcicsXHJcbiAgICAnYmFubmVyQ29udHJvbGxlcicsXHJcbiAgICAnZ2FsbGVyeVNlcnZpY2VzJyxcclxuICAgICdib290c3RyYXBMaWdodGJveCcsXHJcbiAgICAnYm9hcmRDb250cm9sbGVyJ1xyXG5dKS5jb25maWcoZnVuY3Rpb24gKCRodHRwUHJvdmlkZXIpIHtcclxuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhJbnRlcmNlcHRvcnMnKTtcclxufSk7XHJcbiIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcbmFwcC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XHJcbiAgICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCcnKTtcclxuICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuXHJcbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnYXBwJywge1xyXG4gICAgICAgIHVybDogJy8nLFxyXG4gICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2hvbWUuaHRtbCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICAgICAgLnN0YXRlKCdhcHAucmVnaXN0ZXJTdGVwMScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ3JlZ2lzdGVyL3N0ZXAxJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVnaXN0ZXIvcmVnaXN0ZXJTdGVwMS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcidcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLnJlZ2lzdGVyU3RlcDInLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdyZWdpc3Rlci9zdGVwMicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3JlZ2lzdGVyL3JlZ2lzdGVyU3RlcDIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZWdDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVnaXN0ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5yZWdpc3RlclN0ZXAzJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAncmVnaXN0ZXIvc3RlcDMnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnYm9keUNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZWdpc3Rlci9yZWdpc3RlclN0ZXAzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVnQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAubG9naW4nLCB7XHJcbiAgICAgICAgICAgIHVybDogJ2xvZ2luJyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvbG9naW4vbG9naW4uaHRtbCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLnBheW1lbnQnLCB7XHJcbiAgICAgICAgICAgIHVybDogJ3BheW1lbnQnLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXltZW50L3BheW1lbnRTdGVwLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZCcsIHtcclxuICAgICAgICAgICAgdXJsOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2JvYXJkL2hvbWUuaHRtbCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLndyaXRlQXJ0aWNsZScsIHtcclxuICAgICAgICAgICAgdXJsOiAnYm9hcmQvd3JpdGVBdHJpY2xlJyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY2F0ZWdvcnllcy9ib2FyZC93cml0ZUFydGljbGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NyZWF0ZUJvYXJkQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnY3JlYXRlQm9hcmRDdHJsJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQuc2hvdycsIHtcclxuICAgICAgICAgICAgdXJsOiAnLzphcnRpY2xlX2lkJyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY2F0ZWdvcnllcy9ib2FyZC9hcnRpY2xlQ29udGVudC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVhZEJvYXJkQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVhZEJvYXJkQ3RybCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmdhbGxlcnknLCB7XHJcbiAgICAgICAgICAgIHVybDogJ2dhbGxlcnknLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2dhbGxlcnkvaG9tZS5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAudXNlcicsIHtcclxuICAgICAgICAgICAgdXJsOiAndXNlcicsXHJcbiAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnYm9keUNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3BhcnRpYWwvdXNlci5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3RhdGUoJ2FwcC5jb21tZXJjZURldGFpbCcsIHtcclxuICAgICAgICAgICAgdXJsOiAnY29tbWVyY2UtZGV0YWlsJyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcGFydGlhbC9jb21tZXJjZURldGFpbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3RhdGUoJ2FwcC5iYXNrZXQnLCB7XHJcbiAgICAgICAgICAgIHVybDogJ2Jhc2tldCcsXHJcbiAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnYm9keUNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3BhcnRpYWwvYmFza2V0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdiYXNrZXRDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdiYXNrZXQnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5jYXRlZ29yeScsIHtcclxuICAgICAgICAgICAgdXJsOiAnY2F0ZWdvcnk9OmNhdGVnb3J5X2lkJyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdzdWJNZW51QGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tZW51ZXMvc3ViTWVudS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc3ViTWVudUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3N1Yk1lbnUnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2l0ZW1zL2hvbWUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dldFR5cGVJdGVtc0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dldFR5cGVJdGVtcydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0YXRlKCdhcHAuY2F0ZWdvcnkuaXRlbV90eXBlJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvaXRlbV90eXBlPTp0eXBlX2NvZGUnLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2l0ZW1zL2hvbWUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dldFR5cGVJdGVtc0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dldFR5cGVJdGVtcydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0YXRlKCdhcHAuY2F0ZWdvcnkuaXRlbV90eXBlLnNob3cnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9pdGVtOml0ZW1faWQnLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2l0ZW1zL2l0ZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dldFR5cGVJdGVtQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2V0VHlwZUl0ZW0nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5jYXRlZ29yeS5zaG93Jywge1xyXG4gICAgICAgICAgICB1cmw6ICcvaXRlbTppdGVtX2lkJyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY2F0ZWdvcnllcy9pdGVtcy9pdGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZXRUeXBlSXRlbUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dldFR5cGVJdGVtJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAubWFrZU9yZGVyJywge1xyXG4gICAgICAgICAgICB1cmw6ICdtYWtlT3JkZXInLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9vcmRlci9tYWtlT3JkZXIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlYWRPcmRlckN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlYWRPcmRlcidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmNvbmZpcm1PcmRlcicsIHtcclxuICAgICAgICAgICAgdXJsOiAnY29uZmlybU9yZGVyJyxcclxuICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvb3JkZXIvY29uZmlybU9yZGVyLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZWFkT3JkZXJDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWFkT3JkZXJDdHJsJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIC5zdGF0ZSgncmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9yZXNldHVzZXJuYW1lJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L3VzZXJuYW1lLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJuYW1lQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd1c2VybmFtZSdcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdyZXNldHBhc3N3b3JkJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvcGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGFzc3dvcmRDdHJsJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Bhc3N3b3JkJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ3Jlc2V0JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0Lzp0b2tlbicsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC9uZXdwYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZXNldEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVzZXQnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FjdGl2YXRlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2FjdGl2YXRlLzp0b2tlbicsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9hY3RpdmF0aW9uL2FjdGl2YXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2VtYWlsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdlbWFpbCdcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdyZXNlbmQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvcmVzZW5kJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL2FjdGl2YXRpb24vcmVzZW5kLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Jlc2VuZEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVzZW5kJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAuaW50cm8nLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdpbnRybycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvY29tcGFueUluZm9ybWF0aW9uL2NvbXBhbnlJbnRyb2R1Y2UudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAudGVybXMnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICd0ZXJtcycsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdib2R5Q29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvY29tcGFueUluZm9ybWF0aW9uL3Rlcm1zLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLnByaXZhY3knLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdwcml2YWN5JyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2JvZHlDb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9jb21wYW55SW5mb3JtYXRpb24vcHJpdmFjeS50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyDqtIDrpqzsnpAg7Y6Y7J207KeAXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmFkbWluT3JkZXJTdGF0dXMnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdhZG1pbk9yZGVyU3RhdHVzJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2FkbWluQ29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC9vcmRlclN0YXR1cy5odG1sJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAuYWRtaW5NZW1iZXJzJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnYWRtaW5NZW1iZXJzJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2FkbWluQ29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC9tZW1iZXJzLmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5hZG1pbkNhdGVnb3J5JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnYWRtaW5DYXRlZ29yeScsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdhZG1pbkNvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvY2F0ZWdvcnkuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluTWVudUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdtYWluTWVudSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLmFkbWluVHlwZUFuZEl0ZW1zJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnYWRtaW5UeXBlQW5kSXRlbXMnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnYWRtaW5Db250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9wYXJ0aWFsL3R5cGVBbmRJdGVtcy5odG1sJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAuYWRtaW5HYWxsZXJ5JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnYWRtaW5HYWxsZXJ5JyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2FkbWluQ29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC9nYWxsZXJ5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXBsb2FkZ2FsbGVyeUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd1cGxvYWRHYWxsZXJ5J1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAuYWRtaW5MYWJvcmF0b3J5JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnYWRtaW5MYWJvcmF0b3J5JyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2FkbWluQ29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvYWRtaW4vYWRtaW5MYWJvcmF0b3J5LnRwbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnbWFuYWdlbWVudCcsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdhZG1pbkNvbnRlbnRAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L2hvbWUuaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICdtZW51QGFwcC5tYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L21lbnUuaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50LnR5cGVBbmRJdGVtcy51cGRhdGUnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvdXBkYXRlVHlwZTppdGVtX3R5cGUnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC91cGRhdGUvdHlwZS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VwZGF0ZVR5cGVDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndXBkYXRlVHlwZSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5zdGF0ZSgnYXBwLm1hbmFnZW1lbnQudHlwZUFuZEl0ZW1zLnVwZGF0ZUl0ZW1UeXBlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3VwZGF0ZUl0ZW06aXRlbV9pZCcsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAubWFuYWdlbWVudCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9wYXJ0aWFsL3VwZGF0ZS9pdGVtVHlwZS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VwZGF0ZUl0ZW1UeXBlQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VwZGF0ZUl0ZW1UeXBlJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLnN0YXRlKCdhcHAubWFuYWdlbWVudC50eXBlQW5kSXRlbXMudXBkYXRlSXRlbScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy91cGRhdGUvaXRlbTppdGVtX2lkJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5tYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvdXBkYXRlL2l0ZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1cGRhdGVJdGVtQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VwZGF0ZUl0ZW0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50LnR5cGVBbmRJdGVtcy5yZWFkSXRlbScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVybDogJzppdGVtX2lkJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5tYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvcmVhZC9pdGVtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVhZEl0ZW1DdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVhZEl0ZW0nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxufSk7XHJcblxyXG5hcHAucnVuKGZ1bmN0aW9uICgkcm9vdFNjb3BlLCBVc2VyLCAkc3RhdGUpIHtcclxuICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgb3B0aW9ucykge1xyXG4gICAgfSk7XHJcbiAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgIH0pO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5kaXJlY3RpdmUoJ2FkbWluVXNlcnMnLCBbZnVuY3Rpb24gKCkge1xyXG4gICByZXR1cm4ge1xyXG4gICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgLy8gIHJlcXVpcmU6IFsnYWRtaW5Vc2VycyddLFxyXG4gICAgICAgY29udHJvbGxlcjogW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICAgICB2YXIgTmFtZUN0cmwgPSB0aGlzO1xyXG4gICAgICAgfV0sXHJcbiAgICAgICBjb250cm9sbGVyQXM6ICdOYW1lQ3RybCcsXHJcbiAgICAgICB0ZW1wbGF0ZVVybDogJy9kaXJlY3RpdmVzL2FkbWluVXNlcnMudHBsLmh0bWwnLFxyXG4gICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAvL1xyXG4gICAgICAgfVxyXG4gICB9O1xyXG59XSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnYmFubmVyJywgWyckaHR0cCcsIGZ1bmN0aW9uICgkaHR0cCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICdiYW5uZXJDdHJsJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9iYW5uZXIudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcEN0cmwgPSBjdHJscztcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL2Jhbm5lcicpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwQ3RybC5iYW5uZXJEYXRhID0gcmVzdWx0LmRhdGEuYmFubmVyRGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuu2iOufrOyYpOyngCDrqrvtlZjsmIDsirXri4jri6QuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG5cclxuLmNvbnRyb2xsZXIoJ0Nhcm91c2VsQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcclxuICAgICRzY29wZS5teUludGVydmFsID0gMjUwMDtcclxuICAgICRzY29wZS5ub1dyYXBTbGlkZXMgPSBmYWxzZTtcclxuICAgICRzY29wZS5hY3RpdmUgPSAwO1xyXG4gICAgdmFyIHNsaWRlcyA9ICRzY29wZS5zbGlkZXMgPSBbXTtcclxuICAgIHZhciBjdXJySW5kZXggPSAwO1xyXG5cclxuICAgICRzY29wZS5hZGRTbGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBuZXdXaWR0aCA9IDYwMCArIHNsaWRlcy5sZW5ndGggKyAxO1xyXG4gICAgICAgIHNsaWRlcy5wdXNoKHtcclxuICAgICAgICAgICAgaW1hZ2U6IFsnL2ltYWdlcy9pdGVtcy9iYW5uZXIvMS5qcGcnLCcvaW1hZ2VzL2l0ZW1zL2Jhbm5lci8yLmpwZycsICcvaW1hZ2VzL2l0ZW1zL2Jhbm5lci8zLmpwZyddW3NsaWRlcy5sZW5ndGggJSAzXSxcclxuICAgICAgICAgICAgaWQ6IGN1cnJJbmRleCsrXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5yYW5kb21pemUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaW5kZXhlcyA9IGdlbmVyYXRlSW5kZXhlc0FycmF5KCk7XHJcbiAgICAgICAgYXNzaWduTmV3SW5kZXhlc1RvU2xpZGVzKGluZGV4ZXMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgICAgICRzY29wZS5hZGRTbGlkZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJhbmRvbWl6ZSBsb2dpYyBiZWxvd1xyXG5cclxuICAgIGZ1bmN0aW9uIGFzc2lnbk5ld0luZGV4ZXNUb1NsaWRlcyhpbmRleGVzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzbGlkZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNsaWRlc1tpXS5pZCA9IGluZGV4ZXMucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlSW5kZXhlc0FycmF5KCkge1xyXG4gICAgICAgIHZhciBpbmRleGVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJySW5kZXg7ICsraSkge1xyXG4gICAgICAgICAgICBpbmRleGVzW2ldID0gaTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNodWZmbGUoaW5kZXhlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85NjI4MDIjOTYyODkwXHJcbiAgICBmdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XHJcbiAgICAgICAgdmFyIHRtcCwgY3VycmVudCwgdG9wID0gYXJyYXkubGVuZ3RoO1xyXG5cclxuICAgICAgICBpZiAodG9wKSB7XHJcbiAgICAgICAgICAgIHdoaWxlICgtLXRvcCkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0b3AgKyAxKSk7XHJcbiAgICAgICAgICAgICAgICB0bXAgPSBhcnJheVtjdXJyZW50XTtcclxuICAgICAgICAgICAgICAgIGFycmF5W2N1cnJlbnRdID0gYXJyYXlbdG9wXTtcclxuICAgICAgICAgICAgICAgIGFycmF5W3RvcF0gPSB0bXA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBhcnJheTtcclxuICAgIH1cclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdib2FyZCcsIFsnJGh0dHAnLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICdib2FyZEN0cmwnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaXJlY3RpdmVzL2JvYXJkLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBib2FyZEN0cmwgPSBjdHJscztcclxuXHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvYm9hcmQnKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib2FyZEN0cmwuYm9hcmREYXRhID0gcmVzdWx0LmRhdGEuYm9hcmREYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG1vbWVudChib2FyZEN0cmwuYm9hcmREYXRhWzBdLmNyZWF0ZWQsICdZWVlZLU1NLUREJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkQ3RybC50b3RhbEl0ZW1zID0gYm9hcmRDdHJsLmJvYXJkRGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYm9hcmRDdHJsLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICAgICAgICAgIGJvYXJkQ3RybC5pdGVtc1BlclBhZ2UgPSA3O1xyXG5cclxuICAgICAgICAgICAgICAgIGJvYXJkQ3RybC5zZXRQYWdlID0gZnVuY3Rpb24gKHBhZ2VObykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvYXJkQ3RybC5jdXJyZW50UGFnZSA9IHBhZ2VObztcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgYm9hcmRDdHJsLnBhZ2VDaGFuZ2VkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BhZ2UgY2hhbmdlZCB0bzogJyArIGJvYXJkQ3RybC5jdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG5cclxuICAgIC5jb250cm9sbGVyKCdjcmVhdGVCb2FyZENvbnRyb2xsZXInLCBmdW5jdGlvbiAoJGh0dHAsICRzdGF0ZSkge1xyXG4gICAgICAgIHZhciBjcmVhdGVCb2FyZEN0cmwgPSB0aGlzO1xyXG4gICAgICAgIGNyZWF0ZUJvYXJkQ3RybC5kb1dyaXRlID0gZnVuY3Rpb24gKGJvYXJkRGF0YSkge1xyXG4gICAgICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2JvYXJkJywgYm9hcmREYXRhKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYm9hcmQnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAuY29udHJvbGxlcigncmVhZEJvYXJkQ29udHJvbGxlcicsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsICRzdGF0ZSwgJGh0dHApIHtcclxuICAgICAgICB2YXIgcmVhZEJvYXJkQ3RybCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGFydGljbGVfaWQgPSAkc3RhdGVQYXJhbXMuYXJ0aWNsZV9pZDtcclxuXHJcbiAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS9ib2FyZC8nK2FydGljbGVfaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmVhZEJvYXJkQ3RybC5hcnRpY2xlRGF0YSA9IHJlc3VsdC5kYXRhLmFydGljbGVEYXRhO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdjb21tZW50JywgWyckaHR0cCcsICckc3RhdGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKCRodHRwLCAkc3RhdGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwID0gdGhpcztcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2NvbW1lbnRDdHJsJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9jb21tZW50LnRwbC5odG1sJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb21tZW50Q3RybCA9IGN0cmxzO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJHN0YXRlUGFyYW1zKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb21tZW50Q3RybC53cml0ZUNvbW1ldCA9IGZ1bmN0aW9uIChjb21tZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvYXJkSWQ6ICRzdGF0ZVBhcmFtcy5hcnRpY2xlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50OiBjb21tZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9jb21tZW50JywgY29tbWVudERhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvY29tbWVudC8nKyAkc3RhdGVQYXJhbXMuYXJ0aWNsZV9pZCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb21tZW50Q3RybC5jb21tZW50RGF0YSA9IHJlc3VsdC5kYXRhLmNvbW1lbnREYXRhO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnZ2FsbGVyeUNvbnRlbnQnLCBbJ2dhbGxlcnknLCAnTGlnaHRib3gnLCBmdW5jdGlvbiAoZ2FsbGVyeSwgTGlnaHRib3gpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIE5hbWVDdHJsID0gdGhpcztcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dhbGxlcnlDdHJsJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9nYWxsZXJ5LnRwbC5odG1sJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICB2YXIgZ2FsbGVyeUN0cmwgPSBjdHJscztcclxuXHJcbiAgICAgICAgICAgICAgICBnYWxsZXJ5LmdldENvbnRlbnQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5Q3RybC5nYWxsZXJ5RGF0YSA9IHJlc3VsdC5kYXRhLmdhbGxlcnlEYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbGxlcnlDdHJsLmVycm9yTXNnID0gcmVzdWx0LmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBnYWxsZXJ5Q3RybC5vcGVuTGlnaHRib3hNb2RhbCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIExpZ2h0Ym94Lm9wZW5Nb2RhbChnYWxsZXJ5Q3RybC5nYWxsZXJ5RGF0YSwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuICAgIC5jb250cm9sbGVyKCd1cGxvYWRnYWxsZXJ5Q3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICR0aW1lb3V0LCAkaHR0cCwgJHdpbmRvdywgJHN0YXRlKSB7XHJcbiAgICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5maWxlID0ge307XHJcblxyXG4vLyDsnpHtkogg7ISk66qFIOydtOuvuOyngCDsl4XroZzrk5wg65CY7JeI64qU7KeAIOuztOyXrOyjvOq4sFxyXG4gICAgICAgIHRoaXMucmVhZEltYWdlID0gZnVuY3Rpb24gKGZpbGVzKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuLy8g7J6R7ZKIIOyEpOuqhSAg7J2066+47KeAIOyXheuhnOuTnO2VtOyEnCDqsr3roZwg7KCA7J6lXHJcbiAgICAgICAgdGhpcy51cGxvYWRJbWFnZSA9IGZ1bmN0aW9uIChpdGVtVGl0bGUpIHtcclxuLy8g7J6R7ZKIIOyEpOuqhSAg7JeF66Gc65OcIOyXrOu2gFxyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgICAgYXBwLmV4cGxhaW5QaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgZmQudGl0bGUgPSBpdGVtVGl0bGU7XHJcbiAgICAgICAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAgICAgJGh0dHAucGF0Y2goJy9hcGkvZ2FsbGVyeS8nLCBmZCwge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuaW1hZ2VQYXRoID0gZGF0YS5kYXRhLmltYWdlX3BhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblBob3RvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnVwbG9hZEdhbGxlcnkgPSBmdW5jdGlvbiAodGl0bGUpIHtcclxuICAgICAgICAgICAgZ2FsbGVyeURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB0aHVtYlVybDogYXBwLmltYWdlUGF0aCxcclxuICAgICAgICAgICAgICAgIHVybDogYXBwLmltYWdlUGF0aCxcclxuICAgICAgICAgICAgICAgIGNhcHRpb246IHRpdGxlXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2dhbGxlcnknLCBnYWxsZXJ5RGF0YSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gcmVzdWx0LmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ21lbnVJdGVtJywgWydNZW51JywgZnVuY3Rpb24gKE1lbnUpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICdtZW51SXRlbUN0cmwnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaXJlY3RpdmVzL21lbnVJdGVtLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtZW51SXRlbUN0cmwgPSBjdHJscztcclxuICAgICAgICAgICAgICAgIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtQ3RybC5tYWluTWVudWVzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZW51SXRlbUN0cmwuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pIiwiYW5ndWxhci5tb2R1bGUoJ2FkbWluU2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnQWRtaW4nLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgYWRtaW5GYWN0b3J5ID0ge307XHJcblxyXG4gIGFkbWluRmFjdG9yeS5kZWxldGVJdGVtID0gZnVuY3Rpb24oaXRlbV9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZGVsZXRlKCcvYXBpL2l0ZW0vJytpdGVtX2lkKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkucmVhZEFyaXN0Q3JvcCA9IGZ1bmN0aW9uKGJsb2Ipe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY3JlYXRlQ3JvcEltYWdlJywgYmxvYik7XHJcbiAgfTtcclxuICAvLyBBcnRpc3QuY3JlYXRlUGhvdG8ocGhvdG9EYXRhKVxyXG4gIGFkbWluRmFjdG9yeS5jcmVhdGVBcmlzdFBob3RvID0gZnVuY3Rpb24ocGhvdG9EYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2FydGlzdFByb2ZpbGVzJywgcGhvdG9EYXRhKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkuY3JlYXRlSXRlbSA9IGZ1bmN0aW9uKGl0ZW1EYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2l0ZW0nLCBpdGVtRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LnJlYWRJdGVtcyA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2l0ZW0nKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkucmVhZEl0ZW0gPSBmdW5jdGlvbihpdGVtX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvaXRlbS8nK2l0ZW1faWQpO1xyXG4gIH07XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09IHR5cGVTZXJ2aWNlcyDsg53shLEgPT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcblxyXG5cclxuICBhZG1pbkZhY3RvcnkudXBkYXRlSXRlbVR5cGUgPSBmdW5jdGlvbih1cGRhdGVEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvaXRlbVR5cGUnLCB1cGRhdGVEYXRhKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkucmVhZFVwZGF0ZUl0ZW1UeXBlID0gZnVuY3Rpb24oaXRlbV9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2l0ZW1UeXBlLycraXRlbV9pZCk7XHJcbiAgfTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LnJlYWRJdGVtVHlwZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2l0ZW1UeXBlJyk7XHJcbiAgfTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LmRlbGV0ZVR5cGUgPSBmdW5jdGlvbihpdGVtX3R5cGVfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS90eXBlLycraXRlbV90eXBlX2lkKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkucmVhZFVwZGF0ZVR5cGUgPSBmdW5jdGlvbihpdGVtX3R5cGUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS90eXBlLycraXRlbV90eXBlKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkudXBkYXRlVXBkYXRlVHlwZSA9IGZ1bmN0aW9uKHVwZGF0ZURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS90eXBlJywgdXBkYXRlRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgYWRtaW5GYWN0b3J5LmNyZWF0ZVR5cGUgPSBmdW5jdGlvbih0eXBlRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS90eXBlJywgdHlwZURhdGEpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5yZWFkVHlwZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3R5cGUnKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gYWRtaW5GYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2F1dGhTZXJ2aWNlcycsW10pXHJcblxyXG4uZmFjdG9yeSgnQXV0aCcsIGZ1bmN0aW9uKCRodHRwLCBBdXRoVG9rZW4pe1xyXG4gICAgdmFyIGF1dGhGYWN0b3J5ID0ge307XHJcbi8vIEF1dGguZ2V0VXNlcigpO1xyXG4gICAgYXV0aEZhY3RvcnkuZ2V0VXNlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKXtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9tZScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRxLnJlamVjdCh7bWVzc2FnZTonVXNlciBoYXMgbm8gdG9rZW4nfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmxvZ2luKGxvZ2luRGF0YSk7XHJcbiAgICBhdXRoRmFjdG9yeS5sb2dpbiA9IGZ1bmN0aW9uKGxvZ2luRGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2F1dGhlbnRpY2F0ZScsIGxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5pc0xvZ2dlZEluKCk7XHJcbiAgICBhdXRoRmFjdG9yeS5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKXtcclxuICAgICAgaWYoQXV0aFRva2VuLmdldFRva2VuKCkpe1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8vIEF1dGgubG9nb3V0KCk7XHJcbiAgICBhdXRoRmFjdG9yeS5sb2dvdXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gYXV0aEZhY3Rvcnk7XHJcbn0pXHJcblxyXG4uZmFjdG9yeSgnQXV0aFRva2VuJywgZnVuY3Rpb24oJHdpbmRvdyl7XHJcbiAgdmFyIGF1dGhUb2tlbkZhY3RvcnkgPSB7fTtcclxuXHJcbiAgLy8gQXV0aFRva2VuLnNldFRva2VuKHRva2VuKTtcclxuICBhdXRoVG9rZW5GYWN0b3J5LnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgaWYodG9rZW4pe1xyXG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuICAgIH1lbHNlIHtcclxuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nLCB0b2tlbik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbi8vIEF1dGhUb2tlbi5nZXRUb2tlbigpO1xyXG4gIGF1dGhUb2tlbkZhY3RvcnkuZ2V0VG9rZW4gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgfTtcclxuICByZXR1cm4gYXV0aFRva2VuRmFjdG9yeTtcclxufSlcclxuXHJcbi5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3JzJywgZnVuY3Rpb24oQXV0aFRva2VuKXtcclxuICB2YXIgYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkgPSB7fTtcclxuXHJcbiAgYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkucmVxdWVzdCA9IGZ1bmN0aW9uKGNvbmZpZyl7XHJcbiAgICB2YXIgdG9rZW4gPSBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuXHJcbiAgICBpZih0b2tlbikgY29uZmlnLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuJ10gPSB0b2tlbjtcclxuXHJcbiAgICByZXR1cm4gY29uZmlnO1xyXG4gIH07XHJcbiAgcmV0dXJuIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dhbGxlcnlTZXJ2aWNlcycsW10pXHJcbiAgICAuZmFjdG9yeSgnZ2FsbGVyeScsIGZ1bmN0aW9uKCRodHRwKXtcclxuICAgICAgICBnYWxsZXJ5RmFjdG9yeSA9IHt9O1xyXG5cclxuICAgICAgICAvL2dhbGxlcnkuZ2V0Q29udGVudCgpO1xyXG4gICAgICAgIGdhbGxlcnlGYWN0b3J5LmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZ2FsbGVyeUZhY3Rvcnk7XHJcbiAgICB9KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ21lbnVTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdNZW51JywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIG1lbnVGYWN0b3J5ID0ge307XHJcblxyXG4gIG1lbnVGYWN0b3J5LmRlbGV0ZU1lbnUgPSBmdW5jdGlvbihjYXRlZ29yeV9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZGVsZXRlKCcvYXBpL21lbnUvJytjYXRlZ29yeV9pZCk7XHJcbiAgfTtcclxuXHJcbiAgbWVudUZhY3RvcnkudXBkYXRlTWVudSA9IGZ1bmN0aW9uKHVwZGF0ZURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9tZW51LycsIHVwZGF0ZURhdGEpO1xyXG4gIH07XHJcblxyXG4gIG1lbnVGYWN0b3J5LmNyZWF0ZU1lbnUgPSBmdW5jdGlvbihtZW51RGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9tZW51JywgbWVudURhdGEpO1xyXG4gIH07XHJcblxyXG4gIG1lbnVGYWN0b3J5LnJlYWRNYWluTWVudSA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lbnUnKTtcclxuICB9O1xyXG4gIG1lbnVGYWN0b3J5LnJlYWRTdWJNZW51ID0gIGZ1bmN0aW9uKG1haW5NZW51VHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lbnUvJyttYWluTWVudVR5cGUpO1xyXG4gIH07XHJcbiAgcmV0dXJuIG1lbnVGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ29yZGVyU2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnT3JkZXInLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgb3JkZXJGYWN0b3J5ID0ge307XHJcbiAgXHJcbiAgb3JkZXJGYWN0b3J5LnVwZGF0ZURlbGl2ZXJ5ID0gZnVuY3Rpb24oZGVsaURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9kZWxpdmVyeS8nK2RlbGlEYXRhLnVzZXJfaWQsIGRlbGlEYXRhKTtcclxuICB9O1xyXG5cclxuICBvcmRlckZhY3RvcnkuY3JlYXRlRGVsaXZlcnkgPSBmdW5jdGlvbihkZWxpRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9kZWxpdmVyeScsZGVsaURhdGEpO1xyXG4gIH07XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5kZWxldGVCYXNrZXQgPSBmdW5jdGlvbihiYXNrZXRfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS9iYXNrZXQvJytiYXNrZXRfaWQpO1xyXG4gIH07XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5yZWFkQmFza2V0PSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9iYXNrZXQnKTtcclxuICB9O1xyXG5cclxuICBvcmRlckZhY3RvcnkuY3JlYXRlQmFza2V0ID0gZnVuY3Rpb24oYmFza2V0RGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9iYXNrZXQnLCBiYXNrZXREYXRhKTtcclxuICB9O1xyXG5cclxuICBvcmRlckZhY3RvcnkuZGVsZXRlT3JkZXIgPSBmdW5jdGlvbihpdGVtX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5kZWxldGUoJy9hcGkvbWFrZU9yZGVyLycraXRlbV9pZCk7XHJcbiAgfTtcclxuXHJcbiAgb3JkZXJGYWN0b3J5LnJlYWRPcmRlciA9IGZ1bmN0aW9uKHVzZXJfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9tYWtlT3JkZXIvJyt1c2VyX2lkKTtcclxuICB9O1xyXG5cclxuICBvcmRlckZhY3RvcnkucmVhZE9yZGVyQW5kRGVsaSA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21ha2VPcmRlcicpO1xyXG4gIH07XHJcblxyXG4gIG9yZGVyRmFjdG9yeS5jcmVhdGVPcmRlciA9IGZ1bmN0aW9uKG9yZGVyRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9tYWtlT3JkZXInLG9yZGVyRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIG9yZGVyRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd1c2VyU2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnVXNlcicsIGZ1bmN0aW9uKCRodHRwKXtcclxuICB1c2VyRmFjdG9yeSA9IHt9O1xyXG5cclxuICB1c2VyRmFjdG9yeS5nZXRQZXJtaXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcGVybWlzc2lvbicpO1xyXG4gIH07XHJcbi8vIFVzZXIuY3JlYXRlKHJlZ0RhdGEpXHJcbiAgdXNlckZhY3RvcnkuY3JlYXRlID0gZnVuY3Rpb24ocmVnRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VycycsIHJlZ0RhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLmFjdGl2ZUFjY291bnQodG9rZW4pO1xyXG4gIHVzZXJGYWN0b3J5LmFjdGl2ZUFjY291bnQgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2FjdGl2YXRlLycrdG9rZW4pO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLmNoZWNrQ3JlZGVudGlhbHMobG9naW5EYXRhKTtcclxuICB1c2VyRmFjdG9yeS5jaGVja0NyZWRlbnRpYWxzID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Jlc2VuZCcsIGxvZ2luRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIucmVzZW5kTGluayh1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZXNlbmRMaW5rID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9yZXNlbmQnLCB1c2VybmFtZSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuc2VuZFVzZXJuYW1lKHVzZXJEYXRhKTtcclxuICB1c2VyRmFjdG9yeS5zZW5kVXNlcm5hbWUgPSBmdW5jdGlvbih1c2VyRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Jlc2V0dXNlcm5hbWUvJyt1c2VyRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuc2VuZFBhc3N3b3JkKHJlc2V0RGF0YSk7XHJcbiAgdXNlckZhY3Rvcnkuc2VuZFBhc3N3b3JkID0gZnVuY3Rpb24ocmVzZXREYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvcmVzZXRwYXNzd29yZCcsIHJlc2V0RGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIucmVzZXRQYXNzd29yZCh0b2tlbik7XHJcbiAgdXNlckZhY3RvcnkucmVzZXRQYXNzd29yZCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVzZXRwYXNzd29yZC8nK3Rva2VuKTtcclxuICB9O1xyXG5cclxuXHJcbi8vIFVzZXIuc2F2ZVBhc3N3b3JkKHJlZ0RhdGEpXHJcbiAgdXNlckZhY3Rvcnkuc2F2ZVBhc3N3b3JkID0gZnVuY3Rpb24ocmVnRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3NhdmVwYXNzd29yZCcsIHJlZ0RhdGEpO1xyXG4gIH07XHJcblxyXG4vLyAgVXNlci5yZW5ld1Nlc3Npb24odXNlcm5hbWUpXHJcbiAgdXNlckZhY3RvcnkucmVuZXdTZXNzaW9uID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZW5ld1Rva2VuLycrIHVzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuXHJcbiAgcmV0dXJuIHVzZXJGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2Jhbm5lckNvbnRyb2xsZXInLCBbXSlcclxuLmNvbnRyb2xsZXIoJ3VwbG9hZEJhbm5lckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsJHRpbWVvdXQsJGh0dHAsICR3aW5kb3csICRzdGF0ZSl7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgIHRoaXMuZmlsZSA9IHt9O1xyXG5cclxuICAgIC8vIOyeke2SiCDshKTrqoUg7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbiAgICB0aGlzLnJlYWRJbWFnZSA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgIC8vIOyeke2SiCDshKTrqoUgIOydtOuvuOyngCDsl4XroZzrk5ztlbTshJwg6rK966GcIOyggOyepVxyXG4gICAgdGhpcy51cGxvYWRCYW5uZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgLy8g7J6R7ZKIIOyEpOuqhSAg7JeF66Gc65OcIOyXrOu2gFxyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgYXBwLmV4cGxhaW5QaG90byA9IGZhbHNlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9hcGkvYmFubmVyLycsIGZkLHtcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgIGFwcC5leHBsYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgfSlcclxuXHJcbiAgICAuY29udHJvbGxlcignZ2V0QmFubmVyQ3RybCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgICAkaHR0cC5nZXQoJy9hcGkvYmFubmVyJykudGhlbihmdW5jdGlvbihyZXN1bHQpe1xyXG4gICAgICAgIGlmKHJlc3VsdC5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICBhcHAuYmFubmVyRGF0YSA9IHJlc3VsdC5kYXRhLmJhbm5lckRhdGE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwi67aI65+s7Jik7KeAIOuqu+2VmOyYgOyKteuLiOuLpC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYm9hcmRDb250cm9sbGVyJywgW10pXHJcbiAgICAuY29udHJvbGxlcignY3JlYXRlQm9hcmRDb250cm9sbGVyJywgZnVuY3Rpb24gKCRodHRwLCAkc3RhdGUpIHtcclxuICAgICAgICB2YXIgY3JlYXRlQm9hcmRDdHJsID0gdGhpcztcclxuICAgICAgICBjcmVhdGVCb2FyZEN0cmwuZG9Xcml0ZSA9IGZ1bmN0aW9uIChib2FyZERhdGEpIHtcclxuICAgICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9ib2FyZCcsIGJvYXJkRGF0YSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmJvYXJkJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdnYWxsZXJ5Q29udHJvbGxlcicsIFtdKVxyXG4uY29udHJvbGxlcigndXBsb2FkZ2FsbGVyeUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsJHRpbWVvdXQsJGh0dHAsICR3aW5kb3csICRzdGF0ZSl7XHJcbnZhciBhcHAgPSB0aGlzO1xyXG50aGlzLmZpbGUgPSB7fTtcclxuXHJcbi8vIOyeke2SiCDshKTrqoUg7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbnRoaXMucmVhZEltYWdlID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgIH1cclxuICB9O1xyXG5cclxuLy8g7J6R7ZKIIOyEpOuqhSAg7J2066+47KeAIOyXheuhnOuTnO2VtOyEnCDqsr3roZwg7KCA7J6lXHJcbnRoaXMudXBsb2FkSW1hZ2UgPSBmdW5jdGlvbihpdGVtVGl0bGUpe1xyXG4vLyDsnpHtkogg7ISk66qFICDsl4XroZzrk5wg7Jes67aAXHJcbiAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgYXBwLmV4cGxhaW5QaG90byA9IGZhbHNlO1xyXG4gIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgZmQudGl0bGUgPSBpdGVtVGl0bGU7XHJcbiAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgJGh0dHAucGF0Y2goJy9hcGkvZ2FsbGVyeS8nLCBmZCwge1xyXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5pbWFnZVBhdGggPSBkYXRhLmRhdGEuaW1hZ2VfcGF0aDtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgIGFwcC5leHBsYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMudXBsb2FkR2FsbGVyeSA9IGZ1bmN0aW9uKHRpdGxlKXtcclxuICAgIGdhbGxlcnlEYXRhID0ge1xyXG4gICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgIGltYWdlUGF0aCA6IGFwcC5pbWFnZVBhdGhcclxuICAgIH07XHJcbiAgICAkaHR0cC5wb3N0KCcvYXBpL2dhbGxlcnknLCBnYWxsZXJ5RGF0YSkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xyXG4gICAgfSk7XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdnZXRHYWxsZXJ5Q3RybCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnknKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XHJcbiAgICBpZihyZXN1bHQuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuZ2FsbGVyeURhdGEgPSByZXN1bHQuZGF0YS5nYWxsZXJ5RGF0YTtcclxuICAgICAgICBjb25zb2xlLmxvZyhhcHAuZ2FsbGVyeURhdGEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coXCLrtojrn6zsmKTsp4Ag66q77ZWY7JiA7Iq164uI64ukLlwiKTtcclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdpdGVtQ29udHJvbGxlcnMnLCBbJ29yZGVyU2VydmljZXMnXSlcclxuICAgIC5maWx0ZXIoJ3N1bUJ5S2V5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSA/IGlucHV0Lmxlbmd0aCA6IDA7XHJcbi8vIGlmIHByb3BlcnR5IGlzIG5vdCBkZWZpbmVkLCByZXR1cm5zIGxlbmd0aCBvZiBhcnJheVxyXG4vLyBpZiBhcnJheSBoYXMgemVybyBsZW5ndGggb3IgaWYgaXQgaXMgbm90IGFuIGFycmF5LCByZXR1cm4gemVyb1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAndW5kZWZpbmVkJyB8fCBpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuLy8gdGVzdCBpZiBwcm9wZXJ0eSBpcyBudW1iZXIgc28gaXQgY2FuIGJlIGNvdW50ZWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKVxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IChpbnB1dFtpXVtwcm9wZXJ0eVswXV0gKiBpbnB1dFtpXVtwcm9wZXJ0eVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pXHJcbiAgICAuY29udHJvbGxlcignZ2V0VHlwZUl0ZW1zQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsICRodHRwKSB7XHJcbiAgICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHZhciBjYXRlZ29yeV9pZCA9ICRzdGF0ZVBhcmFtcy5jYXRlZ29yeV9pZDtcclxuICAgICAgICBpZiAoISRzdGF0ZVBhcmFtcy50eXBlX2NvZGUpIHtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL2l0ZW1fdHlwZS8nICsgY2F0ZWdvcnlfaWQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn65Ox66Gd65CcIOyDge2SiOydtCDsl4bsirXri4jri6QuJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuaXRlbXNEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgdHlwZV9jb2RlID0gJHN0YXRlUGFyYW1zLnR5cGVfY29kZTtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL2l0ZW1fdHlwZS8nICsgY2F0ZWdvcnlfaWQsXHJcbiAgICAgICAgICAgICAgICB7cGFyYW1zOiB7dHlwZV9jb2RlOiB0eXBlX2NvZGV9fVxyXG4gICAgICAgICAgICApLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn65Ox66Gd65CcIOyDge2SiOydtCDsl4bsirXri4jri6QuJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuaXRlbXNEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSlcclxuXHJcbiAgICAuY29udHJvbGxlcignZ2V0VHlwZUl0ZW1DdHJsJywgZnVuY3Rpb24gKEFkbWluLCAkc3RhdGVQYXJhbXMsICR3aW5kb3csICRzdGF0ZSwgT3JkZXIpIHtcclxuICAgICAgICB2YXIgYXBwID0gdGhpcztcclxuICAgICAgICB2YXIgaXRlbV9pZCA9ICRzdGF0ZVBhcmFtcy5pdGVtX2lkO1xyXG4gICAgICAgIGFwcC5vcHRpb25JdGVtID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGFwcC5kYXRhID0ge1xyXG4gICAgICAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFwcC5hbW91bnQgPSAxO1xyXG5cclxuICAgICAgICBhcHAub3B0aW9uTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmlkID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsmLXshZjsnYQg7ISg7YOd7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLm9wdGlvbkl0ZW0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYXBwLm9wdGlvbkxpc3QucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IGRhdGEubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IGRhdGEuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudDogMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVCYXNrZXQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgYmFza2V0RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGl0ZW1faWQ6IGRhdGEuaXRlbV9pZCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT3JkZXIuY3JlYXRlQmFza2V0KGJhc2tldERhdGEpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVPcmRlciA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgb3JkZXJEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgaXRlbV9pZDogZGF0YS5pdGVtX2lkLFxyXG4gICAgICAgICAgICAgICAgYW1vdW50OiBkYXRhLmFtb3VudCxcclxuICAgICAgICAgICAgICAgIGtpbmRfb2Y6IGRhdGEua2luZF9vZixcclxuICAgICAgICAgICAgICAgIHByaWNlOiBkYXRhLnByaWNlXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBPcmRlci5jcmVhdGVPcmRlcihvcmRlckRhdGEpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAucGF5bWVudCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBBZG1pbi5yZWFkSXRlbShpdGVtX2lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtpbmQgPSBkYXRhLmRhdGEucmVzdWx0LmtpbmQuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZGF0YS5kYXRhLnJlc3VsdC5wcmljZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByaWNlID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByaWNlW2ldID0gTnVtYmVyKHRlbXBbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGFwcC5pdGVtRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHByaWNlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpICsgMV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGtpbmRbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwcmljZVtpXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWFuYWdlbWVudENvbnRyb2xsZXJzJywgWydhZG1pblNlcnZpY2VzJywgJ21lbnVTZXJ2aWNlcycsICdvcmRlclNlcnZpY2VzJ10pXHJcblxyXG4uY29udHJvbGxlcigncmVhZEl0ZW1zQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIEFkbWluLnJlYWRJdGVtcygpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLml0ZW1zRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdGhpcy5kZWxldGVJdGVtID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIHZhciBpdGVtX2lkID0gZGF0YS5pdGVtX2lkO1xyXG4gICAgQWRtaW4uZGVsZXRlSXRlbShpdGVtX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVhZEl0ZW1DdHJsJywgZnVuY3Rpb24oQWRtaW4sICRzdGF0ZVBhcmFtcywgJHNjb3BlLCBPcmRlciwgJHdpbmRvdyl7XHJcblxyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgaXRlbV9pZCA9ICRzdGF0ZVBhcmFtcy5pdGVtX2lkO1xyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbiAgICAgYXBwLmFtb3VudCA9IDE7XHJcblxyXG4gICAgQWRtaW4ucmVhZEl0ZW0oaXRlbV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIHZhciBraW5kID0gZGF0YS5kYXRhLnJlc3VsdC5raW5kLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgdmFyIHRlbXAgPSBkYXRhLmRhdGEucmVzdWx0LnByaWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgdmFyIHByaWNlID0gW107XHJcbiAgICAgICAgZm9yKGk9MDtpPHRlbXAubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICBwcmljZVtpXSA9IE51bWJlcih0ZW1wW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwLml0ZW1EYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbiA9IHtcclxuICAgICAgICAgIGlkIDogcHJpY2VbMF1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmb3IoaT0wOyBpPHByaWNlLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgbmFtZToga2luZFtpXSxcclxuICAgICAgICAgICAgaWQ6IHByaWNlW2ldXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG4uY29udHJvbGxlcigndXBkYXRlSXRlbUN0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlUGFyYW1zLCAkc2NvcGUsICRodHRwLCAkdGltZW91dCwgICRzdGF0ZSwgJHdpbmRvdywgTWVudSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIGl0ZW1faWQgPSAkc3RhdGVQYXJhbXMuaXRlbV9pZDtcclxuXHJcbiAgICAgICAgIGFwcC5kYXRhID0ge1xyXG4gICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgXSxcclxuICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGFwcC5kYXRhMiA9IHtcclxuICAgICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICAgIHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgYXBwLmRhdGEuYXZhaWxhYmxlT3B0aW9uc1tpKzFdID0ge1xyXG4gICAgICAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgIGlkOiB0eXBlW2ldLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdGhpcy5yZWFkTWVudSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLnJlYWRNZW51U3RhdHVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuaWQgPT09IDApe1xyXG4gICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5X2lkID0gZGF0YS5pZDtcclxuICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvbWVudS8nK2NhdGVnb3J5X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgLy8g7LSI6riw7ZmUIOyLnO2CtFxyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRhdGEyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfrk7HroZ3rkJwg7IOB7ZKI7J20IOyXhuyKteuLiOuLpC4nKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAucmVhZE1lbnVTdGF0dXMgPSB0cnVlO1xyXG4gICAgLy8g7LSI6riw7ZmUIOyLnOy8nOyVvO2VmOuKlOuNsCDslrTrlrvqsowg7ZWg6rmM7JqUXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRhdGEyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmRhdGEyLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdHlwZVtpXS50eXBlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogdHlwZVtpXS5pdGVtX3R5cGVfaWRcclxuICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICBBZG1pbi5yZWFkSXRlbShpdGVtX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5pdGVtRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgIGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uID0ge1xyXG4gICAgICAgIGlkIDogYXBwLml0ZW1EYXRhLmNhdGVnb3J5X2lkXHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuXHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHRoaXMudXBkYXRlSXRlbSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihhcHAucmVhZE1lbnVTdGF0dXMpe1xyXG4gICAgICBpZihkYXRhLml0ZW1fdHlwZSA9PT0gMCB8fCBkYXRhLml0ZW1fdHlwZSA9PT0gJzAnKXtcclxuICAgICAgICAkd2luZG93LmFsZXJ0KCfsg4Htkogg67aE66WY66W8IOyEoO2Dne2VtOyjvOyEuOyalC4hJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgICB0eXBlOiBkYXRhLml0ZW1fdHlwZSxcclxuICAgICAgICAgIGl0ZW1fbmFtZTogZGF0YS5pdGVtX25hbWUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICAkaHR0cC5wdXQoJy9hcGkvaXRlbS8nK2l0ZW1faWQsIHVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHVwZGF0ZURhdGEyID0ge1xyXG4gICAgICAgICAgdHlwZTogYXBwLml0ZW1EYXRhLml0ZW1fdHlwZV9pZCxcclxuICAgICAgICAgIGl0ZW1fbmFtZTogZGF0YS5pdGVtX25hbWUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICAkaHR0cC5wdXQoJy9hcGkvaXRlbS8nK2l0ZW1faWQsIHVwZGF0ZURhdGEyKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuXHJcbn07XHJcblxyXG5cclxuICAvLyDtjIzsnbzsnZgg6rK966Gc66eMIOyggOyepe2VmOq4sCDrqZTsnbgg7J2066+47KeAIOunjOuTpOq4sFxyXG4gICAgICB0aGlzLmZpbGUgPSB7fTtcclxuICAvLyDrqZTsnbgg7J6R7ZKI7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbiAgICAgIHRoaXMubWFpblBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgLy8g66mU7J24IOyeke2SiCDsnbTrr7jsp4Ag7JeF66Gc65Oc7ZW07IScIOqyveuhnCDsoIDsnqVcclxuICAgICAgdGhpcy5yZWFkUGhvdG8gPSBmdW5jdGlvbigpe1xyXG4gIC8vIOuplOyduCDsnbTrr7jsp4Ag7JeF66Gc65OcIOyXrOu2gFxyXG4gICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgIGFwcC5tYWluUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAgICRodHRwLnBvc3QoJy9hcGkvY3JlYXRlUGhvdG9JbWFnZS8nLCBmZCx7XHJcbiAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGFwcC5tYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgaW1hZ2U6IGRhdGEuZGF0YS5pdGVtX3BhdGhcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJGh0dHAucHV0KCcvYXBpL2l0ZW0vJytpdGVtX2lkLCB1cGRhdGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgLy8g7J6R7ZKIIOyEpOuqhSDsnbTrr7jsp4Ag7JeF66Gc65OcIOuQmOyXiOuKlOyngCDrs7Tsl6zso7zquLBcclxuICAgICAgdGhpcy5leHBsYWluUGhvdG9DaGFuZ2VkID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAvLyDsnpHtkogg7ISk66qFICDsnbTrr7jsp4Ag7JeF66Gc65Oc7ZW07IScIOqyveuhnCDsoIDsnqVcclxuICAgICAgdGhpcy5yZWFkUGhvdG9FeHBsYWluID0gZnVuY3Rpb24oKXtcclxuICAvLyDsnpHtkogg7ISk66qFICDsl4XroZzrk5wg7Jes67aAXHJcbiAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgYXBwLmV4cGxhaW5QaG90byA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9jcmVhdGVQaG90b0V4cGxhaW4vJywgZmQse1xyXG4gICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBhcHAuZXhwbGFpblBob3RvID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgICAgICAgIGV4cGxhaW46IGRhdGEuZGF0YS5pdGVtX3BhdGhcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJGh0dHAucHV0KCcvYXBpL2l0ZW0vJytpdGVtX2lkLCB1cGRhdGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAvLyDsjbjrhKTsnbwg7J2066+47KeAIOunjOuTpOq4sFxyXG4gICAgICAgIGFwcC5teUltYWdlPScnO1xyXG4gICAgICAgIGFwcC5teUNyb3BwZWRJbWFnZT0nJztcclxuXHJcbiAgICAgICAgdmFyIGhhbmRsZUZpbGVTZWxlY3Q9ZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgIHZhciBmaWxlPWV2dC5jdXJyZW50VGFyZ2V0LmZpbGVzWzBdO1xyXG4gICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCRzY29wZSl7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICBhcHAubXlJbWFnZT1ldnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZUlucHV0JykpLm9uKCdjaGFuZ2UnLGhhbmRsZUZpbGVTZWxlY3QpO1xyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIGRlY29kZUJhc2U2NEltYWdlKGRhdGFTdHJpbmcpIHtcclxuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBkYXRhU3RyaW5nLm1hdGNoKC9eZGF0YTooW0EtWmEtei0rXFwvXSspO2Jhc2U2NCwoLispJC8pO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoICE9PSAzKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCBpbnB1dCBzdHJpbmcnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB2YXIgZmlsZSA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGUgOiBtYXRjaGVzWzFdLFxyXG4gICAgICAgICAgICAgICAgZGF0YSA6IG1hdGNoZXNbMl1cclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIHJldHVybiBmaWxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gIC8vIOyNuOuEpOydvCDsnbTrr7jsp4Ag66Gc7Lus65SU7Iqk7YGs7JeQIOyggOyepSDtm4Qg7KCA7J6lIOychOy5mCDqsIDsoLjsmKTquLBcclxuICAgICAgICAgIHRoaXMucmVhZENyb3BJbWFnZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgICAgYXBwLnRodW1ibmFpbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZihkYXRhLmJhc2U2NFVybCA9PT0gJycgfHwgZGF0YS5iYXNlNjRVcmwgPT09IG51bGwgfHwgZGF0YS5iYXNlNjRVcmwgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBibG9iID0gZGVjb2RlQmFzZTY0SW1hZ2UoJHNjb3BlLm15Q3JvcHBlZEltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgQWRtaW4ucmVhZEFyaXN0Q3JvcChibG9iKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC50aHVtYm5haWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsOiBkYXRhLmRhdGEuZmlsZVBhdGhcclxuICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5wdXQoJy9hcGkvaXRlbS8nK2l0ZW1faWQsIHVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG5cclxufSlcclxuXHJcblxyXG5cclxuLmNvbnRyb2xsZXIoJ2NyZWF0ZUl0ZW1DdHJsJywgZnVuY3Rpb24gKCRodHRwLCAkdGltZW91dCwgJHNjb3BlLCBBZG1pbiwgJHN0YXRlLCAkd2luZG93LCBNZW51KSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuXHJcblxyXG4gICAgICBhcHAua2luZExpc3QgPSBbXTtcclxuICAgICAgYXBwLnR5cGVfdGlueSA9IFtdO1xyXG4gICAgICBhcHAudHlwZV9wcmljZSA9IFtdO1xyXG5cclxuICAgICAgdGhpcy5hZGRMaW5lID0gZnVuY3Rpb24oa2luZERhdGEpe1xyXG4gICAgICAgIGlmKCFraW5kRGF0YSl7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsoJXtmZXtlZwg6rCS7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYoa2luZERhdGEua2luZFZhbHVlID09PSBudWxsIHx8IGtpbmREYXRhLmtpbmRWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGtpbmREYXRhLmtpbmRWYWx1ZSA9PT0gJycpXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+yYteyFmOuqheydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYoa2luZERhdGEua2luZFByaWNlID09PSBudWxsIHx8IGtpbmREYXRhLmtpbmRQcmljZSA9PT0gdW5kZWZpbmVkIHx8IGtpbmREYXRhLmtpbmRQcmljZSA9PT0gJycpe1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsmLXshZgg6rCA6rKp7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5raW5kTGlzdC5wdXNoKFxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGtpbmQ6IGtpbmREYXRhLmtpbmRWYWx1ZSxcclxuICAgICAgICAgICAgICAgIHByaWNlOiBraW5kRGF0YS5raW5kUHJpY2VcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGFwcC50eXBlX3RpbnkucHVzaChraW5kRGF0YS5raW5kVmFsdWUpO1xyXG4gICAgICAgICAgICBhcHAudHlwZV9wcmljZS5wdXNoKGtpbmREYXRhLmtpbmRQcmljZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgIF0sXHJcbiAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGFwcC5kYXRhMiA9IHtcclxuICAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICAgXSxcclxuICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBNZW51LnJlYWRNYWluTWVudSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgICAgbmFtZTogdHlwZVtpXS5uYW1lLFxyXG4gICAgICAgICAgICAgIGlkOiB0eXBlW2ldLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLnJlYWRNZW51ID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5pZCA9PT0gMCl7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgY2F0ZWdvcnlfaWQgPSBkYXRhLmlkO1xyXG4gICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL21lbnUvJytjYXRlZ29yeV9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4vLyDstIjquLDtmZQg7Iuc7YK0XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnJlc3VsdC5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICAgICAgYXBwLmRhdGEyID0ge1xyXG4gICAgICAgICAgICAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn65Ox66Gd65CcIOyDge2SiOydtCDsl4bsirXri4jri6QuJyk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuLy8g7LSI6riw7ZmUIOyLnOy8nOyVvO2VmOuKlOuNsCDslrTrlrvqsowg7ZWg6rmM7JqUXHJcbiAgICAgICAgICAgICAgICBhcHAuZGF0YTIgPSB7XHJcbiAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5kYXRhMi5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdHlwZVtpXS50eXBlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiB0eXBlW2ldLml0ZW1fdHlwZV9pZFxyXG4gICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG5cclxuLy8g7YyM7J287J2YIOqyveuhnOunjCDsoIDsnqXtlZjquLAg66mU7J24IOydtOuvuOyngCDrp4zrk6TquLBcclxuICAgIHRoaXMuZmlsZSA9IHt9O1xyXG4vLyDrqZTsnbgg7J6R7ZKI7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbiAgICB0aGlzLm1haW5QaG90b0NoYW5nZWQgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcblxyXG4vLyDrqZTsnbgg7J6R7ZKIIOydtOuvuOyngCDsl4XroZzrk5ztlbTshJwg6rK966GcIOyggOyepVxyXG4gICAgdGhpcy5yZWFkUGhvdG8gPSBmdW5jdGlvbigpe1xyXG4vLyDrqZTsnbgg7J2066+47KeAIOyXheuhnOuTnCDsl6zrtoBcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIGFwcC5tYWluUGhvdG8gPSBmYWxzZTtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2NyZWF0ZVBob3RvSW1hZ2UvJywgZmQse1xyXG4gICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcbiAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgYXBwLm1haW5QaG90byA9IHRydWU7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5tYWluSW1hZ2VQYXRoID0gZGF0YS5kYXRhLml0ZW1fcGF0aDtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4vLyDsnpHtkogg7ISk66qFIOydtOuvuOyngCDsl4XroZzrk5wg65CY7JeI64qU7KeAIOuztOyXrOyjvOq4sFxyXG4gICAgdGhpcy5leHBsYWluUGhvdG9DaGFuZ2VkID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZXNbMF0ubmFtZS5tYXRjaCgvXFwuKHBuZ3xqcGVnfGpwZykkLykpIHtcclxuICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZXhwbGFpblRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG5cclxuLy8g7J6R7ZKIIOyEpOuqhSAg7J2066+47KeAIOyXheuhnOuTnO2VtOyEnCDqsr3roZwg7KCA7J6lXHJcbiAgICB0aGlzLnJlYWRQaG90b0V4cGxhaW4gPSBmdW5jdGlvbigpe1xyXG4vLyDsnpHtkogg7ISk66qFICDsl4XroZzrk5wg7Jes67aAXHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICBhcHAuZXhwbGFpblBob3RvID0gZmFsc2U7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICBmZC5hcHBlbmQoJ215ZmlsZScsIGFwcC5maWxlLnVwbG9hZCk7XHJcbiAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9jcmVhdGVQaG90b0V4cGxhaW4vJywgZmQse1xyXG4gICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcbiAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgYXBwLmV4cGxhaW5QaG90byA9IHRydWU7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5leHBsYWluSW1hZ2VQYXRoID0gZGF0YS5kYXRhLml0ZW1fcGF0aDtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG5cclxuLy8g7I2464Sk7J28IOydtOuvuOyngCDrp4zrk6TquLBcclxuICAgICAgYXBwLm15SW1hZ2U9Jyc7XHJcbiAgICAgIGFwcC5teUNyb3BwZWRJbWFnZT0nJztcclxuXHJcbiAgICAgIHZhciBoYW5kbGVGaWxlU2VsZWN0PWZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgIHZhciBmaWxlPWV2dC5jdXJyZW50VGFyZ2V0LmZpbGVzWzBdO1xyXG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCRzY29wZSl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5teUltYWdlPWV2dC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgfTtcclxuICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVJbnB1dCcpKS5vbignY2hhbmdlJyxoYW5kbGVGaWxlU2VsZWN0KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGVjb2RlQmFzZTY0SW1hZ2UoZGF0YVN0cmluZykge1xyXG4gICAgICAgICAgdmFyIG1hdGNoZXMgPSBkYXRhU3RyaW5nLm1hdGNoKC9eZGF0YTooW0EtWmEtei0rXFwvXSspO2Jhc2U2NCwoLispJC8pO1xyXG5cclxuICAgICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCAhPT0gMykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0IHN0cmluZycpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGZpbGUgPSB7XHJcbiAgICAgICAgICAgICAgdHlwZSA6IG1hdGNoZXNbMV0sXHJcbiAgICAgICAgICAgICAgZGF0YSA6IG1hdGNoZXNbMl1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIGZpbGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuLy8g7I2464Sk7J28IOydtOuvuOyngCDroZzsu6zrlJTsiqTtgazsl5Ag7KCA7J6lIO2bhCDsoIDsnqUg7JyE7LmYIOqwgOyguOyYpOq4sFxyXG4gICAgICAgIHRoaXMucmVhZENyb3BJbWFnZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICBhcHAudGh1bWJuYWlsID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgaWYoZGF0YS5iYXNlNjRVcmwgPT09ICcnIHx8IGRhdGEuYmFzZTY0VXJsID09PSBudWxsIHx8IGRhdGEuYmFzZTY0VXJsID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJsb2IgPSBkZWNvZGVCYXNlNjRJbWFnZSgkc2NvcGUubXlDcm9wcGVkSW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgQWRtaW4ucmVhZEFyaXN0Q3JvcChibG9iKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsUGF0aCA9IGRhdGEuZGF0YS5maWxlUGF0aDtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuXHJcblxyXG4vLyDsnpHqsIAg7J6R7ZKIIOyXheuhnOuTnFxyXG4gICAgICB0aGlzLmNyZWF0ZVBob3RvID0gZnVuY3Rpb24odXBsb2FkRGF0YSl7XHJcbiAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgaWYodXBsb2FkRGF0YSA9PT0gdW5kZWZpbmVkIHx8IHVwbG9hZERhdGEgPT09IG51bGwgfHwgdXBsb2FkRGF0YSA9PT0gJycpe1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydCgn67mI7Lm47J2EIOuqqOuRkCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYoYXBwLmRhdGEyLnNlbGVjdGVkT3B0aW9uLmlkID09PSAnMCcpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7IOB7ZKIIOu2hOulmOydhCDshKDtg53tlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYodXBsb2FkRGF0YS50aXRsZSA9PT0gdW5kZWZpbmVkIHx8IHVwbG9hZERhdGEudGl0bGUgPT09ICBudWxsIHx8IHVwbG9hZERhdGEudGl0bGU9PT0gJycpe1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7IOB7ZKIIOygnOuqqeulvCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyAgIGVsc2UgaWYoYXBwLm1haW5JbWFnZVBhdGggPT09IHVuZGVmaW5lZCB8fCBhcHAubWFpbkltYWdlUGF0aCA9PT0gIG51bGwgfHwgYXBwLm1haW5JbWFnZVBhdGggPT09ICcnKXtcclxuICAgICAgICAgIC8vICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgIC8vICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAvLyAgICR3aW5kb3cuYWxlcnQoJ+yDge2SiCDsnbTrr7jsp4Drpbwg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgLy8gZWxzZSBpZihhcHAuZXhwbGFpbkltYWdlUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC5leHBsYWluSW1hZ2VQYXRoID09PSBudWxsIHx8IGFwcC5leHBsYWluSW1hZ2VQYXRoID09PSAnJykge1xyXG4gICAgICAgICAgLy8gICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgLy8gICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIC8vICAgJHdpbmRvdy5hbGVydCgn7IOB7ZKIIOyEpOuqhSDsnbTrr7jsp4Drpbwg7JeF66Gc65Oc7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgLy8gfSBlbHNlIGlmKGFwcC50aHVtYm5haWxQYXRoID09PSB1bmRlZmluZWQgfHwgYXBwLnRodW1ibmFpbFBhdGggPT09IG51bGwgfHwgYXBwLnRodW1ibmFpbFBhdGggPT09ICcnKSB7XHJcbiAgICAgICAgICAvLyAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAvLyAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgLy8gICAkd2luZG93LmFsZXJ0KCfsjbjrhKTsnbwg7J2066+47KeA66W8IOyXheuhnOuTnO2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIC8vIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC51cGxvYWREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IHVwbG9hZERhdGEudGl0bGUsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBhcHAuZGF0YTIuc2VsZWN0ZWRPcHRpb24uaWQsXHJcbiAgICAgICAgICAgICAgICAvLyB0aHVtYm5haWw6IGFwcC50aHVtYm5haWxQYXRoLFxyXG4gICAgICAgICAgICAgICAgLy8gZXhwbGFpbjogYXBwLmV4cGxhaW5JbWFnZVBhdGgsXHJcbiAgICAgICAgICAgICAgICAvLyBpbWFnZTogYXBwLm1haW5JbWFnZVBhdGgsXHJcbiAgICAgICAgICAgICAgICBraW5kOiBhcHAudHlwZV90aW55LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICBwcmljZTogYXBwLnR5cGVfcHJpY2UudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgQWRtaW4uY3JlYXRlSXRlbShhcHAudXBsb2FkRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtZW51Q29udHJvbGxlcnMnLFsnbWVudVNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdtYWluTWVudUN0cmwnLCBmdW5jdGlvbiAoTWVudSwgJHN0YXRlKSB7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gIHRoaXMuY3JlYXRlTWVudSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhID09PSB1bmRlZmluZWQpe1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBtZW51RGF0YSA9IHtcclxuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZVxyXG4gICAgICB9O1xyXG4gICAgICBNZW51LmNyZWF0ZU1lbnUobWVudURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICB2YXIgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgY2F0ZWdvcnlfaWQ6IGRhdGEuY2F0ZWdvcnlfaWQsXHJcbiAgICAgIG5hbWU6IGRhdGEubmFtZVxyXG4gICAgfTtcclxuICAgICAgTWVudS51cGRhdGVNZW51KHVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9O1xyXG5cclxuICB0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICB2YXIgZGVsZXRlRGF0YSA9IGRhdGEuY2F0ZWdvcnlfaWQ7XHJcbiAgICBNZW51LmRlbGV0ZU1lbnUoZGVsZXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdzdWJNZW51Q3RybCcsIGZ1bmN0aW9uIChNZW51LCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJGh0dHApIHtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgY2F0ZWdvcnlfaWQgPSAkc3RhdGVQYXJhbXMuY2F0ZWdvcnlfaWQ7XHJcblxyXG4gICRodHRwLmdldCgnL2FwaS9jYXRlZ29yeS8nK2NhdGVnb3J5X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAuc3ViTWVudURhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3R5cGVDb250cm9sbGVycycsIFsnYWRtaW5TZXJ2aWNlcycsICdtZW51U2VydmljZXMnLCAnb3JkZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcigndXBkYXRlSXRlbVR5cGVDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBNZW51LCBBZG1pbiwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgaXRlbV9pZCA9ICRzdGF0ZVBhcmFtcy5pdGVtX2lkO1xyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG5cclxuXHJcbiAgIEFkbWluLnJlYWRVcGRhdGVJdGVtVHlwZShpdGVtX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICBNZW51LnJlYWRNYWluTWVudSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgbmFtZTogdHlwZVtpXS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgIGlkOiB0eXBlW2ldLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgIGFwcC51cGRhdGFEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbiA9IHtcclxuICAgICAgICAgICAgIGlkIDogYXBwLnVwZGF0YURhdGEuY2F0ZWdvcnlfaWRcclxuICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICB2YXIgc3BsaXRPcHRpb25EYXRhcyA9IHtcclxuICAgICAgICAgICAgICAgICAgIGtpbmQ6IGFwcC51cGRhdGFEYXRhLmtpbmQuc3BsaXQoJywnKSxcclxuICAgICAgICAgICAgICAgICAgIHByaWNlOiBhcHAudXBkYXRhRGF0YS5wcmljZS5zcGxpdCgnLCcpXHJcbiAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgIGFwcC5vcHRpb25EYXRhcyA9IFtdO1xyXG5cclxuICAgICAgICAgICBmb3IoaT0wOyBpIDwgc3BsaXRPcHRpb25EYXRhcy5raW5kLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgIGFwcC5vcHRpb25EYXRhc1tpXSA9IHtcclxuICAgICAgICAgICAgICAga2luZDogc3BsaXRPcHRpb25EYXRhcy5raW5kW2ldLFxyXG4gICAgICAgICAgICAgICBwcmljZTogIHNwbGl0T3B0aW9uRGF0YXMucHJpY2VbaV0sXHJcbiAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgIH1cclxuXHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuXHJcbiAgICAgICB9XHJcbiAgIH0pO1xyXG5cclxuICAgdGhpcy51cGRhdGVUeXBlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgYXBwLnVwZGF0ZURhdGEgPSBkYXRhO1xyXG4gICAgIGFwcC51cGRhdGVEYXRhLmNhdGVnb3J5X2lkID0gYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQ7XHJcbiAgICAgQWRtaW4udXBkYXRlVXBkYXRlVHlwZShhcHAudXBkYXRlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgIH1cclxuICAgICB9KTtcclxuICAgfTtcclxuXHJcbiAgIHRoaXMudXBkYXRlaXRlbVR5cGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICB2YXIga2luZEFycmF5ID0gW107XHJcbiAgICAgdmFyIHByaWNlQXJyYXkgPSBbXTtcclxuICAgICBmb3IoaT0wO2k8YXBwLm9wdGlvbkRhdGFzLmxlbmd0aDtpKyspe1xyXG4gICAgICAga2luZEFycmF5LnB1c2goYXBwLm9wdGlvbkRhdGFzW2ldLmtpbmQpO1xyXG4gICAgICAgcHJpY2VBcnJheS5wdXNoKGFwcC5vcHRpb25EYXRhc1tpXS5wcmljZSk7XHJcbiAgICAgfVxyXG4gICAgIHZhciB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgaXRlbV9pZDogZGF0YS5pdGVtX2lkLFxyXG4gICAgICAgaXRlbV9uYW1lOiBkYXRhLml0ZW1fbmFtZSxcclxuICAgICAgIHByaWNlOiBwcmljZUFycmF5LnRvU3RyaW5nKCksXHJcbiAgICAgICBraW5kOiBraW5kQXJyYXkudG9TdHJpbmcoKVxyXG4gICAgIH07XHJcblxyXG4gICAgIEFkbWluLnVwZGF0ZUl0ZW1UeXBlKHVwZGF0ZURhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcblxyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG4gICB9O1xyXG5cclxuXHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3JlYWRJdGVtVHlwZUN0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlLCAkd2luZG93LCBNZW51KXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICAgIGFwcC5kYXRhID0ge1xyXG4gICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG5cclxuXHJcbiAgICAgdGhpcy5jb3B5SXRlbVR5cGUgPSBmdW5jdGlvbihkYXRhKXtcclxuXHJcbiAgICAgICB2YXIgaXRlbURhdGEgPSB7XHJcbiAgICAgICAgIHR5cGU6IGRhdGEuaXRlbV90eXBlX2lkLFxyXG4gICAgICAgICB0aXRsZTogZGF0YS5pdGVtX25hbWUsXHJcbiAgICAgICAgIGtpbmQ6IGRhdGEua2luZC50b1N0cmluZygpLFxyXG4gICAgICAgICBwcmljZTogZGF0YS5wcmljZS50b1N0cmluZygpXHJcblxyXG4gICAgICAgfTtcclxuXHJcblxyXG5cclxuICAgICBBZG1pbi5jcmVhdGVJdGVtKGl0ZW1EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG4gICB9O1xyXG5cclxuICAgdGhpcy5kZWxldGVUeXBlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgdmFyIGl0ZW1faWQgPSBkYXRhLml0ZW1faWQ7XHJcbiAgICAgQWRtaW4uZGVsZXRlSXRlbShpdGVtX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgIH1cclxuICAgICB9KTtcclxuICAgfTtcclxuXHJcbi8vIOyDge2SiCDrtoTrpZjtkZxcclxuICBBZG1pbi5yZWFkSXRlbVR5cGUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBNZW51LnJlYWRNYWluTWVudSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgICAgbmFtZTogdHlwZVtpXS5uYW1lLFxyXG4gICAgICAgICAgICAgIGlkOiB0eXBlW2ldLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGFwcC50eXBlRGF0YXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICB2YXIga2luZERhdGFzID0gW107XHJcblxyXG4gICAgICBmb3IodmFyIGk9MDsgaTxkYXRhLmRhdGEucmVzdWx0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgIGtpbmREYXRhc1tpXSA9IHtcclxuICAgICAgICAgICAgICBraW5kOiBhcHAudHlwZURhdGFzW2ldLmtpbmQuc3BsaXQoJywnKSxcclxuICAgICAgICAgICAgICBwcmljZTogYXBwLnR5cGVEYXRhc1tpXS5wcmljZS5zcGxpdCgnLCcpXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgYXBwLnR5cGVEYXRhc1tpXS5raW5kID0ga2luZERhdGFzW2ldLmtpbmQ7XHJcbiAgICAgICAgICBhcHAudHlwZURhdGFzW2ldLnByaWNlID0ga2luZERhdGFzW2ldLnByaWNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG5cclxuLy8g7IOB7ZKIIOu2hOulmO2RnFxyXG4uY29udHJvbGxlcigndXBkYXRlVHlwZUN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIE1lbnUsIEFkbWluLCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBpdGVtX3R5cGUgPSAkc3RhdGVQYXJhbXMuaXRlbV90eXBlO1xyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICBBZG1pbi5yZWFkVXBkYXRlVHlwZShpdGVtX3R5cGUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgaWQ6IHR5cGVbaV0uY2F0ZWdvcnlfaWRcclxuICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICB9KTtcclxuICAgICAgICAgICBhcHAudXBkYXRhRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24gPSB7XHJcbiAgICAgICAgICAgICBpZCA6IGFwcC51cGRhdGFEYXRhLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgfTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG5cclxuICAgICAgIH1cclxuICAgfSk7XHJcblxyXG4gICB0aGlzLnVwZGF0ZVR5cGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICBhcHAudXBkYXRlRGF0YSA9IGRhdGE7XHJcbiAgICAgYXBwLnVwZGF0ZURhdGEuY2F0ZWdvcnlfaWQgPSBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZDtcclxuICAgICBBZG1pbi51cGRhdGVVcGRhdGVUeXBlKGFwcC51cGRhdGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG4gICB9O1xyXG59KVxyXG5cclxuLy8g7IOB7ZKIIOu2hOulmO2RnFxyXG4uY29udHJvbGxlcigncmVhZFR5cGVDdHJsJywgZnVuY3Rpb24oQWRtaW4sICRzdGF0ZSwgJHdpbmRvdywgTWVudSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbiAgICB0aGlzLmNvcHlUeXBlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIHZhciB0eXBlRGF0YSA9IHtcclxuICAgICAgICBjYXRlZ29yeTogZGF0YS5jYXRlZ29yeV9pZCxcclxuICAgICAgICB0eXBlX2Rlc2NyaXB0aW9uOiBkYXRhLnR5cGVfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgdHlwZV9jb2RlOiBkYXRhLnR5cGVfY29kZVxyXG4gICAgICB9O1xyXG4gICAgICBBZG1pbi5jcmVhdGVUeXBlKHR5cGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgdGhpcy5kZWxldGVUeXBlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgdmFyIGl0ZW1fdHlwZV9pZCA9IGRhdGEuaXRlbV90eXBlO1xyXG4gICAgIEFkbWluLmRlbGV0ZVR5cGUoaXRlbV90eXBlX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgIH1cclxuICAgICB9KTtcclxuICAgfTtcclxuXHJcbi8vIOyDge2SiCDrtoTrpZjtkZxcclxuICBBZG1pbi5yZWFkVHlwZSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIE1lbnUucmVhZE1haW5NZW51KCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICBmb3IoaT0wOyBpPHR5cGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLm5hbWUsXHJcbiAgICAgICAgICAgICAgaWQ6IHR5cGVbaV0uY2F0ZWdvcnlfaWRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgYXBwLnR5cGVEYXRhcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4vLyDsg4Htkogg67aE66WY7ZGcXHJcbi5jb250cm9sbGVyKCdjcmVhdGVUeXBlQ3RybCcsIGZ1bmN0aW9uKEFkbWluLCAkc3RhdGUsIE1lbnUsICR3aW5kb3cpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICBNZW51LnJlYWRNYWluTWVudSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgbmFtZTogdHlwZVtpXS5uYW1lLFxyXG4gICAgICAgICAgIGlkOiB0eXBlW2ldLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgIH07XHJcbiAgICAgICB9XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgIH1cclxuICAgfSk7XHJcblxyXG5cclxuICB0aGlzLmNyZWF0ZVR5cGUgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLnR5cGVEYXRhID0ge1xyXG4gICAgICBjYXRlZ29yeTogYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQsXHJcbiAgICAgIHR5cGVfZGVzY3JpcHRpb246IGRhdGEudHlwZV9kZXNjcmlwdGlvbixcclxuICAgICAgdHlwZV9jb2RlOiBkYXRhLnR5cGVfY29kZVxyXG4gICAgfTtcclxuXHJcbiAgICBBZG1pbi5jcmVhdGVUeXBlKGFwcC50eXBlRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5zdWNjZXNzID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLmtpbmRMaXN0ID0gW107XHJcbiAgYXBwLnR5cGVfdGlueSA9IFtdO1xyXG4gIGFwcC50eXBlX3ByaWNlID0gW107XHJcblxyXG4gIHRoaXMuYWRkTGluZSA9IGZ1bmN0aW9uKGtpbmREYXRhKXtcclxuICAgIGlmKCFraW5kRGF0YSl7XHJcbiAgICAgICR3aW5kb3cuYWxlcnQoJ+ygle2Zle2VnCDqsJLsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYoa2luZERhdGEua2luZFZhbHVlID09PSBudWxsIHx8IGtpbmREYXRhLmtpbmRWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGtpbmREYXRhLmtpbmRWYWx1ZSA9PT0gJycpXHJcbiAgICAgIHtcclxuICAgICAgICAkd2luZG93LmFsZXJ0KCfsmLXshZjrqoXsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICB9IGVsc2UgaWYoa2luZERhdGEua2luZFByaWNlID09PSBudWxsIHx8IGtpbmREYXRhLmtpbmRQcmljZSA9PT0gdW5kZWZpbmVkIHx8IGtpbmREYXRhLmtpbmRQcmljZSA9PT0gJycpe1xyXG4gICAgICAgICR3aW5kb3cuYWxlcnQoJ+yYteyFmCDqsIDqsqnsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5raW5kTGlzdC5wdXNoKFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBraW5kOiBraW5kRGF0YS5raW5kVmFsdWUsXHJcbiAgICAgICAgICAgIHByaWNlOiBraW5kRGF0YS5raW5kUHJpY2VcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICAgIGFwcC50eXBlX3RpbnkucHVzaChraW5kRGF0YS5raW5kVmFsdWUpO1xyXG4gICAgICAgIGFwcC50eXBlX3ByaWNlLnB1c2goa2luZERhdGEua2luZFByaWNlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ21haW5Db250cm9sbGVycycsIFsnYXV0aFNlcnZpY2VzJywgJ3VzZXJTZXJ2aWNlcyddKVxyXG4gICAgLmNvbnRyb2xsZXIoJ21haW5DdHJsJywgZnVuY3Rpb24gKEF1dGgsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzdGF0ZSwgJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93LCAkaW50ZXJ2YWwsIFVzZXIsIEF1dGhUb2tlbikge1xyXG4gICAgICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuXHJcbiAgICAgICAgLy8gSW50ZXJuZXQgRXhwbG9yZXIg67KE7KCEIOyytO2BrFxyXG4gICAgICAgIHZhciBJRVZlcnNpb25DaGVjayA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB3b3JkO1xyXG4gICAgICAgICAgICB2YXIgdmVyc2lvbiA9IFwiTi9BXCI7XHJcblxyXG4gICAgICAgICAgICB2YXIgYWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gbmF2aWdhdG9yLmFwcE5hbWU7XHJcblxyXG4gICAgICAgICAgICAvLyBJRSBvbGQgdmVyc2lvbiAoIElFIDEwIG9yIExvd2VyIClcclxuICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIikgd29yZCA9IFwibXNpZSBcIjtcclxuXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gSUUgMTFcclxuICAgICAgICAgICAgICAgIGlmIChhZ2VudC5zZWFyY2goXCJ0cmlkZW50XCIpID4gLTEpIHdvcmQgPSBcInRyaWRlbnQvLipydjpcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJRSAxMiAgKCBNaWNyb3NvZnQgRWRnZSApXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhZ2VudC5zZWFyY2goXCJlZGdlL1wiKSA+IC0xKSB3b3JkID0gXCJlZGdlL1wiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCh3b3JkICsgXCIoWzAtOV17MSx9KShcXFxcLnswLH1bMC05XXswLDF9KVwiKTtcclxuICAgICAgICAgICAgaWYgKHJlZy5leGVjKGFnZW50KSAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdmVyc2lvbiA9IFJlZ0V4cC4kMSArIFJlZ0V4cC4kMjtcclxuICAgICAgICAgICAgLy9yZXR1cm4gdmVyc2lvbjtcclxuXHJcbiAgICAgICAgICAgIGlmICh2ZXJzaW9uIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb25maXJtKFwi7J247YSw64S3IOydteyKpO2UjOuhnOufrCA5IOuyhOyghCDsnbTsg4Eg65iQ64qUIO2BrOuhrCDruIzrnbzsmrDsoIDsl5Ag7LWc7KCB7ZmU65CY7Ja0IOyeiOyKteuLiOuLpC4gXFxu64uk7Jq066Gc65Oc7ZuEIOyCrOyaqe2VmOyLnOqyoOyKteuLiOq5jD9cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gXCJodHRwczovL3d3dy5nb29nbGUuY28ua3IvY2hyb21lL2Jyb3dzZXIvZGVza3RvcC9pbmRleC5odG1sXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIElFVmVyc2lvbkNoZWNrKCk7XHJcblxyXG4gICAgICAgIGFwcC5sb2FkbWUgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUuJG9uKCdMT0FEJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUubG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRzY29wZS4kb24oJ1VOTE9BRCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWNoZWNrU2Vzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgQXV0aC5nZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAudXNlciA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVzZXIuZ2V0UGVybWlzc2lvbigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucGVybWlzc2lvbiA9PT0gJ2FkbWluJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHAuYXV0aG9yaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5kYXRhLnBlcm1pc3Npb24gPT09ICdhcnRpc3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAudXNlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGNoZWNrU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKEF1dGguaXNMb2dnZWRJbigpKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuY2hlY2tTZXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9ICRpbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYXJzZUp3dCA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2U2NFVybCA9IHRva2VuLnNwbGl0KCcuJylbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoJy0nLCAnKycpLnJlcGxhY2UoJ18nLCAnLycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoJHdpbmRvdy5hdG9iKGJhc2U2NCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwaXJlVGltZSA9IHNlbGYucGFyc2VKd3QodG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZVN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lQ2hlY2sgPSBleHBpcmVUaW1lLmV4cCAtIHRpbWVTdGFtcDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lQ2hlY2sgPD0gNSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd01vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcblxyXG5cclxuICAgICAgICBhcHAucmVuZXdTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgICAgICAgIFVzZXIucmVuZXdTZXNzaW9uKGFwcC51c2VyLnVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGVja1Nlc3Npb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLk1vZGFsQm9keSA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhcHAuZW5kU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2hvd01vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgdmFyIHNob3dNb2RhbCA9IGZ1bmN0aW9uIChvcHRpb24pIHtcclxuICAgICAgICAgICAgYXBwLmNob2ljZU1hZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLm1vZGFsSGVhZGVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBhcHAubW9kYWxCb2R5ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBhcHAuaGlkZUJ1dHRvbiA9IGZhbHNlO1xyXG4vLyBjaGVjayB0b2tlbiBleHBpcmVkXHJcbiAgICAgICAgICAgIGlmIChvcHRpb24gPT09ICdleHBpcmVkJykge1xyXG4gICAgICAgICAgICAgICAgYXBwLm1vZGFsSGVhZGVyID0gJ1RpbWVvdXQgV2FybmluZyc7XHJcbiAgICAgICAgICAgICAgICBhcHAubW9kYWxCb2R5ID0gJ1lvdXIgc2Vzc2lvbiB3aWxsIGV4cGlyZWQgaW4gNSBtaW51dGVzLiBXb3VsZCB5b3UgbGlrZSB0byByZW5ldyB5b3VyIHNlc3Npb24/JztcclxuICAgICAgICAgICAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCh7YmFja2Ryb3A6IFwic3RhdGljXCJ9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb24gPT09ICdsb2dvdXQnKSB7XHJcbi8vIGxvZ291dFxyXG4gICAgICAgICAgICAgICAgYXBwLmhpZGVCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYXBwLm1vZGFsSGVhZGVyID0gJ+uhnOq3uOyVhOybgyc7XHJcbiAgICAgICAgICAgICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoe2JhY2tkcm9wOiBcInN0YXRpY1wifSk7XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ291dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gJ2xvZ2luJykge1xyXG4vLyBMb2dpblxyXG4gICAgICAgICAgICAgICAgJChcIiNsb2dpblwiKS5tb2RhbCh7YmFja2Ryb3A6IFwic3RhdGljXCJ9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFwcC5jaG9pY2VNYWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZU1vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBoaWRlTW9kYWwgPSBmdW5jdGlvbiAob3B0aW9uKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9uID09PSAnZXhwaXJlZCcpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gJ2xvZ291dCcpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gJ2xvZ2luJykge1xyXG4gICAgICAgICAgICAgICAgJChcIiNsb2dpblwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4vLyDroZzqt7jsnbhcclxuICAgICAgICB0aGlzLmRvTG9naW4gPSBmdW5jdGlvbiAobG9naW5EYXRhLCB2YWxpZCkge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgQXV0aC5sb2dpbihhcHAubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5sb2dpbkRhdGEgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLmV4cGlyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5leHBpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGJvb3RzdHJhcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgYXBwLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2hvd01vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhcHAucmVzZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVzZW5kJyk7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXhwaXJlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFwcC5yZXNldHVzZXJuYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVzZXR1c2VybmFtZScpO1xyXG4gICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFwcC5yZXNldHBhc3N3b3JkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVzZXRwYXNzd29yZCcpO1xyXG4gICAgICAgICAgICB9LCA1MDApO1xyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgIH0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnb3JkZXJDb250cm9sbGVycycsIFsnb3JkZXJTZXJ2aWNlcyddKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3JlYWRPcmRlckN0cmwnLCBmdW5jdGlvbiAoJHN0YXRlUGFyYW1zLCAkc3RhdGUsICR3aW5kb3csIE9yZGVyLCAkc2NvcGUpIHtcclxuICAgICAgICB2YXIgYXBwID0gdGhpcztcclxuICAgICAgICB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuXHJcbiAgICAgICAgYXBwLmdldEl0ZW1GYWlsID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGFwcC5jYXNoUmVjZWlwdCA9IHRydWU7XHJcbiAgICAgICAgaWYgKGFwcC5jYXNoUmVjZWlwdCkge1xyXG4gICAgICAgICAgICBhcHAuZ2V0Q2FzaFJlY2VpcHQgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5nZXRDYXNoUmVjZWlwdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMucmVhZEFkZHJlc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vbG9hZO2VqOyImOulvCDsnbTsmqntlZjsl6wgY29yZeyKpO2BrOumve2KuOydmCDroZzrlKnsnbQg7JmE66OM65CcIO2bhCwg7Jqw7Y6467KI7Zi4IOyEnOu5hOyKpOulvCDsi6Ttlontlanri4jri6QuXHJcbiAgICAgICAgICAgIGRhdW0ucG9zdGNvZGUubG9hZChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuYWRkcmVzc0RldGFpbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgbmV3IGRhdW0uUG9zdGNvZGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5kZWxpRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ3VuZ3VfY29kZTogZGF0YS5zaWd1bmd1Q29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGppYnVuX2FkZHJlc3M6IGRhdGEuamlidW5BZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9hZF9hZGRyZXNzOiBkYXRhLnJvYWRBZGRyZXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkub3BlbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgT3JkZXIucmVhZE9yZGVyQW5kRGVsaSgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4vLyDrk7HroZ3rkJwg67Cw7Iah7KeAIOygleuztOqwgCDsl4bsnYQg65WMXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnJlc3VsdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGVsaXZlcnkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBPcmRlci5yZWFkT3JkZXIodXNlcl9pZCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbVByaWNlID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5hbGxJdGVtUHJpY2UgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAub3JkZXJEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFwcC5vcmRlckRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1QcmljZVtpXSA9IGFwcC5vcmRlckRhdGFbaV0ucHJpY2UgKiBhcHAub3JkZXJEYXRhW2ldLmFtb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbVByaWNlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHAuYWxsSXRlbVByaWNlID0gYXBwLmFsbEl0ZW1QcmljZSArIGl0ZW1QcmljZVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4vLyDrk7HroZ3rkJwg67Cw7Iah7KeAIOygleuztOqwgCDsnojsnYQg65WMXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbVByaWNlID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRlbGl2ZXJ5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuYWxsSXRlbVByaWNlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBhcHAub3JkZXJEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXBwLm9yZGVyRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtUHJpY2VbaV0gPSBhcHAub3JkZXJEYXRhW2ldLnByaWNlICogYXBwLm9yZGVyRGF0YVtpXS5hbW91bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtUHJpY2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmFsbEl0ZW1QcmljZSA9IGFwcC5hbGxJdGVtUHJpY2UgKyBpdGVtUHJpY2VbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29uZmlybU9yZGVyID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuLy8g65Ox66Gd65CcIOuwsOyGoeyngOqwgCDsnojsnYQg65WMIHB1dFxyXG4gICAgICAgICAgICB2YXIgZGVsaURhdGEgPSAnJztcclxuICAgICAgICAgICAgdmFyIHJlY2VpcHREYXRhID0gJyc7XHJcbiAgICAgICAgICAgIGlmIChhcHAuZGVsaXZlcnkpIHtcclxuLy8gICAg67OA6rK97IKs7ZWtIOyXhuydjFxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGFsaURhdGEgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfrs4Dqsr3sgqztla0g7JeG7J2MJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbi8vIOuzgOqyveyCrO2VrSDsnojsnYxcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGlEYXRhID0gZGF0YS5kYWxpRGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkZWxpRGF0YS51c2VyX2lkID0gdXNlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICBPcmRlci51cGRhdGVEZWxpdmVyeShkZWxpRGF0YSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbi8vIOuTseuhneuQnCDrsLDshqHsp4DqsIAg7JeG7J2EIOuVjCBwb3N0XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkZWxpRGF0YSA9IGRhdGEuZGFsaURhdGE7XHJcbiAgICAgICAgICAgICAgICByZWNlaXB0RGF0YSA9IGRhdGEucmVjZWlwdERhdGE7XHJcbiAgICAgICAgICAgICAgICBPcmRlci5jcmVhdGVEZWxpdmVyeShkZWxpRGF0YSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgaXRlbV9pZCA9IGRhdGEuaXRlbV9pZDtcclxuICAgICAgICAgICAgT3JkZXIuZGVsZXRlT3JkZXIoaXRlbV9pZCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfSlcclxuXHJcbiAgICAuY29udHJvbGxlcignYmFza2V0Q3RybCcsIGZ1bmN0aW9uIChPcmRlciwgJHdpbmRvdywgJHN0YXRlKSB7XHJcbiAgICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAgICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgIHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6IDAsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWxldGUgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGJhc2tldF9pZCA9IGRhdGEuYmFza2V0X2lkO1xyXG4gICAgICAgICAgICBPcmRlci5kZWxldGVCYXNrZXQoYmFza2V0X2lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm1ha2VCYXNrZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgT3JkZXIucmVhZEJhc2tldCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5iYXNrZXREYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBhcHAuYmFza2V0RGF0YS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmJhc2tldERhdGFbaV0uY291bnQgPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGtpbmQgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0RGF0YTtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcHAuYmFza2V0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGtpbmRbaV0gPSBhcHAuYmFza2V0RGF0YVtpXS5raW5kLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcFtpXSA9IGFwcC5iYXNrZXREYXRhW2ldLnByaWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGtpbmQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGF0YVtpXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lkOiAwLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogMCwgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwga2luZFtpXS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuZGF0YVtpXS5hdmFpbGFibGVPcHRpb25zW2ogKyAxXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGtpbmRbaV1bal0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogTnVtYmVyKHRlbXBbaV1bal0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZW1haWxDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2VtYWlsQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgVXNlci5hY3RpdmVBY2NvdW50KCRzdGF0ZVBhcmFtcy50b2tlbikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgIH0sMjAwMCk7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgfSwyMDAwKTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdyZXNlbmRDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgYXBwID0gdGhpcztcclxuICB0aGlzLmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBVc2VyLmNoZWNrQ3JlZGVudGlhbHModGhpcy5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBVc2VyLnJlc2VuZExpbmsoYXBwLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1lbHNlIHtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCd1c2VybmFtZUN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB0aGlzLnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIFVzZXIuc2VuZFVzZXJuYW1lKGFwcC51c2VyRGF0YS5lbWFpbCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7J2066mU7J28IOyjvOyGjOqwgCDslYTri5nri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Bhc3N3b3JkQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIGFwcC5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgVXNlci5zZW5kUGFzc3dvcmQoYXBwLnJlc2V0RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7JWE7J2065SU6rCAIOyVhOuLmeuLiOuLpC4nO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVzZXRDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCAkc2NvcGUsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgIGFwcC5oaWRlID0gdHJ1ZTsgLy8gSGlkZSBmb3JtIHVudGlsIHRva2VuIGNhbiBiZSB2ZXJpZmllZCB0byBiZSB2YWxpZFxyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRva2VuIGlzIHZhbGlkIGFuZCBnZXQgdGhlIHVzZXIncyBpbmZvIGZyb20gZGF0YWJhc2UgKHJ1bnMgb24gcGFnZSBsb2FkKVxyXG4gICAgVXNlci5yZXNldFBhc3N3b3JkKCRzdGF0ZVBhcmFtcy50b2tlbikudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciB3YXMgcmV0cmlldmVkXHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIGFwcC5oaWRlID0gZmFsc2U7IC8vIFNob3cgZm9ybVxyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtc3VjY2Vzcyc7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSAn7IOI66Gc7Jq0IOu5hOuwgOuyiO2YuOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gTGV0IHVzZXIga25vdyB0aGV5IGNhbiBlbnRlciBuZXcgcGFzc3dvcmRcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lID0gZGF0YS5kYXRhLnVzZXJbMF0udXNlcm5hbWU7IC8vIFNhdmUgdXNlcm5hbWUgaW4gc2NvcGUgZm9yIHVzZSBpbiBzYXZlUGFzc3dvcmQoKSBmdW5jdGlvblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlOyAvLyBHcmFiIGVycm9yIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIHNhdmUgdXNlcidzIG5ldyBwYXNzd29yZCB0byBkYXRhYmFzZVxyXG4gICAgYXBwLnNhdmVQYXNzd29yZCA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTsgLy8gQ2xlYXIgZXJyb3JNc2cgd2hlbiB1c2VyIHN1Ym1pdHNcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7IC8vIERpc2FibGUgZm9ybSB3aGlsZSBwcm9jZXNzaW5nXHJcbiAgICAgICAgYXBwLmxvYWRpbmcgPSB0cnVlOyAvLyBFbmFibGUgbG9hZGluZyBpY29uXHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGZvcm0gaXMgdmFsaWQgYW5kIHBhc3N3b3JkcyBtYXRjaFxyXG4gICAgICAgIGlmICh2YWxpZCAmJiBjb25maXJtZWQpIHtcclxuICAgICAgICAgICAgYXBwLnJlZ0RhdGEudXNlcm5hbWUgPSAkc2NvcGUudXNlcm5hbWU7IC8vIEdyYWIgdXNlcm5hbWUgZnJvbSAkc2NvcGVcclxuXHJcbiAgICAgICAgICAgIC8vIFJ1biBmdW5jdGlvbiB0byBzYXZlIHVzZXIncyBuZXcgcGFzc3dvcmQgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgVXNlci5zYXZlUGFzc3dvcmQoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHBhc3N3b3JkIHdhcyBzYXZlZCB0byBkYXRhYmFzZVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7ZmU66m07Jy866GcIOydtOuPme2VqeuLiOuLpC4nOyAvLyBHcmFiIHN1Y2Nlc3MgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0IGFuZCByZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UgYWZ0ZXIgMjAwMCBtaWxsaXNlY29uZHMgKDIgc2Vjb25kcylcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSBmb3JtIHRvIGFsbG93IHVzZXIgdG8gcmVzdWJtaXRcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTsgLy8gR3JhYiBlcnJvciBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3RcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LWRhbmdlcic7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSBmb3JtIHRvIGFsbG93IHVzZXIgdG8gcmVzdWJtaXRcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIExldCB1c2VyIGtub3cgZm9ybSBpcyBub3QgdmFsaWRcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ3JlZ0N0cmwnLCBmdW5jdGlvbiAoICRodHRwLCAkbG9jYXRpb24sICR0aW1lb3V0LCBVc2VyLCBBdXRoLCAkc3RhdGUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgICAgdGhpcy5yZWdTdGVwMSA9IGZ1bmN0aW9uKHJlZ0RhdGEpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmKCFyZWdEYXRhKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZigocmVnRGF0YS50ZXJtcykgJiYgKHJlZ0RhdGEucHJpdmFjeSkpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gJ+yVveq0gOyXkCDshLHqs7XsoIHsnLzroZwg64+Z7J2Y7ZWY7IWo7Iq164uI64ukLic7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAucmVnaXN0ZXJTdGVwMicpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAvLyDtmozsm5DqsIDsnoVcclxuICAgICAgdGhpcy5yZWdTdGVwMiA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAucmVnaXN0ZXJTdGVwMycpO1xyXG4gICAgICAgIC8vIGlmKHZhbGlkICYmIGNvbmZpcm1lZCl7XHJcbiAgICAgICAgLy8gICBVc2VyLmNyZWF0ZShhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAvLyAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIC8vICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAvLyAgICAgICBBdXRoLmxvZ2luKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIC8vICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIC8vICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgIC8vICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgIC8vICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICBpZihkYXRhLmRhdGEuZXhwaXJlZCl7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgLy8gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgLy8gICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAgfWVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gSWYgZXJyb3Igb2NjdXJzLCByZW1vdmUgZGlzYWJsZSBsb2NrIGZyb20gZm9ybVxyXG4gICAgICAgIC8vICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBib290c3RyYXAgbG9hZGluZyBpY29uXHJcbiAgICAgICAgLy8gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gRGlzcGxheSBlcnJvciBpZiB2YWxpZCByZXR1cm5zIGZhbHNlXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8g7ZqM7JuQ6rCA7J6FXHJcbiAgICAgICAgdGhpcy5yZWdTdGVwMyA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgaWYodmFsaWQgJiYgY29uZmlybWVkKXtcclxuICAgICAgICAgICAgVXNlci5jcmVhdGUoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBBdXRoLmxvZ2luKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLmV4cGlyZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgYm9vdHN0cmFwIGxvYWRpbmcgaWNvblxyXG4gICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gRGlzcGxheSBlcnJvciBpZiB2YWxpZCByZXR1cm5zIGZhbHNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnYWRtaW5IZWFkZXInLCBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaXJlY3RpdmVzL2FkbWluL2FkbWluSGVhZGVyLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHBDdHJsID0gY3RybHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnYWRtaW5MYWJvcmF0b3J5JywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9hZG1pbi9hZG1pbkxhYm9yYXRvcnkudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcEN0cmwgPSBjdHJscztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5kaXJlY3RpdmUoJ2ZpbGVNb2RlbCcsZnVuY3Rpb24oJHBhcnNlKXtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgIHZhciBwYXJzZWRGaWxlID0gJHBhcnNlKGF0dHJzLmZpbGVNb2RlbCk7XHJcbiAgICAgIHZhciBwYXJzZWRmaWxlU2V0dGVyID0gcGFyc2VkRmlsZS5hc3NpZ247XHJcblxyXG4gICAgICBlbGVtZW50LmJpbmQoJ2NoYW5nZScsZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHBhcnNlZGZpbGVTZXR0ZXIoc2NvcGUsIGVsZW1lbnRbMF0uZmlsZXNbMF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5kaXJlY3RpdmUoJ21hdGNoJyxmdW5jdGlvbigpe1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgY29udHJvbGxlcjpmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAkc2NvcGUuZG9Db25maXJtID0gZnVuY3Rpb24odmFsdWVzKXtcclxuXHJcbiAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGVsZSl7XHJcbiAgICAgICAgICBpZigkc2NvcGUuY29uZmlybSA9PSBlbGUpe1xyXG4gICAgICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfSxcclxuXHJcbiAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgIGF0dHJzLiRvYnNlcnZlKCdtYXRjaCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUubWF0Y2hlcyA9IEpTT04ucGFyc2UoYXR0cnMubWF0Y2gpO1xyXG4gICAgICAgIHNjb3BlLmRvQ29uZmlybShzY29wZS5tYXRjaGVzKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzY29wZS4kd2F0Y2goJ2NvbmZpcm0nLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBKU09OLnBhcnNlKGF0dHJzLm1hdGNoKTtcclxuICAgICAgICBzY29wZS5kb0NvbmZpcm0oc2NvcGUubWF0Y2hlcyk7XHJcblxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdjb21wYW55SW50cm9kdWNlJywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9tYWluL2NvbXBhbnlJbnRyb2R1Y2UudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcEN0cmwgPSBjdHJscztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdjb21wYW55UHJpdmFjeUluZm9ybWF0aW9uJywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIE5hbWVDdHJsID0gdGhpcztcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvY29tcGFueUluZm9ybWF0aW9uL2NvbXBhbnlQcml2YWN5SW5mb3JtYXRpb24udHBsLmh0bWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdwcml2YWN5JywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9tYWluL3ByaXZhY3kudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcEN0cmwgPSBjdHJscztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCd0ZXJtcycsIFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwID0gdGhpcztcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2RpcmVjdGl2ZXMvbWFpbi90ZXJtcy50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwQ3RybCA9IGN0cmxzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ3VzZXJRdWlja01lbnUnLCBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgTmFtZUN0cmwgPSB0aGlzO1xyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9jb21wYW55SW5mb3JtYXRpb24vdXNlclF1aWNrTWVudS50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2NvbnRlbnQnLCBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2NvbnRlbnQudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcEN0cmwgPSBjdHJscztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdmb290ZXInLCBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9kaXJlY3RpdmVzL21haW4vZm9vdGVyLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHBDdHJsID0gY3RybHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmRpcmVjdGl2ZSgnaGVhZGVyJywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvZGlyZWN0aXZlcy9tYWluL2hlYWRlci50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwQ3RybCA9IGN0cmxzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG4iXX0=
