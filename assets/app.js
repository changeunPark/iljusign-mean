angular.module("app",["ui.router","ui.bootstrap","menuControllers","userControllers","mainControllers","emailControllers","managementControllers","contentControllers","uiCropper"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),a.hashPrefix(""),a.html5Mode(!0),e.state("app",{url:"/",views:{header:{templateUrl:"/menues/header.html"},content:{templateUrl:"/main/form.html"},"menu@app":{templateUrl:"/menues/mainMenu.html",controller:"mainMenuCtrl",controllerAs:"mainMenu"},"account@app":{templateUrl:"/main/account.html"},"contents@app":{templateUrl:"/main/home.html"},footer:{templateUrl:"/company/footer.html"}}}).state("app.category",{url:"category=:type",views:{"subMenu@app":{templateUrl:"/menues/subMenu.html"},"contents@app":{templateUrl:"/categoryes/items/form.html",controller:"getTypeItemsCtrl",controllerAs:"getTypeItems"}}}).state("app.category.show",{url:"/item:item_id",views:{"contents@app":{templateUrl:"/categoryes/items/item.html",controller:"getTypeItemCtrl",controllerAs:"getTypeItem"}}}).state("app.board",{url:"board",views:{"contents@app":{templateUrl:"/categoryes/board/form.html"}}}).state("app.management",{url:"management",views:{"content@":{templateUrl:"/management/form.html"},"menu@app.management":{templateUrl:"/management/menu.html"}}}).state("app.management.items",{url:"/items",views:{"contents@app.management":{templateUrl:"/management/partial/items.html",controller:"itemsCtrl",controllerAs:"items"}}}).state("app.management.items.show",{url:":item_id",views:{"contents@app.management":{templateUrl:"/management/partial/item.html",controller:"itemCtrl",controllerAs:"item"}}}).state("app.management.bannerUpload",{url:"/bannerUpload",views:{"contents@app.management":{templateUrl:"/management/partial/bannerUpload.html"}}}).state("app.management.orderStatus",{url:"/orderStatus",views:{"contents@app.management":{templateUrl:"/management/partial/orderStatus.html"}}}).state("app.management.members",{url:"/members",views:{"contents@app.management":{templateUrl:"/management/partial/members.html"}}}).state("registerStep1",{url:"/register/step1",controller:"regCtrl",controllerAs:"register",templateUrl:"/users/register/registerStep1.html",authenticated:!1}).state("registerStep2",{url:"/register/step2",controller:"regCtrl",controllerAs:"register",templateUrl:"/users/register/registerStep2.html",authenticated:!1}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.intro",{url:"intro",views:{"content@":{templateUrl:"/company/intro.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"content@":{templateUrl:"/company/terms.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"content@":{templateUrl:"/company/privacy.html",authenticated:!1}}})}]),app.run(["$rootScope","User","$state",function(e,t,a){e.$on("$stateChangeStart",function(e,t,a,n,r,s){}),e.$on("$stateChangeError",function(e,t,n,r,s,i){a.go("app")})}]),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,n){var r=e(n.fileModel),s=r.assign;a.bind("change",function(){t.$apply(function(){s(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("adminServices",[]).factory("Admin",["$http",function(e){return adminFactory={},adminFactory.createType=function(t){return e.post("/api/item_type",t)},adminFactory.readType=function(){return e.get("/api/item_type")},adminFactory.readAristCrop=function(t){return e.post("/api/createCropImage",t)},adminFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},adminFactory.createItem=function(t){return e.post("/api/item",t)},adminFactory.readItems=function(){return e.get("/api/item")},adminFactory.readItem=function(t){return e.get("/api/item/"+t)},adminFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return console.log(e),t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("menuServices",[]).factory("Menu",["$http",function(e){return menuFactory={},menuFactory.readMainMenu=function(){return e.get("/api/menu")},menuFactory.readSubMenu=function(t){return e.get("/api/menu/"+t)},menuFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.getPermission=function(){return e.get("/api/permission")},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,n){var r=this;t.activeAccount(e.token).then(function(e){r.successMsg=!1,r.errorMsg=!1,e.data.success?(r.disabled=!0,r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){n.go("app")},2e3)):(r.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){n.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(n){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(n){n.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=n.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var n=this;this.sendUsername=function(r,s){n.errorMsg=!1,n.disabled=!0,s?e.sendUsername(n.userData.email).then(function(e){e.data.success?(n.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(n.disabled=!1,n.errorMsg=e.data.message)}):(n.disabled=!1,n.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var n=this;n.sendPassword=function(r,s){n.errorMsg=!1,n.disabled=!0,s?e.sendPassword(n.resetData).then(function(e){e.data.success?(n.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(n.disabled=!1,n.errorMsg=e.data.message)}):(n.disabled=!1,n.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,n,r){var s=this;s.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(s.hide=!1,t.alert="alert alert-success",s.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",s.errorMsg=e.data.message)}),s.savePassword=function(e,i,o){s.errorMsg=!1,s.successMsg=!1,s.disabled=!0,s.loading=!0,i&&o?(s.regData.username=t.username,a.savePassword(s.regData).then(function(e){s.loading=!1,e.data.success?(t.alert="alert alert-success",s.successMsg=e.data.message+"...메인 화면으로 이동합니다.",n(function(){r.go("app")},2e3)):(t.alert="alert alert-danger",s.disabled=!1,s.errorMsg=e.data.message)})):(t.alert="alert alert-danger",s.loading=!1,s.disabled=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,n,r,s){var i=this;this.regStep1=function(e){i.errorMsg=!1,e?e.terms&&e.privacy?(i.successMsg="약관에 성공적으로 동의하셨습니다.",i.disabled=!0,s.go("registerStep2")):(i.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",i.disabled=!1):i.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,o){i.errorMsg=!1,i.disabled=!0,t&&o?n.create(i.regData).then(function(e){e.data.success?(i.disabled=!0,i.successMsg=e.data.message,r.login(i.regData).then(function(e){e.data.success?(i.disabled=!0,i.successMsg=e.data.message,a(function(){s.go("app")},1e3)):e.data.expired?(i.expired=!0,i.disabled=!0,i.errorMsg=e.data.message):(i.disabled=!1,i.errorMsg=e.data.message)})):(i.disabled=!1,i.errorMsg=e.data.message)}):(i.disabled=!1,i.loading=!1,i.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("contentControllers",[]).controller("getTypeItemsCtrl",["$stateParams","$http",function(e,t){var a=this,n=e.type;t.get("/api/item_type/"+n).then(function(e){e.data.success&&(a.itemsData=e.data.result,console.log(a.itemsData))})}]).controller("getTypeItemCtrl",["Admin","$stateParams","$scope",function(e,t,a){var n=this,r=t.item_id;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},e.readType().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].type1_description+"-"+t[i].type2_description,id:t[i].item_type_id}}else n.errorMsg=e.data.message}),e.readItem(r).then(function(e){e.data.success&&(n.itemData=e.data.result,console.log(n.itemData),n.data.selectedOption={id:n.itemData.type})})}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,n,r,s,i,o,l,d){var c=this;c.loadme=!1,s.$on("LOAD",function(){s.loading=!0}),s.$on("UNLOAD",function(){s.loading=!1}),r.$on("$stateChangeStart",function(){u?e.isLoggedIn()?(c.isLoggedIn=!0,c.loadme=!0,e.getUser().then(function(e){c.user=e.data,c.loadme=!0,l.getPermission().then(function(e){e.data.success?"admin"===e.data.permission?(c.authorized=!0,c.loadme=!0):"artist"===e.data.permission?(c.permission=!0,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0)})})):(c.user=!1,c.isLoggedIn=!1,c.loadme=!0):u()});var u=function(){if(e.isLoggedIn()){c.checkSession=!0;var t=o(function(){var e=i.localStorage.getItem("token");if(null===e)o.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(i.atob(a))};var a=self.parseJwt(e),n=Math.floor(Date.now()/1e3);a.exp-n<=5&&(m("expired"),o.cancel(t))}},2e3)}};u(),c.renewSession=function(){c.choiceMade=!0,l.renewSession(c.user.username).then(function(e){e.data.success?(d.setToken(e.data.token),u(),p("expired")):(c.ModalBody=e.data.message,p("expired"))})},c.endSession=function(){c.choiceMade=!0,p("expired"),t(function(){m("logout")},500)};var m=function(a){c.choiceMade=!1,c.modalHeader=void 0,c.modalBody=void 0,c.hideButton=!1,"expired"===a?(c.modalHeader="Timeout Warning",c.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(c.hideButton=!0,c.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),c.isLoggedIn=!1,p("logout"),n.reload()},1e3)):"login"===a&&$("#login").modal({backdrop:"static"}),t(function(){c.choiceMade||p("logout")},2e3)},p=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e&&$("#login").modal("hide")};this.doLogin=function(a,r){c.errorMsg=!1,c.expired=!1,c.disabled=!0,r?e.login(c.loginData).then(function(e){e.data.success?(c.disabled=!0,c.successMsg=e.data.message,t(function(){p("login"),c.loginData=null,c.isLoggedIn=!0,u(),n.reload()},1e3)):e.data.expired?(c.expired=!0,c.disabled=!0,c.errorMsg=e.data.message):(c.disabled=!1,c.errorMsg=e.data.message)}):(c.disabled=!1,c.loading=!1,c.errorMsg="올바른 정보를 입력해주세요.")},c.login=function(){c.successMsg=!1,c.errorMsg=!1,c.disabled=!1,m("login")},c.logout=function(){m("logout")},c.resend=function(){p("login"),t(function(){n.go("resend"),c.expired=!1},500)},c.resetusername=function(){p("login"),t(function(){n.go("resetusername")},500)},c.resetpassword=function(){p("login"),t(function(){n.go("resetpassword")},500)}}]),angular.module("managementControllers",["adminServices","menuServices"]).controller("itemTypeCtrl",["Admin","$state",function(e,t){var a=this;e.readType().then(function(e){e.data.success?a.typeDatas=e.data.result:a.errorMsg=e.data.message})}]).controller("createTypeCtrl",["Admin","$state","$http","Menu",function(e,t,a,n){var r=this;r.kindValue=[],r.findList=[],r.type_tiny=[],r.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},n.readMainMenu().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)r.data.availableOptions[i+1]={name:t[i].name,id:t[i].category_id}}else r.errorMsg=e.data.message}),this.createType=function(a){r.errorMsg=!1,r.typeData={category:r.data.selectedOption.id,type1:a.code1,type1_description:a.type1,type2:a.code2,type2_description:a.type2,kind:r.type_tiny.toString()},e.createType(r.typeData).then(function(e){e.data.success?(r.success=e.data.message,t.reload()):r.errorMsg=e.data.message})},this.addLine=function(){r.findList.push({find:r.kindValue}),r.type_tiny.push(r.kindValue)}}]).controller("itemsCtrl",["Admin","$state",function(e,t){var a=this;e.readItems().then(function(e){e.data.success&&(a.itemsData=e.data.result)})}]).controller("itemCtrl",["Admin","$stateParams","$scope",function(e,t,a){var n=this,r=t.item_id;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},e.readType().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)n.data.availableOptions[i+1]={name:t[i].type1_description+"-"+t[i].type2_description,id:t[i].item_type_id}}else n.errorMsg=e.data.message}),e.readItem(r).then(function(e){e.data.success&&(n.itemData=e.data.result,n.data.selectedOption={id:n.itemData.type})})}]).controller("itemUploadCtrl",["$http","$timeout","$scope","Admin","$state","$window",function(e,t,a,n,r,s){function o(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var l=this;l.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},n.readType().then(function(e){if(e.data.success){var t=e.data.result;for(i=0;i<t.length;i++)l.data.availableOptions[i+1]={name:t[i].type1_description+"-"+t[i].type2_description,id:t[i].item_type_id}}else l.errorMsg=e.data.message}),this.file={},this.mainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var n=e[0],r=new FileReader;r.readAsDataURL(n),r.onload=function(e){t(function(){a.$emit("UNLOAD"),l.mainThumbnail={},l.mainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),l.mainThumbnail={}},this.readPhoto=function(){a.$emit("LOAD"),l.mainPhoto=!1,l.disabled=!0;var t=new FormData;t.append("myfile",l.file.upload),e.post("/api/createPhotoImage/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),l.mainPhoto=!0,l.disabled=!1,l.mainImagePath=e.data.item_path,l.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),l.disabled=!1,l.file={})})},this.explainPhotoChanged=function(e){if(a.$emit("LOAD"),e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var n=e[0],r=new FileReader;r.readAsDataURL(n),r.onload=function(e){t(function(){a.$emit("UNLOAD"),l.explainThumbnail={},l.explainThumbnail.dataUrl=e.target.result})}}else a.$emit("UNLOAD"),l.explainThumbnail={}},this.readPhotoExplain=function(){a.$emit("LOAD"),l.explainPhoto=!1,l.disabled=!0;var t=new FormData;t.append("myfile",l.file.upload),e.post("/api/createPhotoExplain/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),l.explainPhoto=!0,l.disabled=!1,l.explainImagePath=e.data.item_path,l.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),l.disabled=!1,l.file={})})},l.myImage="",l.myCroppedImage="";var d=function(e){a.$emit("LOAD");var t=e.currentTarget.files[0],n=new FileReader;n.onload=function(e){a.$apply(function(t){t.$emit("UNLOAD"),l.myImage=e.target.result})},n.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",d),this.readCropImage=function(e){if(a.$emit("LOAD"),l.thumbnail=!1,l.disabled=!0,""===e.base64Url||null===e.base64Url||void 0===e.base64Url)l.disabled=!1;else{a.$emit("UNLOAD");var t=o(a.myCroppedImage);n.readAristCrop(t).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),l.thumbnail=!0,l.disabled=!1,l.thumbnailPath=e.data.filePath):(a.$emit("UNLOAD"),l.disabled=!1)})}},this.createPhoto=function(e){a.$emit("LOAD"),void 0===e||null===e||""===e?(s.alert("빈칸을 모두 입력해주세요."),l.disabled=!1,a.$emit("UNLOAD")):"0"===l.data.selectedOption.id?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("상품 타입을 선택해주세요.")):void 0===l.mainImagePath||null===l.mainImagePath||""===l.mainImagePath?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("상품 이미지를 입력해주세요.")):void 0===e.title||null===e.title||""===e.title?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("상품 제목를 입력해주세요.")):void 0===l.explainImagePath||null===l.explainImagePath||""===l.explainImagePath?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("상품 설명 이미지를 업로드해주세요.")):void 0===l.thumbnailPath||null===l.thumbnailPath||""===l.thumbnailPath?(a.$emit("UNLOAD"),l.disabled=!1,s.alert("썸네일 이미지를 업로드해주세요.")):(l.uploadData={title:e.title,price:e.price,type:l.data.selectedOption.id,thumbnail:l.thumbnailPath,explain:l.explainImagePath,image:l.mainImagePath},n.createItem(l.uploadData).then(function(e){e.data.success?(a.$emit("UNLOAD"),l.disabled=!0,s.alert(e.data.message),r.reload()):(a.$emit("UNLOAD"),l.disabled=!1,s.alert(e.data.message))}))}}]),angular.module("menuControllers",["menuServices"]).controller("mainMenuCtrl",["Menu",function(e){var t=this;e.readMainMenu().then(function(e){e.data.success?t.mainMenues=e.data.result:t.errorMsg=e.data.message})}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiZGlyZWN0aXZlcy9maWxlTW9kZWwuanMiLCJkaXJlY3RpdmVzL21hdGNoUGFzc3dvcmQuanMiLCJzZXJ2aWNlcy9hZG1pblNlcnZpY2UuanMiLCJzZXJ2aWNlcy9hdXRoU2VydmljZXMuanMiLCJzZXJ2aWNlcy9tZW51U2VydmljZXMuanMiLCJzZXJ2aWNlcy91c2VyU2VydmljZXMuanMiLCJjb250b3JvbGxlcnMvdXNlci9lbWFpbEN0cmwuanMiLCJjb250b3JvbGxlcnMvdXNlci91c2VyQ3RybC5qcyIsImNvbnRvcm9sbGVycy9tYWluL2NvbnRlbnRDb250cm9sbGVycy5qcyIsImNvbnRvcm9sbGVycy9tYWluL21haW5Db250cm9sbGVycy5qcyIsImNvbnRvcm9sbGVycy9tYWluL21hbmFnZW1lbnRDb250cm9sbGVycy5qcyIsImNvbnRvcm9sbGVycy9tYWluL21lbnVDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCJhcHAiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwiaGFzaFByZWZpeCIsImh0bWw1TW9kZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJoZWFkZXIiLCJ0ZW1wbGF0ZVVybCIsImNvbnRlbnQiLCJtZW51QGFwcCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJhY2NvdW50QGFwcCIsImNvbnRlbnRzQGFwcCIsImZvb3RlciIsInN1Yk1lbnVAYXBwIiwiY29udGVudEAiLCJtZW51QGFwcC5tYW5hZ2VtZW50IiwiY29udGVudHNAYXBwLm1hbmFnZW1lbnQiLCJhdXRoZW50aWNhdGVkIiwicnVuIiwiJHJvb3RTY29wZSIsIlVzZXIiLCIkc3RhdGUiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJvcHRpb25zIiwiZXJyb3IiLCJnbyIsImRpcmVjdGl2ZSIsIiRwYXJzZSIsInJlc3RyaWN0IiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwicGFyc2VkRmlsZSIsImZpbGVNb2RlbCIsInBhcnNlZGZpbGVTZXR0ZXIiLCJhc3NpZ24iLCJiaW5kIiwiJGFwcGx5IiwiZmlsZXMiLCIkc2NvcGUiLCJkb0NvbmZpcm0iLCJ2YWx1ZXMiLCJjb25maXJtZWQiLCJmb3JFYWNoIiwiZWxlIiwiY29uZmlybSIsIiRvYnNlcnZlIiwibWF0Y2hlcyIsIkpTT04iLCJwYXJzZSIsIm1hdGNoIiwiJHdhdGNoIiwiZmFjdG9yeSIsIiRodHRwIiwiYWRtaW5GYWN0b3J5IiwiY3JlYXRlVHlwZSIsInR5cGVEYXRhIiwicG9zdCIsInJlYWRUeXBlIiwiZ2V0IiwicmVhZEFyaXN0Q3JvcCIsImJsb2IiLCJjcmVhdGVBcmlzdFBob3RvIiwicGhvdG9EYXRhIiwiY3JlYXRlSXRlbSIsIml0ZW1EYXRhIiwicmVhZEl0ZW1zIiwicmVhZEl0ZW0iLCJpdGVtX2lkIiwiQXV0aFRva2VuIiwiYXV0aEZhY3RvcnkiLCJnZXRVc2VyIiwiZ2V0VG9rZW4iLCIkcSIsInJlamVjdCIsIm1lc3NhZ2UiLCJsb2dpbiIsImxvZ2luRGF0YSIsInRoZW4iLCJkYXRhIiwiY29uc29sZSIsImxvZyIsInNldFRva2VuIiwidG9rZW4iLCJpc0xvZ2dlZEluIiwibG9nb3V0IiwiJHdpbmRvdyIsImF1dGhUb2tlbkZhY3RvcnkiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImdldEl0ZW0iLCJhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeSIsInJlcXVlc3QiLCJoZWFkZXJzIiwibWVudUZhY3RvcnkiLCJyZWFkTWFpbk1lbnUiLCJyZWFkU3ViTWVudSIsIm1haW5NZW51VHlwZSIsInVzZXJGYWN0b3J5IiwiZ2V0UGVybWlzc2lvbiIsImNyZWF0ZSIsInJlZ0RhdGEiLCJhY3RpdmVBY2NvdW50IiwicHV0IiwiY2hlY2tDcmVkZW50aWFscyIsInJlc2VuZExpbmsiLCJ1c2VybmFtZSIsInNlbmRVc2VybmFtZSIsInVzZXJEYXRhIiwic2VuZFBhc3N3b3JkIiwicmVzZXREYXRhIiwicmVzZXRQYXNzd29yZCIsInNhdmVQYXNzd29yZCIsInJlbmV3U2Vzc2lvbiIsIiRzdGF0ZVBhcmFtcyIsIiR0aW1lb3V0IiwidGhpcyIsInN1Y2Nlc3NNc2ciLCJlcnJvck1zZyIsInN1Y2Nlc3MiLCJkaXNhYmxlZCIsInZhbGlkIiwiZW1haWwiLCJoaWRlIiwiYWxlcnQiLCJ1c2VyIiwibG9hZGluZyIsIiRsb2NhdGlvbiIsIkF1dGgiLCJyZWdTdGVwMSIsInJlZ1N0ZXAyIiwiZXhwaXJlZCIsInR5cGUiLCJpdGVtc0RhdGEiLCJyZXN1bHQiLCJBZG1pbiIsImF2YWlsYWJsZU9wdGlvbnMiLCJpZCIsIm5hbWUiLCJzZWxlY3RlZE9wdGlvbiIsImkiLCJsZW5ndGgiLCJ0eXBlMV9kZXNjcmlwdGlvbiIsInR5cGUyX2Rlc2NyaXB0aW9uIiwiaXRlbV90eXBlX2lkIiwiJGludGVydmFsIiwibG9hZG1lIiwiY2hlY2tTZXNzaW9uIiwicGVybWlzc2lvbiIsImF1dGhvcml6ZWQiLCJpbnRlcnZhbCIsImNhbmNlbCIsInNlbGYiLCJwYXJzZUp3dCIsImJhc2U2NFVybCIsInNwbGl0IiwiYmFzZTY0IiwicmVwbGFjZSIsImF0b2IiLCJleHBpcmVUaW1lIiwidGltZVN0YW1wIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsImV4cCIsInNob3dNb2RhbCIsImNob2ljZU1hZGUiLCJoaWRlTW9kYWwiLCJNb2RhbEJvZHkiLCJlbmRTZXNzaW9uIiwib3B0aW9uIiwibW9kYWxIZWFkZXIiLCJ1bmRlZmluZWQiLCJtb2RhbEJvZHkiLCJoaWRlQnV0dG9uIiwiJCIsIm1vZGFsIiwiYmFja2Ryb3AiLCJyZWxvYWQiLCJkb0xvZ2luIiwicmVzZW5kIiwicmVzZXR1c2VybmFtZSIsInJlc2V0cGFzc3dvcmQiLCJ0eXBlRGF0YXMiLCJNZW51Iiwia2luZFZhbHVlIiwiZmluZExpc3QiLCJ0eXBlX3RpbnkiLCJjYXRlZ29yeV9pZCIsImNhdGVnb3J5IiwidHlwZTEiLCJjb2RlMSIsInR5cGUyIiwiY29kZTIiLCJraW5kIiwidG9TdHJpbmciLCJhZGRMaW5lIiwiZmluZCIsImRlY29kZUJhc2U2NEltYWdlIiwiZGF0YVN0cmluZyIsIkVycm9yIiwiZmlsZSIsIm1haW5QaG90b0NoYW5nZWQiLCIkZW1pdCIsImZpbGVSZWFkZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsIm9ubG9hZCIsImUiLCJtYWluVGh1bWJuYWlsIiwiZGF0YVVybCIsInRhcmdldCIsInJlYWRQaG90byIsIm1haW5QaG90byIsImZkIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ1cGxvYWQiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJDb250ZW50LVR5cGUiLCJtYWluSW1hZ2VQYXRoIiwiaXRlbV9wYXRoIiwiZXhwbGFpblBob3RvQ2hhbmdlZCIsImV4cGxhaW5UaHVtYm5haWwiLCJyZWFkUGhvdG9FeHBsYWluIiwiZXhwbGFpblBob3RvIiwiZXhwbGFpbkltYWdlUGF0aCIsIm15SW1hZ2UiLCJteUNyb3BwZWRJbWFnZSIsImhhbmRsZUZpbGVTZWxlY3QiLCJldnQiLCJjdXJyZW50VGFyZ2V0IiwicmVhZGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib24iLCJyZWFkQ3JvcEltYWdlIiwidGh1bWJuYWlsIiwidGh1bWJuYWlsUGF0aCIsImZpbGVQYXRoIiwiY3JlYXRlUGhvdG8iLCJ1cGxvYWREYXRhIiwidGl0bGUiLCJwcmljZSIsImV4cGxhaW4iLCJpbWFnZSIsIm1haW5NZW51ZXMiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE9BQ0EsWUFDQSxlQUNBLGtCQUNBLGtCQUNBLGtCQUNBLG1CQUNBLHdCQUNBLHFCQUNBLGNBQ0FDLFFBQUEsZ0JBQUEsU0FBQUMsR0FDQUEsRUFBQUMsYUFB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RUFuSixFQUFBbUksU0FBQXhDLEVBQUFBLEtBQUFKIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLFtcclxuICAgICd1aS5yb3V0ZXInLFxyXG4gICAgJ3VpLmJvb3RzdHJhcCcsXHJcbiAgICAnbWVudUNvbnRyb2xsZXJzJyxcclxuICAgICd1c2VyQ29udHJvbGxlcnMnLFxyXG4gICAgJ21haW5Db250cm9sbGVycycsXHJcbiAgICAnZW1haWxDb250cm9sbGVycycsXHJcbiAgICAnbWFuYWdlbWVudENvbnRyb2xsZXJzJyxcclxuICAgICdjb250ZW50Q29udHJvbGxlcnMnLFxyXG4gICAgJ3VpQ3JvcHBlcidcclxuXSkuY29uZmlnKGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIpe1xyXG4gICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhJbnRlcmNlcHRvcnMnKTtcclxufSk7XHJcbiIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcbmFwcC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcbiRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJycpO1xyXG4kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcblxyXG4gJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAuc3RhdGUoJ2FwcCcsIHtcclxuICAgICAgICAgICAgIHVybDogJy8nLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnaGVhZGVyJzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tZW51ZXMvaGVhZGVyLmh0bWwnXHJcbiAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICdjb250ZW50Jzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ21lbnVAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21lbnVlcy9tYWluTWVudS5odG1sJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbk1lbnVDdHJsJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdtYWluTWVudSdcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2FjY291bnRAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vYWNjb3VudC5odG1sJ1xyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vaG9tZS5odG1sJ1xyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAnZm9vdGVyJzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L2Zvb3Rlci5odG1sJ1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5jYXRlZ29yeScsIHtcclxuICAgICAgICAgICAgICB1cmw6ICdjYXRlZ29yeT06dHlwZScsXHJcbiAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdzdWJNZW51QGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWVudWVzL3N1Yk1lbnUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xsZXI6ICdzdWJNZW51Q3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xsZXJBczogJ3N1Yk1lbnUnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY2F0ZWdvcnllcy9pdGVtcy9mb3JtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2V0VHlwZUl0ZW1zQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dldFR5cGVJdGVtcydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5jYXRlZ29yeS5zaG93Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9pdGVtOml0ZW1faWQnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2l0ZW1zL2l0ZW0uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZXRUeXBlSXRlbUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnZXRUeXBlSXRlbSdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jYXRlZ29yeWVzL2JvYXJkL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50JyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnbWFuYWdlbWVudCcsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudEAnIDoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9mb3JtLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgJ21lbnVAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L21lbnUuaHRtbCdcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAubWFuYWdlbWVudC5pdGVtcycsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy9pdGVtcycsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvaXRlbXMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaXRlbXNDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2l0ZW1zJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50Lml0ZW1zLnNob3cnLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICc6aXRlbV9pZCcsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvaXRlbS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdpdGVtQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdpdGVtJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50LmJhbm5lclVwbG9hZCcsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy9iYW5uZXJVcGxvYWQnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5tYW5hZ2VtZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9wYXJ0aWFsL2Jhbm5lclVwbG9hZC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50Lm9yZGVyU3RhdHVzJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL29yZGVyU3RhdHVzJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAubWFuYWdlbWVudCc6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvcGFydGlhbC9vcmRlclN0YXR1cy5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5tYW5hZ2VtZW50Lm1lbWJlcnMnLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvbWVtYmVycycsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLm1hbmFnZW1lbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYW5hZ2VtZW50L3BhcnRpYWwvbWVtYmVycy5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlclN0ZXAxJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyL3N0ZXAxJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3JlZ2lzdGVyL3JlZ2lzdGVyU3RlcDEuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3JlZ2lzdGVyU3RlcDInLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvcmVnaXN0ZXIvc3RlcDInLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVnQ3RybCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJyxcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVnaXN0ZXIvcmVnaXN0ZXJTdGVwMi5odG1sJyxcclxuICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvdXNlcm5hbWUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJuYW1lQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndXNlcm5hbWUnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L3Bhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwYXNzd29yZEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Bhc3N3b3JkJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNldCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXQvOnRva2VuJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC9uZXdwYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZXRDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZXNldCdcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FjdGl2YXRlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9hY3RpdmF0ZS86dG9rZW4nLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL2FjdGl2YXRpb24vYWN0aXZhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2VtYWlsQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZW1haWwnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2VuZCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZW5kJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9hY3RpdmF0aW9uL3Jlc2VuZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZW5kQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVzZW5kJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmludHJvJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ2ludHJvJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NvbXBhbnkvaW50cm8uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAudGVybXMnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAndGVybXMnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS90ZXJtcy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5wcml2YWN5JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ3ByaXZhY3knLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9wcml2YWN5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG59KTtcblxuYXBwLnJ1bihmdW5jdGlvbigkcm9vdFNjb3BlLCBVc2VyLCAkc3RhdGUpe1xuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCAgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIG9wdGlvbnMpe1xuICB9KTtcbiAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcil7XG4gICAgJHN0YXRlLmdvKCdhcHAnKTtcbiAgfSk7XG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uZGlyZWN0aXZlKCdmaWxlTW9kZWwnLGZ1bmN0aW9uKCRwYXJzZSl7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG4gICAgICB2YXIgcGFyc2VkRmlsZSA9ICRwYXJzZShhdHRycy5maWxlTW9kZWwpO1xyXG4gICAgICB2YXIgcGFyc2VkZmlsZVNldHRlciA9IHBhcnNlZEZpbGUuYXNzaWduO1xyXG5cclxuICAgICAgZWxlbWVudC5iaW5kKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICBwYXJzZWRmaWxlU2V0dGVyKHNjb3BlLCBlbGVtZW50WzBdLmZpbGVzWzBdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uZGlyZWN0aXZlKCdtYXRjaCcsZnVuY3Rpb24oKXtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIGNvbnRyb2xsZXI6ZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgJHNjb3BlLmRvQ29uZmlybSA9IGZ1bmN0aW9uKHZhbHVlcyl7XHJcblxyXG4gICAgICAgICRzY29wZS5jb25maXJtZWQgPSBmYWxzZTtcclxuICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihlbGUpe1xyXG4gICAgICAgICAgaWYoJHNjb3BlLmNvbmZpcm0gPT0gZWxlKXtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IHRydWU7XHJcbiAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jb25maXJtZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgbGluazpmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG4gICAgICBhdHRycy4kb2JzZXJ2ZSgnbWF0Y2gnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBKU09OLnBhcnNlKGF0dHJzLm1hdGNoKTtcclxuICAgICAgICBzY29wZS5kb0NvbmZpcm0oc2NvcGUubWF0Y2hlcyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGUuJHdhdGNoKCdjb25maXJtJywgZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS5tYXRjaGVzID0gSlNPTi5wYXJzZShhdHRycy5tYXRjaCk7XHJcbiAgICAgICAgc2NvcGUuZG9Db25maXJtKHNjb3BlLm1hdGNoZXMpO1xyXG5cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhZG1pblNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0FkbWluJywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGFkbWluRmFjdG9yeSA9IHt9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkuY3JlYXRlVHlwZSA9IGZ1bmN0aW9uKHR5cGVEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2l0ZW1fdHlwZScsIHR5cGVEYXRhKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkucmVhZFR5cGUgPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9pdGVtX3R5cGUnKTtcclxuICB9O1xyXG4gIGFkbWluRmFjdG9yeS5yZWFkQXJpc3RDcm9wID0gZnVuY3Rpb24oYmxvYil7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jcmVhdGVDcm9wSW1hZ2UnLCBibG9iKTtcclxuICB9O1xyXG4gIC8vIEFydGlzdC5jcmVhdGVQaG90byhwaG90b0RhdGEpXHJcbiAgYWRtaW5GYWN0b3J5LmNyZWF0ZUFyaXN0UGhvdG8gPSBmdW5jdGlvbihwaG90b0RhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYXJ0aXN0UHJvZmlsZXMnLCBwaG90b0RhdGEpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5jcmVhdGVJdGVtID0gZnVuY3Rpb24oaXRlbURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvaXRlbScsIGl0ZW1EYXRhKTtcclxuICB9O1xyXG5cclxuICBhZG1pbkZhY3RvcnkucmVhZEl0ZW1zID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvaXRlbScpO1xyXG4gIH07XHJcblxyXG4gIGFkbWluRmFjdG9yeS5yZWFkSXRlbSA9IGZ1bmN0aW9uKGl0ZW1faWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9pdGVtLycraXRlbV9pZCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGFkbWluRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhdXRoU2VydmljZXMnLFtdKVxyXG5cclxuLmZhY3RvcnkoJ0F1dGgnLCBmdW5jdGlvbigkaHR0cCwgQXV0aFRva2VuKXtcclxuICAgIHZhciBhdXRoRmFjdG9yeSA9IHt9O1xyXG4vLyBBdXRoLmdldFVzZXIoKTtcclxuICAgIGF1dGhGYWN0b3J5LmdldFVzZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgICBpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSl7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbWUnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkcS5yZWplY3Qoe21lc3NhZ2U6J1VzZXIgaGFzIG5vIHRva2VuJ30pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5sb2dpbihsb2dpbkRhdGEpO1xyXG4gICAgYXV0aEZhY3RvcnkubG9naW4gPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hdXRoZW50aWNhdGUnLCBsb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgQXV0aFRva2VuLnNldFRva2VuKGRhdGEuZGF0YS50b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbi8vIEF1dGguaXNMb2dnZWRJbigpO1xyXG4gICAgYXV0aEZhY3RvcnkuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKXtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmxvZ291dCgpO1xyXG4gICAgYXV0aEZhY3RvcnkubG9nb3V0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgQXV0aFRva2VuLnNldFRva2VuKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGF1dGhGYWN0b3J5O1xyXG59KVxyXG5cclxuLmZhY3RvcnkoJ0F1dGhUb2tlbicsIGZ1bmN0aW9uKCR3aW5kb3cpe1xyXG4gIHZhciBhdXRoVG9rZW5GYWN0b3J5ID0ge307XHJcblxyXG4gIC8vIEF1dGhUb2tlbi5zZXRUb2tlbih0b2tlbik7XHJcbiAgYXV0aFRva2VuRmFjdG9yeS5zZXRUb2tlbiA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIGlmKHRva2VuKXtcclxuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4vLyBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuICBhdXRoVG9rZW5GYWN0b3J5LmdldFRva2VuID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG4gIH07XHJcbiAgcmV0dXJuIGF1dGhUb2tlbkZhY3Rvcnk7XHJcbn0pXHJcblxyXG4uZmFjdG9yeSgnQXV0aEludGVyY2VwdG9ycycsIGZ1bmN0aW9uKEF1dGhUb2tlbil7XHJcbiAgdmFyIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5ID0ge307XHJcblxyXG4gIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5LnJlcXVlc3QgPSBmdW5jdGlvbihjb25maWcpe1xyXG4gICAgdmFyIHRva2VuID0gQXV0aFRva2VuLmdldFRva2VuKCk7XHJcblxyXG4gICAgaWYodG9rZW4pIGNvbmZpZy5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddID0gdG9rZW47XHJcblxyXG4gICAgcmV0dXJuIGNvbmZpZztcclxuICB9O1xyXG4gIHJldHVybiBhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtZW51U2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnTWVudScsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBtZW51RmFjdG9yeSA9IHt9O1xyXG4gIG1lbnVGYWN0b3J5LnJlYWRNYWluTWVudSA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lbnUnKTtcclxuICB9O1xyXG4gIG1lbnVGYWN0b3J5LnJlYWRTdWJNZW51ID0gIGZ1bmN0aW9uKG1haW5NZW51VHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL21lbnUvJyttYWluTWVudVR5cGUpO1xyXG4gIH07XHJcbiAgcmV0dXJuIG1lbnVGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdVc2VyJywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIHVzZXJGYWN0b3J5ID0ge307XHJcblxyXG4gIHVzZXJGYWN0b3J5LmdldFBlcm1pc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wZXJtaXNzaW9uJyk7XHJcbiAgfTtcclxuLy8gVXNlci5jcmVhdGUocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuYWN0aXZlQWNjb3VudCh0b2tlbik7XHJcbiAgdXNlckZhY3RvcnkuYWN0aXZlQWNjb3VudCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYWN0aXZhdGUvJyt0b2tlbik7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuY2hlY2tDcmVkZW50aWFscyhsb2dpbkRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcmVzZW5kJywgbG9naW5EYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNlbmRMaW5rKHVzZXJuYW1lKVxyXG4gIHVzZXJGYWN0b3J5LnJlc2VuZExpbmsgPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Jlc2VuZCcsIHVzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kVXNlcm5hbWUodXNlckRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVzZXR1c2VybmFtZS8nK3VzZXJEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kUGFzc3dvcmQocmVzZXREYXRhKTtcclxuICB1c2VyRmFjdG9yeS5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9yZXNldHBhc3N3b3JkJywgcmVzZXREYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNldFBhc3N3b3JkKHRva2VuKTtcclxuICB1c2VyRmFjdG9yeS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZXNldHBhc3N3b3JkLycrdG9rZW4pO1xyXG4gIH07XHJcblxyXG5cclxuLy8gVXNlci5zYXZlUGFzc3dvcmQocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc2F2ZXBhc3N3b3JkJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vICBVc2VyLnJlbmV3U2Vzc2lvbih1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZW5ld1Nlc3Npb24gPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3JlbmV3VG9rZW4vJysgdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG5cclxuICByZXR1cm4gdXNlckZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZW1haWxDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2VtYWlsQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgVXNlci5hY3RpdmVBY2NvdW50KCRzdGF0ZVBhcmFtcy50b2tlbikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgIH0sMjAwMCk7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgfSwyMDAwKTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdyZXNlbmRDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgYXBwID0gdGhpcztcclxuICB0aGlzLmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBVc2VyLmNoZWNrQ3JlZGVudGlhbHModGhpcy5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBVc2VyLnJlc2VuZExpbmsoYXBwLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1lbHNlIHtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCd1c2VybmFtZUN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB0aGlzLnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIFVzZXIuc2VuZFVzZXJuYW1lKGFwcC51c2VyRGF0YS5lbWFpbCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7J2066mU7J28IOyjvOyGjOqwgCDslYTri5nri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Bhc3N3b3JkQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIGFwcC5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgVXNlci5zZW5kUGFzc3dvcmQoYXBwLnJlc2V0RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7JWE7J2065SU6rCAIOyVhOuLmeuLiOuLpC4nO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVzZXRDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCAkc2NvcGUsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgIGFwcC5oaWRlID0gdHJ1ZTsgLy8gSGlkZSBmb3JtIHVudGlsIHRva2VuIGNhbiBiZSB2ZXJpZmllZCB0byBiZSB2YWxpZFxyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRva2VuIGlzIHZhbGlkIGFuZCBnZXQgdGhlIHVzZXIncyBpbmZvIGZyb20gZGF0YWJhc2UgKHJ1bnMgb24gcGFnZSBsb2FkKVxyXG4gICAgVXNlci5yZXNldFBhc3N3b3JkKCRzdGF0ZVBhcmFtcy50b2tlbikudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciB3YXMgcmV0cmlldmVkXHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIGFwcC5oaWRlID0gZmFsc2U7IC8vIFNob3cgZm9ybVxyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtc3VjY2Vzcyc7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSAn7IOI66Gc7Jq0IOu5hOuwgOuyiO2YuOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gTGV0IHVzZXIga25vdyB0aGV5IGNhbiBlbnRlciBuZXcgcGFzc3dvcmRcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lID0gZGF0YS5kYXRhLnVzZXJbMF0udXNlcm5hbWU7IC8vIFNhdmUgdXNlcm5hbWUgaW4gc2NvcGUgZm9yIHVzZSBpbiBzYXZlUGFzc3dvcmQoKSBmdW5jdGlvblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlOyAvLyBHcmFiIGVycm9yIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIHNhdmUgdXNlcidzIG5ldyBwYXNzd29yZCB0byBkYXRhYmFzZVxyXG4gICAgYXBwLnNhdmVQYXNzd29yZCA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTsgLy8gQ2xlYXIgZXJyb3JNc2cgd2hlbiB1c2VyIHN1Ym1pdHNcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7IC8vIERpc2FibGUgZm9ybSB3aGlsZSBwcm9jZXNzaW5nXHJcbiAgICAgICAgYXBwLmxvYWRpbmcgPSB0cnVlOyAvLyBFbmFibGUgbG9hZGluZyBpY29uXHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGZvcm0gaXMgdmFsaWQgYW5kIHBhc3N3b3JkcyBtYXRjaFxyXG4gICAgICAgIGlmICh2YWxpZCAmJiBjb25maXJtZWQpIHtcclxuICAgICAgICAgICAgYXBwLnJlZ0RhdGEudXNlcm5hbWUgPSAkc2NvcGUudXNlcm5hbWU7IC8vIEdyYWIgdXNlcm5hbWUgZnJvbSAkc2NvcGVcclxuXHJcbiAgICAgICAgICAgIC8vIFJ1biBmdW5jdGlvbiB0byBzYXZlIHVzZXIncyBuZXcgcGFzc3dvcmQgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgVXNlci5zYXZlUGFzc3dvcmQoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHBhc3N3b3JkIHdhcyBzYXZlZCB0byBkYXRhYmFzZVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7ZmU66m07Jy866GcIOydtOuPme2VqeuLiOuLpC4nOyAvLyBHcmFiIHN1Y2Nlc3MgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0IGFuZCByZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UgYWZ0ZXIgMjAwMCBtaWxsaXNlY29uZHMgKDIgc2Vjb25kcylcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSBmb3JtIHRvIGFsbG93IHVzZXIgdG8gcmVzdWJtaXRcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTsgLy8gR3JhYiBlcnJvciBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3RcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LWRhbmdlcic7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSBmb3JtIHRvIGFsbG93IHVzZXIgdG8gcmVzdWJtaXRcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIExldCB1c2VyIGtub3cgZm9ybSBpcyBub3QgdmFsaWRcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ3JlZ0N0cmwnLCBmdW5jdGlvbiAoICRodHRwLCAkbG9jYXRpb24sICR0aW1lb3V0LCBVc2VyLCBBdXRoLCAkc3RhdGUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgICAgdGhpcy5yZWdTdGVwMSA9IGZ1bmN0aW9uKHJlZ0RhdGEpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmKCFyZWdEYXRhKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZigocmVnRGF0YS50ZXJtcykgJiYgKHJlZ0RhdGEucHJpdmFjeSkpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gJ+yVveq0gOyXkCDshLHqs7XsoIHsnLzroZwg64+Z7J2Y7ZWY7IWo7Iq164uI64ukLic7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdyZWdpc3RlclN0ZXAyJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yVveq0gOyXkCDrj5nsnZjtlbTslbzrp4wg7ZqM7JuQ6rCA7J6F7J2EIOynhO2Wie2VoCDsiJgg7J6I7Iq164uI64ukLic7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9O1xyXG5cclxuICAgIC8vIO2ajOybkOqwgOyehVxyXG4gICAgICB0aGlzLnJlZ1N0ZXAyID0gZnVuY3Rpb24ocmVnRGF0YSwgdmFsaWQsIGNvbmZpcm1lZCl7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYodmFsaWQgJiYgY29uZmlybWVkKXtcclxuICAgICAgICAgIFVzZXIuY3JlYXRlKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgIEF1dGgubG9naW4oYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgICAgICAgIH0sMTAwMCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5leHBpcmVkKXtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXhwaXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIElmIGVycm9yIG9jY3VycywgcmVtb3ZlIGRpc2FibGUgbG9jayBmcm9tIGZvcm1cclxuICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgYm9vdHN0cmFwIGxvYWRpbmcgaWNvblxyXG4gICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIERpc3BsYXkgZXJyb3IgaWYgdmFsaWQgcmV0dXJucyBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdjb250ZW50Q29udHJvbGxlcnMnLFtdKVxyXG4uY29udHJvbGxlcignZ2V0VHlwZUl0ZW1zQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsICRodHRwKSB7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIHR5cGUgPSAkc3RhdGVQYXJhbXMudHlwZTtcclxuICAkaHR0cC5nZXQoJy9hcGkvaXRlbV90eXBlLycrdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLml0ZW1zRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgIGNvbnNvbGUubG9nKGFwcC5pdGVtc0RhdGEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcblxyXG4uY29udHJvbGxlcignZ2V0VHlwZUl0ZW1DdHJsJywgZnVuY3Rpb24oQWRtaW4sICRzdGF0ZVBhcmFtcywgJHNjb3BlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgaXRlbV9pZCA9ICRzdGF0ZVBhcmFtcy5pdGVtX2lkO1xyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4vLyDsubTthYzqs6Drpqwg7YOA7J6FIOqwgOyguOyYpOq4sFxyXG4gICAgQWRtaW4ucmVhZFR5cGUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgbmFtZTogdHlwZVtpXS50eXBlMV9kZXNjcmlwdGlvbisnLScrdHlwZVtpXS50eXBlMl9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgaWQ6IHR5cGVbaV0uaXRlbV90eXBlX2lkXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gIEFkbWluLnJlYWRJdGVtKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5pdGVtRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgIGNvbnNvbGUubG9nKGFwcC5pdGVtRGF0YSk7XHJcbiAgICAgIGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uID0ge1xyXG4gICAgICAgIGlkIDogYXBwLml0ZW1EYXRhLnR5cGVcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ21haW5Db250cm9sbGVycycsWydhdXRoU2VydmljZXMnLCAndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdtYWluQ3RybCcsIGZ1bmN0aW9uKEF1dGgsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzdGF0ZSwgJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93LCAkaW50ZXJ2YWwsIFVzZXIsIEF1dGhUb2tlbil7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gIGFwcC5sb2FkbWUgPSBmYWxzZTtcclxuXHJcbiAgJHNjb3BlLiRvbignTE9BRCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAkc2NvcGUubG9hZGluZyA9IHRydWU7XHJcbiAgfSk7XHJcblxyXG4gICRzY29wZS4kb24oJ1VOTE9BRCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xyXG4gIH0pO1xyXG5cclxuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbigpe1xyXG4gICAgaWYoIWNoZWNrU2Vzc2lvbikge1xyXG4gICAgICBjaGVja1Nlc3Npb24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmKEF1dGguaXNMb2dnZWRJbigpKXtcclxuICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgQXV0aC5nZXRVc2VyKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGFwcC51c2VyID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICBVc2VyLmdldFBlcm1pc3Npb24oKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnBlcm1pc3Npb24gPT09ICdhZG1pbicpe1xyXG4gICAgICAgICAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmKGRhdGEuZGF0YS5wZXJtaXNzaW9uID09PSAnYXJ0aXN0Jyl7XHJcbiAgICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICBhcHAuYXV0aG9yaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAudXNlciA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdmFyIGNoZWNrU2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICBpZihBdXRoLmlzTG9nZ2VkSW4oKSl7XHJcbiAgICAgIGFwcC5jaGVja1Nlc3Npb24gPSB0cnVlO1xyXG4gICAgICB2YXIgaW50ZXJ2YWwgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgdG9rZW4gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG4gICAgICAgIGlmKHRva2VuID09PSBudWxsKXtcclxuICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLnBhcnNlSnd0ID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgICAgICAgICB2YXIgYmFzZTY0VXJsID0gdG9rZW4uc3BsaXQoJy4nKVsxXTtcclxuICAgICAgICAgICAgdmFyIGJhc2U2NCA9IGJhc2U2NFVybC5yZXBsYWNlKCctJywnKycpLnJlcGxhY2UoJ18nLCAnLycpO1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSgkd2luZG93LmF0b2IoYmFzZTY0KSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdmFyIGV4cGlyZVRpbWUgPSBzZWxmLnBhcnNlSnd0KHRva2VuKTtcclxuICAgICAgICAgIHZhciB0aW1lU3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcclxuICAgICAgICAgIHZhciB0aW1lQ2hlY2sgPSBleHBpcmVUaW1lLmV4cCAtIHRpbWVTdGFtcDtcclxuXHJcbiAgICAgICAgICBpZih0aW1lQ2hlY2sgPD0gNSl7XHJcbiAgICAgICAgICAgIHNob3dNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGludGVydmFsKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAyMDAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjaGVja1Nlc3Npb24oKTtcclxuXHJcblxyXG4gICAgYXBwLnJlbmV3U2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgICAgVXNlci5yZW5ld1Nlc3Npb24oYXBwLnVzZXIudXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgQXV0aFRva2VuLnNldFRva2VuKGRhdGEuZGF0YS50b2tlbik7XHJcbiAgICAgICAgICBjaGVja1Nlc3Npb24oKTtcclxuICAgICAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgIGFwcC5Nb2RhbEJvZHkgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGFwcC5lbmRTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBzaG93TW9kYWwoJ2xvZ291dCcpO1xyXG4gICAgICB9LDUwMCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgdmFyIHNob3dNb2RhbCA9IGZ1bmN0aW9uKG9wdGlvbil7XHJcbiAgICBhcHAuY2hvaWNlTWFkZSA9IGZhbHNlO1xyXG4gICAgYXBwLm1vZGFsSGVhZGVyID0gdW5kZWZpbmVkO1xyXG4gICAgYXBwLm1vZGFsQm9keSA9IHVuZGVmaW5lZDtcclxuICAgIGFwcC5oaWRlQnV0dG9uID0gZmFsc2U7XHJcbi8vIGNoZWNrIHRva2VuIGV4cGlyZWRcclxuICAgIGlmKG9wdGlvbiA9PT0gICdleHBpcmVkJyApe1xyXG4gICAgICBhcHAubW9kYWxIZWFkZXIgPSAnVGltZW91dCBXYXJuaW5nJztcclxuICAgICAgYXBwLm1vZGFsQm9keSA9ICdZb3VyIHNlc3Npb24gd2lsbCBleHBpcmVkIGluIDUgbWludXRlcy4gV291bGQgeW91IGxpa2UgdG8gcmVuZXcgeW91ciBzZXNzaW9uPyc7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ291dCcpe1xyXG4vLyBsb2dvdXRcclxuICAgICAgYXBwLmhpZGVCdXR0b24gPSB0cnVlO1xyXG4gICAgICBhcHAubW9kYWxIZWFkZXIgPSAn66Gc6re47JWE7JuDJztcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgIGhpZGVNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dpbicpe1xyXG4vLyBMb2dpblxyXG4gICAgICAkKFwiI2xvZ2luXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoIWFwcC5jaG9pY2VNYWRlKXtcclxuICAgICAgICAgIGhpZGVNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAyMDAwKTtcclxuXHJcbiAgfTtcclxuXHJcbiAgdmFyIGhpZGVNb2RhbCA9IGZ1bmN0aW9uKG9wdGlvbil7XHJcblxyXG4gICAgaWYob3B0aW9uID09PSAnZXhwaXJlZCcpe1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dvdXQnKXtcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9naW4nKXtcclxuICAgICAgJChcIiNsb2dpblwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuLy8g66Gc6re47J24XHJcbiAgdGhpcy5kb0xvZ2luID0gZnVuY3Rpb24obG9naW5EYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5leHBpcmVkID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgQXV0aC5sb2dpbihhcHAubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgICAgICAgICBhcHAubG9naW5EYXRhID0gbnVsbDtcclxuICAgICAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG4gICAgICAgICAgICBjaGVja1Nlc3Npb24oKTtcclxuICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuZXhwaXJlZCl7XHJcbiAgICAgICAgICAgIGFwcC5leHBpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgYm9vdHN0cmFwIGxvYWRpbmcgaWNvblxyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gRGlzcGxheSBlcnJvciBpZiB2YWxpZCByZXR1cm5zIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gIH07XHJcblxyXG5cclxuICBhcHAubG9naW4gPSBmdW5jdGlvbigpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBzaG93TW9kYWwoJ2xvZ2luJyk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLmxvZ291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBzaG93TW9kYWwoJ2xvZ291dCcpO1xyXG4gIH07XHJcblxyXG4gIGFwcC5yZXNlbmQgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNlbmQnKTtcclxuICAgICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgIH0sNTAwKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZXR1c2VybmFtZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2V0dXNlcm5hbWUnKTtcclxuICAgIH0sNTAwKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZXRwYXNzd29yZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2V0cGFzc3dvcmQnKTtcclxuICAgIH0sNTAwKTtcclxuXHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWFuYWdlbWVudENvbnRyb2xsZXJzJyxbJ2FkbWluU2VydmljZXMnLCAnbWVudVNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdpdGVtVHlwZUN0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBBZG1pbi5yZWFkVHlwZSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC50eXBlRGF0YXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignY3JlYXRlVHlwZUN0cmwnLCBmdW5jdGlvbihBZG1pbiwgJHN0YXRlLCAkaHR0cCwgTWVudSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgYXBwLmtpbmRWYWx1ZSA9IFtdO1xyXG4gIGFwcC5maW5kTGlzdCA9IFtdO1xyXG4gIGFwcC50eXBlX3RpbnkgPSBbXTtcclxuXHJcblxyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICBNZW51LnJlYWRNYWluTWVudSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgZm9yKGk9MDsgaTx0eXBlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgbmFtZTogdHlwZVtpXS5uYW1lLFxyXG4gICAgICAgICAgIGlkOiB0eXBlW2ldLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgIH07XHJcbiAgICAgICB9XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgIH1cclxuICAgfSk7XHJcblxyXG5cclxuXHJcbiAgdGhpcy5jcmVhdGVUeXBlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC50eXBlRGF0YSA9IHtcclxuICAgICAgY2F0ZWdvcnk6IGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkLFxyXG4gICAgICB0eXBlMTogZGF0YS5jb2RlMSxcclxuICAgICAgdHlwZTFfZGVzY3JpcHRpb246IGRhdGEudHlwZTEsXHJcbiAgICAgIHR5cGUyOiBkYXRhLmNvZGUyLFxyXG4gICAgICB0eXBlMl9kZXNjcmlwdGlvbjogZGF0YS50eXBlMixcclxuICAgICAga2luZDogYXBwLnR5cGVfdGlueS50b1N0cmluZygpXHJcbiAgICB9O1xyXG5cclxuICAgIEFkbWluLmNyZWF0ZVR5cGUoYXBwLnR5cGVEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLnN1Y2Nlc3MgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuICB9O1xyXG4gIHRoaXMuYWRkTGluZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBhcHAuZmluZExpc3QucHVzaCh7ZmluZDogYXBwLmtpbmRWYWx1ZX0pO1xyXG4gICAgYXBwLnR5cGVfdGlueS5wdXNoKGFwcC5raW5kVmFsdWUpO1xyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignaXRlbXNDdHJsJywgZnVuY3Rpb24oQWRtaW4sICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgQWRtaW4ucmVhZEl0ZW1zKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLml0ZW1zRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxufSlcclxuXHJcblxyXG5cclxuLmNvbnRyb2xsZXIoJ2l0ZW1DdHJsJywgZnVuY3Rpb24oQWRtaW4sICRzdGF0ZVBhcmFtcywgJHNjb3BlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgaXRlbV9pZCA9ICRzdGF0ZVBhcmFtcy5pdGVtX2lkO1xyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4vLyDsubTthYzqs6Drpqwg7YOA7J6FIOqwgOyguOyYpOq4sFxyXG4gICAgQWRtaW4ucmVhZFR5cGUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgdmFyIHR5cGUgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgIGFwcC5kYXRhLmF2YWlsYWJsZU9wdGlvbnNbaSsxXSA9IHtcclxuICAgICAgICAgICAgbmFtZTogdHlwZVtpXS50eXBlMV9kZXNjcmlwdGlvbisnLScrdHlwZVtpXS50eXBlMl9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgaWQ6IHR5cGVbaV0uaXRlbV90eXBlX2lkXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gIEFkbWluLnJlYWRJdGVtKGl0ZW1faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5pdGVtRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgIGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uID0ge1xyXG4gICAgICAgIGlkIDogYXBwLml0ZW1EYXRhLnR5cGVcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi5jb250cm9sbGVyKCdpdGVtVXBsb2FkQ3RybCcsIGZ1bmN0aW9uICgkaHR0cCwgJHRpbWVvdXQsICRzY29wZSwgQWRtaW4sICRzdGF0ZSwgJHdpbmRvdykge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbi8vIOy5tO2FjOqzoOumrCDtg4DsnoUg6rCA7KC47Jik6riwXHJcbiAgICAgQWRtaW4ucmVhZFR5cGUoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICB2YXIgdHlwZSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgIGZvcihpPTA7IGk8dHlwZS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICBhcHAuZGF0YS5hdmFpbGFibGVPcHRpb25zW2krMV0gPSB7XHJcbiAgICAgICAgICAgICBuYW1lOiB0eXBlW2ldLnR5cGUxX2Rlc2NyaXB0aW9uKyctJyt0eXBlW2ldLnR5cGUyX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgaWQ6IHR5cGVbaV0uaXRlbV90eXBlX2lkXHJcbiAgICAgICAgICAgfTtcclxuICAgICAgICAgfVxyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcblxyXG4vLyDtjIzsnbzsnZgg6rK966Gc66eMIOyggOyepe2VmOq4sCDrqZTsnbgg7J2066+47KeAIOunjOuTpOq4sFxyXG4gICAgdGhpcy5maWxlID0ge307XHJcbi8vIOuplOyduCDsnpHtkojsnbTrr7jsp4Ag7JeF66Gc65OcIOuQmOyXiOuKlOyngCDrs7Tsl6zso7zquLBcclxuICAgIHRoaXMubWFpblBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuXHJcbi8vIOuplOyduCDsnpHtkogg7J2066+47KeAIOyXheuhnOuTnO2VtOyEnCDqsr3roZwg7KCA7J6lXHJcbiAgICB0aGlzLnJlYWRQaG90byA9IGZ1bmN0aW9uKCl7XHJcbi8vIOuplOyduCDsnbTrr7jsp4Ag7JeF66Gc65OcIOyXrOu2gFxyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgYXBwLm1haW5QaG90byA9IGZhbHNlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9hcGkvY3JlYXRlUGhvdG9JbWFnZS8nLCBmZCx7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICBhcHAubWFpblBob3RvID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLm1haW5JbWFnZVBhdGggPSBkYXRhLmRhdGEuaXRlbV9wYXRoO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbi8vIOyeke2SiCDshKTrqoUg7J2066+47KeAIOyXheuhnOuTnCDrkJjsl4jripTsp4Ag67O07Jes7KO86riwXHJcbiAgICB0aGlzLmV4cGxhaW5QaG90b0NoYW5nZWQgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5leHBsYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgYXBwLmV4cGxhaW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcblxyXG4vLyDsnpHtkogg7ISk66qFICDsnbTrr7jsp4Ag7JeF66Gc65Oc7ZW07IScIOqyveuhnCDsoIDsnqVcclxuICAgIHRoaXMucmVhZFBob3RvRXhwbGFpbiA9IGZ1bmN0aW9uKCl7XHJcbi8vIOyeke2SiCDshKTrqoUgIOyXheuhnOuTnCDsl6zrtoBcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIGFwcC5leHBsYWluUGhvdG8gPSBmYWxzZTtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2NyZWF0ZVBob3RvRXhwbGFpbi8nLCBmZCx7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICBhcHAuZXhwbGFpblBob3RvID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmV4cGxhaW5JbWFnZVBhdGggPSBkYXRhLmRhdGEuaXRlbV9wYXRoO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcblxyXG4vLyDsjbjrhKTsnbwg7J2066+47KeAIOunjOuTpOq4sFxyXG4gICAgICBhcHAubXlJbWFnZT0nJztcclxuICAgICAgYXBwLm15Q3JvcHBlZEltYWdlPScnO1xyXG5cclxuICAgICAgdmFyIGhhbmRsZUZpbGVTZWxlY3Q9ZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgdmFyIGZpbGU9ZXZ0LmN1cnJlbnRUYXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLm15SW1hZ2U9ZXZ0LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICB9O1xyXG4gICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZUlucHV0JykpLm9uKCdjaGFuZ2UnLGhhbmRsZUZpbGVTZWxlY3QpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZWNvZGVCYXNlNjRJbWFnZShkYXRhU3RyaW5nKSB7XHJcbiAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGRhdGFTdHJpbmcubWF0Y2goL15kYXRhOihbQS1aYS16LStcXC9dKyk7YmFzZTY0LCguKykkLyk7XHJcblxyXG4gICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoICE9PSAzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgaW5wdXQgc3RyaW5nJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9IHtcclxuICAgICAgICAgICAgICB0eXBlIDogbWF0Y2hlc1sxXSxcclxuICAgICAgICAgICAgICBkYXRhIDogbWF0Y2hlc1syXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gZmlsZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4vLyDsjbjrhKTsnbwg7J2066+47KeAIOuhnOy7rOuUlOyKpO2BrOyXkCDsoIDsnqUg7ZuEIOyggOyepSDsnITsuZgg6rCA7KC47Jik6riwXHJcbiAgICAgICAgdGhpcy5yZWFkQ3JvcEltYWdlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICAgIGFwcC50aHVtYm5haWwgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBpZihkYXRhLmJhc2U2NFVybCA9PT0gJycgfHwgZGF0YS5iYXNlNjRVcmwgPT09IG51bGwgfHwgZGF0YS5iYXNlNjRVcmwgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IGRlY29kZUJhc2U2NEltYWdlKCRzY29wZS5teUNyb3BwZWRJbWFnZSk7XHJcbiAgICAgICAgICAgICAgICBBZG1pbi5yZWFkQXJpc3RDcm9wKGJsb2IpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC50aHVtYm5haWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC50aHVtYm5haWxQYXRoID0gZGF0YS5kYXRhLmZpbGVQYXRoO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuXHJcbi8vIOyekeqwgCDsnpHtkogg7JeF66Gc65OcXHJcbiAgICAgIHRoaXMuY3JlYXRlUGhvdG8gPSBmdW5jdGlvbih1cGxvYWREYXRhKXtcclxuICAgICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgICBpZih1cGxvYWREYXRhID09PSB1bmRlZmluZWQgfHwgdXBsb2FkRGF0YSA9PT0gbnVsbCB8fCB1cGxvYWREYXRhID09PSAnJyl7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KCfruYjsubjsnYQg66qo65GQIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZihhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZCA9PT0gJzAnKXtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+yDge2SiCDtg4DsnoXsnYQg7ISg7YOd7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC5tYWluSW1hZ2VQYXRoID09PSB1bmRlZmluZWQgfHwgYXBwLm1haW5JbWFnZVBhdGggPT09ICBudWxsIHx8IGFwcC5tYWluSW1hZ2VQYXRoID09PSAnJyl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsg4Htkogg7J2066+47KeA66W8IOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSBpZih1cGxvYWREYXRhLnRpdGxlID09PSB1bmRlZmluZWQgfHwgdXBsb2FkRGF0YS50aXRsZSA9PT0gIG51bGwgfHwgdXBsb2FkRGF0YS50aXRsZT09PSAnJyl7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsg4Htkogg7KCc66qp66W8IOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAuZXhwbGFpbkltYWdlUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC5leHBsYWluSW1hZ2VQYXRoID09PSBudWxsIHx8IGFwcC5leHBsYWluSW1hZ2VQYXRoID09PSAnJykge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn7IOB7ZKIIOyEpOuqhSDsnbTrr7jsp4Drpbwg7JeF66Gc65Oc7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC50aHVtYm5haWxQYXRoID09PSB1bmRlZmluZWQgfHwgYXBwLnRodW1ibmFpbFBhdGggPT09IG51bGwgfHwgYXBwLnRodW1ibmFpbFBhdGggPT09ICcnKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsjbjrhKTsnbwg7J2066+47KeA66W8IOyXheuhnOuTnO2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogdXBsb2FkRGF0YS50aXRsZSxcclxuICAgICAgICAgICAgICAgIHByaWNlOiB1cGxvYWREYXRhLnByaWNlLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQsXHJcbiAgICAgICAgICAgICAgICB0aHVtYm5haWw6IGFwcC50aHVtYm5haWxQYXRoLFxyXG4gICAgICAgICAgICAgICAgZXhwbGFpbjogYXBwLmV4cGxhaW5JbWFnZVBhdGgsXHJcbiAgICAgICAgICAgICAgICBpbWFnZTogYXBwLm1haW5JbWFnZVBhdGhcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIEFkbWluLmNyZWF0ZUl0ZW0oYXBwLnVwbG9hZERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWVudUNvbnRyb2xsZXJzJyxbJ21lbnVTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignbWFpbk1lbnVDdHJsJywgZnVuY3Rpb24gKE1lbnUpIHtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBNZW51LnJlYWRNYWluTWVudSgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5tYWluTWVudWVzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuLy9cclxuLy8gLmNvbnRyb2xsZXIoJ3N1Yk1lbnVDdHJsJywgZnVuY3Rpb24gKE1lbnUsICRzdGF0ZVBhcmFtcykge1xyXG4vLyAgIHZhciBhcHAgPSB0aGlzO1xyXG4vLyAgIHZhciBzdWJUeXBlID0gJHN0YXRlUGFyYW1zLnR5cGU7XHJcbi8vICAgTWVudS5yZWFkU3ViTWVudShzdWJUeXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4vLyAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4vLyAgICAgICBhcHAuc3ViTWVudWVzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuLy8gICAgIH0gZWxzZSB7XHJcbi8vICAgICB9XHJcbi8vICAgfSk7XHJcbi8vIH0pO1xyXG4iXX0=
